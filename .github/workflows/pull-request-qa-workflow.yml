name: Pull Request QA Approval

on:
  push:
    branches:
      - DW-1529-qa-approve
  issue_comment:
    types: [created]


jobs:
  testing:
    name: Check acction starts
    runs-on: ubuntu-latest

    steps:
      - name: Test
        run: echo "Hello"

  qa_deploy:
    # This job only runs for pull request comments
    if: ${{ github.event.issue.pull_request }}
    name: QA Deployment
    runs-on: ubuntu-latest

    steps:
      - run: echo ${{ context.payload.comment.body }}
      - run: echo ${{ github.context.payload.comment.body }}

      - uses: actions/github-script@v3
        id: my-script
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          result-encoding: string
          script: return "I will be string (not JSON) encoded!"
