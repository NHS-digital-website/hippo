{
    "openapi": "3.0.0",
    "info": {
        "version": "v1.2.29-beta",
        "title": "Personal Demographics Service (FHIR) API",
        "description": "## Overview\nUse this API to access the [Personal Demographics Service (PDS)](https://digital.nhs.uk/services/demographics) - the national electronic database of NHS patient details such as name, address, date of birth and NHS Number.\n\nYou can:\n* search for patients\n* get patient details\n* get patient related people\n* update patient details\n\nYou cannot currently use this API to:\n* check that you have the right NHS Number for a patient\n* create a new record for a birth\n* receive birth notifications\n* create a record for a new patient\n* register a new patient at a GP Practice - instead, use [National Health Application and Infrastructure Services (NHAIS)](https://digital.nhs.uk/services/nhais/nhais-developer-document-library)\n\nYou can access the following data:\n* NHS Number\n* name\n* gender\n* addresses and contact details (read only - update coming soon)\n* birth information\n* death information\n* registered GP\n* nominated pharmacy\n* dispensing doctor pharmacy\n* medical appliance supplier pharmacy\n* related people (read only - update coming soon)\n* consent information (coming soon)\n\nCurrently, this API can only be accessed by healthcare professionals, authenticated with an NHS smartcard or equivalent.\nUnauthenticated access and citizen access are on the roadmap.\n\n## Legal use\nThis API can only be used where there is a legal basis to do so. You should [make a PDS access request](https://digital.nhs.uk/services/demographics/access-data-on-the-personal-demographics-service) before you go too far with your development.\n\nYou must have made this request before you can go live (see \u2018Onboarding\u2019 below).\n\n## Related APIs\nThe following APIs also give access to the Personal Demographics Service:\n- [Personal Demographics Service (SMSP) API](https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service) - use this if you want to get PDS data without an authenticated end used (no smartcard required). It is, however, read-only and searches are limited to a single result.\n- [Personal Demographics Service (HL7 V3) API](https://digital.nhs.uk/developer/api-catalogue/pds-hl7) - use this if you want to use functions that are not yet available on the FHIR API.\n\nOnce our roadmap is complete, the above APIs will become redundant.\n\nThe following APIs are also related to this API:\n- [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) - use this to get full details for the organisations related to the patient, such as their registered GP or nominated pharmacy.\n\n## API status and roadmap\nThe search and retrieve endpoints are in [beta](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#api-status), meaning:\n- we might make breaking changes, but only if we can't avoid it, and we'll give advance notice\n- we can't guarantee availability or performance\n\nThe update endpoint is in [alpha](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#api-status) - expect further breaking changes.\n\nThe API is currently available for sandbox testing and integration testing, but not for production use.\n\nThe following items are on our roadmap, in rough priority order:\n- addition of data fields for consent information\n- production service - beta - update patient (target date: end of July)\n- unauthenticated access - without NHS smartcard - similar to the PDS SMSP API (target date to be confirmed - please [contact us](https://digital.nhs.uk/developer/help-and-support) for more details)\n- access for citizens using NHS Login (target date to be confirmed - please [contact us](https://digital.nhs.uk/developer/help-and-support) for more details)\n- exit beta (target date: end of September 2020, subject to availability of beta testers)\n\nWe are extremely keen to receive feedback on the API during beta,\nfor example if there are data fields missing that you think you need.\nPlease [contact us](https://digital.nhs.uk/developer/help-and-support) with any comments or suggestions.\n\n## Technology\nThis API is [RESTful](https://digital.nhs.uk/developer/guides-and-documentation/introduction-to-apis#basic-rest).\n\nIt also conforms to the [FHIR](https://digital.nhs.uk/developer/guides-and-documentation/introduction-to-apis#fhir) global standard for health care data exchange.\nSpecifically, it is aligned with [FHIR UK Core](https://digital.nhs.uk/services/fhir-uk-core), which is built on FHIR Release 4.\n\nYou don\u2019t need to know much about FHIR to use this API - FHIR APIs are just RESTful APIs that follow specific rules.\nIn particular:\n- resource names are capitalised and singular, for example the `/Patient` not `/patients`\n- array names are singular, for example `line` not `lines` for address lines\n- data items that are country-specific and thus not included in the FHIR global base resources are usually wrapped in an `extension` object\n\nThis API is available on the Internet, although access using NHS smartcards (see below)\ncurrently requires a connection to the [Health and Social Care Network (HSCN)](https://digital.nhs.uk/services/health-and-social-care-network).\n\n## Authorisation\nThis API is [user-restricted](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis),\nmeaning an end user must be present and authenticated to use it.\n\nThe end user must be:\n- a healthcare professional\n- strongly authenticated, using either an NHS smartcard or a modern alternative\n\nThe API uses Open ID Connect to authenticate the end user and OAuth 2.0 to authorise the calling system.\nIt supports the following security patterns:\n* user-restricted RESTful API - using NHS Identity - combined authentication and authorisation\n* user-restricted RESTful API - using NHS Identity - separate authentication and authorisation\n\nFor more details, see [user-restricted APIs](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nIn due course we plan to add the following:\n- access for citizens, using NHS Login\n- unattended access - without smartcard - similar to the PDS SMSP API\n\n## Environments and testing\n\n| Environment       | Base URL                                                       |\n| ----------------- | -------------------------------------------------------------- |\n| Sandbox           | `https://sandbox.api.service.nhs.uk/personal-demographics/`    |\n| Integration test  | `https://int.api.service.nhs.uk/personal-demographics/`        |\n| Production        | `https://api.service.nhs.uk/personal-demographics`                                              |\n\n### Sandbox testing\nOur [sandbox environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#sandbox-testing):\n* is for early developer testing\n* only covers a limited set of scenarios\n* is stateless, so it does not actually persist any updates\n* is open access, so does not allow you to test authorisation\n\nFor more details on sandbox testing, or to try out the sandbox using our \"Try this API\" feature, see the documentation for each endpoint.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n\n### Integration testing\nOur [integration test environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing):\n* is for formal integration testing\n* is stateful, so persists updates\n* includes authorisation with either a username/password or smartcard/PIN\n  \nFor more details on these enhancements, see the API specification. \n     \nFor read-only testing, you can either use our [PDS FHIR API test data pack](https://digital.nhs.uk/developer/api-catalogue/pds-fhir) or set up your own test data using our test data tool.\n\nTo test updating patient details, you must set up your own test data.\n\nFor more details see [integration testing with our RESTful APIs](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing-with-our-restful-apis).\n\n## Onboarding\nYou need to get your software approved by us before it can go live with this API. We call this onboarding. The onboarding process can sometimes be quite long, so it\u2019s worth planning well ahead.\n\nTo onboard for this API, follow the [Supplier Conformance Assessment List (SCAL) process.](https://digital.nhs.uk/developer/guides-and-documentation/onboarding-process#onboard-using-the-supplier-conformance-assessment-list-scal-process)\n\nWhen following the SCAL process, note that:\n* In step 1: to confirm your use case for this API, you need to [make a PDS access request](https://digital.nhs.uk/services/demographics/access-data-on-the-personal-demographics-service), even if you already access PDS via another method.\n* In step 6: when implementing your clinical risk management process, you must review and integrate the PDS FHIR API hazard log into your own risk log. You\u2019ll find it embedded within the PDS FHIR API tab in the SCAL.\n* In step 8: you need to review and complete the PDS FHIR API risk log to show that you have understood and mitigated the various risks. You might be asked to provide some evidence to prove that controls have been put in place. You\u2019ll find the risk log embedded within the PDS FHIR API tab in the SCAL. This is separate from the clinical safety hazard log mentioned above.\n* In step 9: you must conduct penetration testing to [CHECK standards](https://www.ncsc.gov.uk/information/check-penetration-testing)\n* In step 10: when you complete the Service Desk Registration Form, send it to [api.management@nhs.net](mailto:api.management@nhs.net).\n* In step 11: submit your completed SCAL to [api.management@nhs.net](mailto:api.management@nhs.net).\n* In step 14: to request production access, contact us at [api.management@nhs.net](mailto:api.management@nhs.net).\n\n## Endpoints\nTo see details for specific endpoints, select from the list on the left hand side of the page:\n* `GET /Patient` - search for patients.\n* `GET /Patient/{id}` - get patient's personal details.\n* `GET /Patient/{id}/RelatedPerson` - get patient's related people details.\n* `PATCH /Patient/{id}` - update patient's personal details.\n",
        "contact": {
            "name": "Personal Demographics Service FHIR API Support",
            "url": "https://tbc.api.nhs.net",
            "email": "api.management@nhs.net"
        }
    },
    "servers": [
        {
            "url": "https://sandbox.api.service.nhs.uk/personal-demographics",
            "description": "Sandbox environment."
        },
        {
            "url": "https://int.api.service.nhs.uk/personal-demographics",
            "description": "Integration test environment."
        },
        {
            "url": "https://api.service.nhs.uk/personal-demographics",
            "description": "Production environment (not yet available: see \"API status and roadmap\")."
        }
    ],
    "tags": [
        {
            "name": "patients"
        },
        {
            "name": "polling"
        },
        {
            "name": "relatedperson"
        }
    ],
    "paths": {
        "/Patient": {
            "parameters": [
                {
                    "in": "header",
                    "name": "NHSD-Session-URID",
                    "description": "A User Role ID (URID), also known as a User Role Profile ID (URPID), specifies the role the user is acting in.\n\nA URID belongs to a user (they are not generic) and a user may have more than one.\n\nFind out more about [User role ID](https://digital.nhs.uk/developer/user-restricted-restful-apis#user-completes-authentication-and-authorisation)\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "pattern": "^[0-9]+$",
                        "example": "555021935107"
                    }
                },
                {
                    "in": "header",
                    "name": "Authorization",
                    "description": "An OAuthV2 access token presented in Bearer format.\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "format": "^Bearer\\ [[:ascii:]]+$",
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    }
                }
            ],
            "get": {
                "summary": "Search for patient",
                "operationId": "search-patient",
                "externalDocs": {
                    "description": "ODS codes and documentation.",
                    "url": "https://fhir.nhs.uk/Id/ods-organization-code"
                },
                "description": "## Overview\nUse this endpoint to search for a patient in PDS.\n\nYou can search using a combination of:\n  * given name\n  * family name\n  * gender\n  * postcode\n  * date of birth (range)\n  * date of death (range)\n  * registered GP practice\n\n## Matching rules\nSearch parameters are not case sensitive.\n\nSpaces in postcodes do not need to match exactly, for example `LS116AD` will match `LS11 6AD`, however including spaces will also work.\n\nFor date of birth and date of death, you can search for an exact date or for a range of dates.\n\nYou can use wildcards in given name and family name. Wildcards must start with at least two characters; for example, `Br*` is valid, but `*cDougal` is not. Multiple wildcards are allowed; for example, `Br*w*` will match `Brown` and `Brower`.\nBe sure that any wildcards are encoded before sending the request. An encoded wildcard is `%2A`; for example, `Br%2A` is valid.\n\nYou can request a fuzzy search using the `_fuzzy-match` query parameter. This will:\n  * match common homophones, such as `Smith` and `Smythe`, using the [Soundex](https://en.wikipedia.org/wiki/Soundex) algorithm\n  * check for transposed names, such as `Adam Thomas` and `Thomas Adam`\n\nWildcards cannot be used with a fuzzy search.\n\n## Search parameter options\nFor a non-fuzzy search, the minimum set of search parameters is:\n* family name - but it can include wildcards\n* gender\n* date of birth - but it can be a range\n\nFor a fuzzy search, use one of the following search parameter combinations:\n* given name, family name and date of birth\n* family name, date of birth, gender and postcode\n* given name, date of birth, gender and postcode\n\nIf you include the date of death or registered GP Practice query parameters for a fuzzy search, they will not be used as part of the search. However they will affect the patient's matching score, meaning a mismatch will reduce the returned score.\n\nIf you use an invalid combination of query parameters, you will get an `INVALID_COMBINATION` error.\n\n## Historic data search\nBy default the endpoint only searches current information.\nYou can search historic information, such as previous names or addresses using the `_history` query parameter.\n\nYou cannot perform a fuzzy search on historic information.\n\n## Scoring\nEvery matched patient in the result list includes a score to indicate how closely the patient matched the search parameters.\n\nA score of 1.0 indicates an exact match. A score of less than 1.0 indicates a partial match.\n\nThe result list is sorted in descending score order - best match first.\n\nUse the `_exact-match` query parameter to return exact matches only - where the score is 1.0.\n\n## Restricted patients\nSome patients are tagged as [restricted](https://digital.nhs.uk/services/demographics/restricting-access-to-a-patients-demographic-record), or sensitive. When performing a search, restricted patients can be returned; however, location sensitive fields such as `address`, `telecom`, `contact` and `generalPractitioner` will be removed.\n\nIf `address-postcode` or `general-practitioner` are included in the search parameters, no restricted patients will be returned even if a match is identified.\n\nThe restricted flag can be found in the data under `meta/security` on the patient resource.\n\n## Number of results returned\nBy default, the endpoint will return a maximum of 50 results.\n\nIf there are more than 50 matching patients, the endpoint will return no results and the error response `TOO_MANY_MATCHES`.\nYou can further limit the number of results using the `_max-results` query parameter.\nYou can request a single, exact match using `_exact-match=true` and `_max-results=1`.\n\n## Patient data returned\nThe patient data returned on a search is not the full set of data that is returned on a retrieval. The following data is included:\n* NHS Number\n* name\n* gender\n* all birth information, apart from place of birth\n* death information\n* home address\n* contact details\n* registered GP\n* restricted patient flag\n\nThe following data is excluded:\n* place of birth\n* all addresses apart from home address\n* pharmacy details\n* communication details\n* contact preferences\n\n## Clinical safety and privacy\nThis endpoint can return multiple matching patients for a given search, including partial matches.\n\nYou should ensure that you design, build and test your software to minimise these risks:\n* an end user selects the wrong patient from the results presented, so there is a risk of clinical harm; for example due to retrieval of the wrong medical data\n* the end user has access to patients\u2019 personal data, so there is a risk to patient privacy\n\nIn particular, it is almost certainly a good idea to display search results in descending score order - best match first.\n\n## Sandbox testing\nYou can test the following scenarios in our sandbox environment:\n\n| Scenario                    | Request                                                      | Response                                   |\n| --------------------------- | ------------------------------------------------------------ | ------------------------------------------ |\n| Basic search                | `family`=`Smith`, `gender`=`female`, `birthdate`=`eq2010-10-22` | HTTP Status 200 with single search result. |\n| Wildcard search             | `family`=`Sm*`, `gender`=`female`, `birthdate`=`eq2010-10-22` | HTTP Status 200 with search result of two. |\n| Search with limited results | `family`=`Sm*`, `gender`=`female`, `birthdate`=`eq2010-10-22`, `_max-results`=`2` | HTTP Status 200 with search result of two. |\n| Search with date range      | `family`=`Smith`, `gender`=`female`, `birthdate`=`ge2010-10-21`, `birthdate`=`le2010-10-23` | HTTP Status 200 with single search result. |\n| Fuzzy search                | `family`=`Smith`, `given`=`Jane` `gender`=`female`, `birthdate`=`eq2010-10-22`, `_fuzzy-match`=`true` | HTTP Status 200 with single search result. |\n| Restricted patient search   | `family`=`Smythe`, `given`=`Janet` `gender`=`female`, `birthdate`=`eq2005-06-16` | HTTP Status 200 with single search result with restricted data omitted. |\n| Unsuccessful search         | Any other valid search query parameters                      | HTTP Status 200 with no search results     |\n| Invalid date format         | `birthdate` or `death-date` query parameters with values not in format `YYYY-MM-DD` | HTTP Status 400 with problem description   |\n| Too few search parameters   | Any invalid combination of query parameters                  | HTTP Status 400 with problem description   |\n\nYou can try out the sandbox using the \"Try this API\" feature on the right hand side of this page.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n",
                "tags": [
                    "patients"
                ],
                "parameters": [
                    {
                        "name": "_exact-match",
                        "description": "The search only returns results where the `score` field is 1.0.",
                        "example": true,
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "_history",
                        "description": "The search looks for matches in historic information such as previous names and addresses.",
                        "example": true,
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "_fuzzy-match",
                        "description": "A fuzzy search is performed, including checks for homophones and transposed names.",
                        "example": true,
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "_max-results",
                        "description": "The maximum number of results to return between 1 and 50. The default is 50.",
                        "example": 1,
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "default": 50
                        }
                    },
                    {
                        "name": "family",
                        "description": "The patient's family name (surname).\n\nMust be [URL encoded](https://en.wikipedia.org/wiki/Percent-encoding). For example a space must be represented by either `%20` or `+`.\n",
                        "examples": {
                            "simple": {
                                "value": "Smith",
                                "summary": "Will also match Smythe if `_fuzzy-match` is specified."
                            },
                            "wildcarded": {
                                "value": "Sm*t*",
                                "summary": "Wildcards must contain at least two characters, this will match Smith, Smythe"
                            }
                        },
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "given",
                        "description": "The patient's given name.\n\nMust be [URL encoded](https://en.wikipedia.org/wiki/Percent-encoding). For example a space must be represented by either `%20` or `+`.\n",
                        "example": "Jane",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "gender",
                        "description": "Gender with which the patient most strongly identifies.",
                        "example": "female",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "male",
                                "female",
                                "other",
                                "unknown"
                            ],
                            "example": "female"
                        }
                    },
                    {
                        "name": "birthdate",
                        "in": "query",
                        "description": "Date of birth in the format `<eq|ge|le>yyyy-mm-dd`. To specify a range, use `birthdate=geyyyy-mm-dd&birthdate=leyyyy-mm-dd`.",
                        "examples": {
                            "simple": {
                                "value": "eq2010-10-22",
                                "description": "Exact match date"
                            },
                            "rangege": {
                                "value": "ge2010-10-22",
                                "description": "Greater than or equals match, which matches 2010-10-22 or 2010-10-23"
                            },
                            "rangele": {
                                "value": "le2010-10-22",
                                "description": "Less than or equals match, which matches 2010-10-22 or 2010-10-21"
                            }
                        },
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "death-date",
                        "in": "query",
                        "description": "Date of death in the format `<eq|ge|le>yyyy-mm-dd`. To specify a range, use `death-date=geyyyy-mm-dd&death-date=leyyyy-mm-dd`.",
                        "examples": {
                            "simple": {
                                "value": "eq2010-10-22",
                                "description": "Exact match date"
                            },
                            "rangege": {
                                "value": "ge2010-10-22",
                                "description": "Greater than or equals match which matches 2010-10-22 or 2010-10-23"
                            },
                            "rangele": {
                                "value": "le2010-10-22",
                                "description": "Less than or equals match, which matches 2010-10-22 or 2010-10-21"
                            }
                        },
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "address-postcode",
                        "description": "The postcode of any of the patient\u2019s known addresses. White spaces in postcodes are not significant; that is, LS16AE and LS1 6AE will both match LS1 6AE.\n\nMust be [URL encoded](https://en.wikipedia.org/wiki/Percent-encoding). For example a space must be represented by either `%20` or `+`.\n",
                        "examples": {
                            "simple": {
                                "value": "LS1 6AE",
                                "summary": "Spaces not important, would match LS16AE"
                            },
                            "wildcarded": {
                                "value": "LS1*",
                                "summary": "Will match 'LS16AE', 'LS1 6AE' and 'LS1 6AB'"
                            }
                        },
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "general-practitioner",
                        "description": "The Organisation Data Service (ODS) code of the patient's registered GP practice.",
                        "example": "Y00001",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A completed search, containing zero, one, or many matching patients.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "Bundle"
                                        },
                                        "type": {
                                            "type": "string",
                                            "description": "FHIR Bundle Type.",
                                            "default": "searchset"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "description": "Time the search was performed.",
                                            "format": "datetime",
                                            "example": "2019-12-25T12:00:00+00:00"
                                        },
                                        "total": {
                                            "type": "integer",
                                            "description": "Number of resources returned in search.",
                                            "example": 1
                                        },
                                        "entry": {
                                            "type": "array",
                                            "description": "A list of matched patients. Empty if none found. The patients are ordered by match score, best first. A maximum of 50 patients will be returned.\n",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "fullUrl": {
                                                        "type": "string",
                                                        "description": "Absolute URL of the resource described in this item.",
                                                        "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009"
                                                    },
                                                    "search": {
                                                        "type": "object",
                                                        "properties": {
                                                            "score": {
                                                                "description": "Search score from 0.0 to 1.0.",
                                                                "type": "number",
                                                                "minimum": 0,
                                                                "maximum": 1,
                                                                "example": 0.75
                                                            }
                                                        }
                                                    },
                                                    "resource": {
                                                        "type": "object",
                                                        "additionalProperties": false,
                                                        "properties": {
                                                            "resourceType": {
                                                                "type": "string",
                                                                "description": "FHIR resource type.",
                                                                "default": "Patient",
                                                                "readOnly": true
                                                            },
                                                            "id": {
                                                                "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                                                "type": "string",
                                                                "pattern": "^\\d{10}$",
                                                                "example": "9000000009"
                                                            },
                                                            "identifier": {
                                                                "type": "array",
                                                                "description": "Identifier and system of identification used for this Patient.",
                                                                "readOnly": true,
                                                                "items": {
                                                                    "type": "object",
                                                                    "maxItems": 1,
                                                                    "required": [
                                                                        "value"
                                                                    ],
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "format": "url",
                                                                            "description": "System identifier belongs to.",
                                                                            "default": "https://fhir.nhs.uk/Id/nhs-number",
                                                                            "readOnly": true
                                                                        },
                                                                        "value": {
                                                                            "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                                                            "type": "string",
                                                                            "pattern": "^\\d{10}$",
                                                                            "example": "9000000009"
                                                                        },
                                                                        "extension": {
                                                                            "type": "array",
                                                                            "description": "FHIR extensions.",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "description": "Status indicating if NHS number is present and verified.",
                                                                                "readOnly": true,
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "URL of the extension definition.",
                                                                                        "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                                                        "enum": [
                                                                                            "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus"
                                                                                        ],
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueCodeableConcept": {
                                                                                        "type": "object",
                                                                                        "description": "NHS Number Verification Status Indicator.",
                                                                                        "required": [
                                                                                            "coding"
                                                                                        ],
                                                                                        "properties": {
                                                                                            "coding": {
                                                                                                "type": "array",
                                                                                                "minItems": 1,
                                                                                                "maxItems": 1,
                                                                                                "items": {
                                                                                                    "type": "object",
                                                                                                    "required": [
                                                                                                        "code"
                                                                                                    ],
                                                                                                    "properties": {
                                                                                                        "system": {
                                                                                                            "type": "string",
                                                                                                            "description": "URI of the coding system specification.",
                                                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "version": {
                                                                                                            "type": "string",
                                                                                                            "description": "Version of the coding system in use.",
                                                                                                            "example": "1.0.0"
                                                                                                        },
                                                                                                        "code": {
                                                                                                            "type": "string",
                                                                                                            "description": "Symbol in syntax defined by the system.",
                                                                                                            "example": "01"
                                                                                                        },
                                                                                                        "display": {
                                                                                                            "type": "string",
                                                                                                            "description": "Representation defined by the system.",
                                                                                                            "example": "Number present and verified"
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "meta": {
                                                                "type": "object",
                                                                "description": "Metadata about this resource.",
                                                                "properties": {
                                                                    "versionId": {
                                                                        "type": "string",
                                                                        "description": "The NHS Digital assigned version of the patient resource.",
                                                                        "readOnly": true,
                                                                        "example": "2"
                                                                    },
                                                                    "security": {
                                                                        "type": "array",
                                                                        "description": "The level of security on the patients record, which affects which fields are populated on retrieval. The possible responses are:\n* U - unrestricted. All available data will be returned.\n* R - restricted. Any sensitive data around the patient's location, so `address`, `generalPractitioner` and `telecom`, will be removed from the response.\n* V - very restricted. All patient data will be removed from the response apart from `id`, `identifier` and `meta` fields. The `gender` field will return `unknown` regardless of actual gender.\n* REDACTED - redacted. The patient record has been marked as invalid, so the data should not be used. This code will never be returned; you will receive a 404, and appropriate error response, if an invalidated patient retrieval is attempted.\n",
                                                                        "readOnly": true,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "description": "URI of the value set specification.",
                                                                                    "example": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "Code defined by the system value set.",
                                                                                    "enum": [
                                                                                        "U",
                                                                                        "R",
                                                                                        "V",
                                                                                        "REDACTED"
                                                                                    ],
                                                                                    "example": "U"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Representation defined by the system.",
                                                                                    "enum": [
                                                                                        "unrestricted",
                                                                                        "restricted",
                                                                                        "very restricted",
                                                                                        "redacted"
                                                                                    ],
                                                                                    "example": "unrestricted"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "name": {
                                                                "type": "array",
                                                                "description": "List of names associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `usual`, `nickname` and `temp` names will be returned on a search.\n\nWhen a patient tagged as `very restricted` is retrieved, all names will be removed from the response.\n",
                                                                "minItems": 1,
                                                                "items": {
                                                                    "type": "object",
                                                                    "required": [
                                                                        "use",
                                                                        "family"
                                                                    ],
                                                                    "additionalProperties": false,
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique object identifier for this name.",
                                                                            "readOnly": true,
                                                                            "example": "123"
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                                                            "enum": [
                                                                                "usual",
                                                                                "temp",
                                                                                "nickname",
                                                                                "old",
                                                                                "maiden"
                                                                            ],
                                                                            "example": "usual"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "given": {
                                                                            "type": "array",
                                                                            "maxItems": 5,
                                                                            "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                                                            "example": [
                                                                                "Jane",
                                                                                "Adele"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "maxLength": 35,
                                                                                "example": "Jane"
                                                                            }
                                                                        },
                                                                        "family": {
                                                                            "type": "string",
                                                                            "maxLength": 35,
                                                                            "description": "Family name (often called Surname).",
                                                                            "example": "Smith"
                                                                        },
                                                                        "prefix": {
                                                                            "type": "array",
                                                                            "description": "Name prefixes, titles, and prenominals.",
                                                                            "example": [
                                                                                "Mrs"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "example": "Mrs"
                                                                            }
                                                                        },
                                                                        "suffix": {
                                                                            "type": "array",
                                                                            "description": "Name suffices and postnominals.",
                                                                            "example": [
                                                                                "MBE",
                                                                                "PhD"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "example": "MBE"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "gender": {
                                                                "type": "string",
                                                                "description": "Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.\nIt is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patient\u2019s registered birth gender, or their current clinical gender.\n",
                                                                "enum": [
                                                                    "male",
                                                                    "female",
                                                                    "other",
                                                                    "unknown"
                                                                ],
                                                                "example": "female"
                                                            },
                                                            "birthDate": {
                                                                "description": "The date on which the patient was born or is officially deemed to have been born.\n\nIt is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.\n",
                                                                "example": "2010-10-22",
                                                                "type": "string",
                                                                "format": "date"
                                                            },
                                                            "multipleBirthInteger": {
                                                                "type": "integer",
                                                                "minimum": 1,
                                                                "maximum": 9,
                                                                "description": "The order in which the patient was born, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n\nThere are two other valid values; `8` meaning `Not applicable` and `9` meaning `Not known`.\n",
                                                                "example": 1
                                                            },
                                                            "deceasedDateTime": {
                                                                "description": "The date and time on which a person died or is officially deemed to have died, if applicable and known.\n\nIt is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, death date will be removed from the response.\n",
                                                                "example": "2010-10-22T00:00:00+00:00",
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "address": {
                                                                "type": "array",
                                                                "description": "List of addresses associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `home` address will be returned on a search.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.\n",
                                                                "items": {
                                                                    "type": "object",
                                                                    "description": "An address associated with the patient.",
                                                                    "required": [
                                                                        "use"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique system identifier for this address.",
                                                                            "readOnly": true,
                                                                            "example": "456"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                                                            "enum": [
                                                                                "home",
                                                                                "work",
                                                                                "temp",
                                                                                "billing"
                                                                            ],
                                                                            "example": "home"
                                                                        },
                                                                        "line": {
                                                                            "type": "array",
                                                                            "description": "All lines of the address except the postal code.",
                                                                            "maxItems": 5,
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "example": [
                                                                                "1 Trevelyan Square",
                                                                                "Boar Lane",
                                                                                "City Centre",
                                                                                "Leeds",
                                                                                "West Yorkshire"
                                                                            ]
                                                                        },
                                                                        "postalCode": {
                                                                            "type": "string",
                                                                            "description": "Postal code of the address.",
                                                                            "example": "LS1 6AE"
                                                                        },
                                                                        "extension": {
                                                                            "type": "array",
                                                                            "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "description": "Unique identifier for an address.",
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "URL of specification of the AddressKey extension.",
                                                                                        "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                                                        "enum": [
                                                                                            "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                                                        ],
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "extension": {
                                                                                        "type": "array",
                                                                                        "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                                                        "minItems": 2,
                                                                                        "maxItems": 2,
                                                                                        "items": {
                                                                                            "anyOf": [
                                                                                                {
                                                                                                    "type": "object",
                                                                                                    "description": "Coding system of the address key.",
                                                                                                    "required": [
                                                                                                        "url",
                                                                                                        "valueCoding"
                                                                                                    ],
                                                                                                    "properties": {
                                                                                                        "url": {
                                                                                                            "type": "string",
                                                                                                            "description": "Always 'type'.",
                                                                                                            "default": "type",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "valueCoding": {
                                                                                                            "type": "object",
                                                                                                            "description": "URL of specification of address key format.",
                                                                                                            "required": [
                                                                                                                "system",
                                                                                                                "code"
                                                                                                            ],
                                                                                                            "properties": {
                                                                                                                "system": {
                                                                                                                    "type": "string",
                                                                                                                    "description": "URL of Code System that describes available Address Key formats.",
                                                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                                                                    "readOnly": true
                                                                                                                },
                                                                                                                "code": {
                                                                                                                    "type": "string",
                                                                                                                    "description": "Address Key system. Always 'PAF'.",
                                                                                                                    "default": "PAF",
                                                                                                                    "example": "PAF",
                                                                                                                    "readOnly": true
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                {
                                                                                                    "type": "object",
                                                                                                    "description": "Value of the address key.",
                                                                                                    "required": [
                                                                                                        "url",
                                                                                                        "valueString"
                                                                                                    ],
                                                                                                    "properties": {
                                                                                                        "url": {
                                                                                                            "type": "string",
                                                                                                            "description": "Always 'value'.",
                                                                                                            "default": "value",
                                                                                                            "example": "value",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "valueString": {
                                                                                                            "type": "string",
                                                                                                            "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                                                            "minLength": 8,
                                                                                                            "maxLength": 8,
                                                                                                            "pattern": "^[0-9]{8}$",
                                                                                                            "example": "12345678"
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "telecom": {
                                                                "type": "array",
                                                                "description": "List of contact points for the patient; for example, phone numbers or email addresses.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.\n",
                                                                "items": {
                                                                    "description": "A contact point, such as a phone number or email address",
                                                                    "type": "object",
                                                                    "required": [
                                                                        "system",
                                                                        "value"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique object identifier for this contact point.",
                                                                            "readOnly": true,
                                                                            "example": "789"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "system": {
                                                                            "description": "Means of communication, such as phone or email.",
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "phone",
                                                                                "fax",
                                                                                "email",
                                                                                "other"
                                                                            ],
                                                                            "example": "phone"
                                                                        },
                                                                        "value": {
                                                                            "description": "Phone number, email address, or other identifier for use with contact system.",
                                                                            "type": "string",
                                                                            "example": "01632960587"
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "Location associated with communication system.",
                                                                            "enum": [
                                                                                "home",
                                                                                "work",
                                                                                "temp",
                                                                                "mobile"
                                                                            ],
                                                                            "example": "work"
                                                                        },
                                                                        "extension": {
                                                                            "type": "array",
                                                                            "maxItems": 1,
                                                                            "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "description": "Wrapped object for other contact system details.",
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Definition of other contact system extension.",
                                                                                        "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                                        "enum": [
                                                                                            "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                                        ],
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueCoding": {
                                                                                        "type": "object",
                                                                                        "description": "URL of specification of other contact systems.",
                                                                                        "properties": {
                                                                                            "system": {
                                                                                                "type": "string",
                                                                                                "description": "URL of Code System that describes available contact relationships.",
                                                                                                "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                                                "readOnly": true
                                                                                            },
                                                                                            "code": {
                                                                                                "type": "string",
                                                                                                "description": "Coded value for the other contact system in place.",
                                                                                                "example": "textphone"
                                                                                            },
                                                                                            "display": {
                                                                                                "description": "Display-friendly representation of the other contact system code.",
                                                                                                "type": "string",
                                                                                                "example": "Minicom (Textphone)"
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "contact": {
                                                                "type": "array",
                                                                "description": "A list of patient contacts. Only emergency contacts will be returned. Any other contacts will be returned on the patients `Related Person`.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.\n",
                                                                "items": {
                                                                    "title": "Schema for a patient contact.",
                                                                    "type": "object",
                                                                    "additionalProperties": false,
                                                                    "required": [
                                                                        "relationship",
                                                                        "telecom"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "example": "C123"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "relationship": {
                                                                            "type": "array",
                                                                            "description": "The contact relationship wrapper object that holds the details of the relationship to the patient.\n\nThis will only be return when an Emergency Contact number has been set on `telecom`. The only code that will be returned is `C`, which means `Emergency Contact`.\n",
                                                                            "minItems": 1,
                                                                            "maxItems": 1,
                                                                            "items": {
                                                                                "type": "object",
                                                                                "required": [
                                                                                    "coding"
                                                                                ],
                                                                                "properties": {
                                                                                    "coding": {
                                                                                        "type": "array",
                                                                                        "description": "Exactly one contact relationship.",
                                                                                        "minItems": 1,
                                                                                        "maxItems": 1,
                                                                                        "items": {
                                                                                            "type": "object",
                                                                                            "required": [
                                                                                                "code"
                                                                                            ],
                                                                                            "properties": {
                                                                                                "system": {
                                                                                                    "type": "string",
                                                                                                    "description": "URL of Code System that describes available contact relationships.",
                                                                                                    "format": "url",
                                                                                                    "default": "http://terminology.hl7.org/CodeSystem/v2-0131",
                                                                                                    "readOnly": true
                                                                                                },
                                                                                                "code": {
                                                                                                    "type": "string",
                                                                                                    "description": "Coded value for contact relationship.",
                                                                                                    "example": "C"
                                                                                                },
                                                                                                "display": {
                                                                                                    "type": "string",
                                                                                                    "description": "Display-friendly representation of the contact relationship code.",
                                                                                                    "example": "Emergency Contact"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        "telecom": {
                                                                            "type": "array",
                                                                            "description": "List of Telecom objects on the contact will only contain `system` and `value`.\n",
                                                                            "items": {
                                                                                "description": "A contact point, such as a phone number or email address",
                                                                                "type": "object",
                                                                                "required": [
                                                                                    "system",
                                                                                    "value"
                                                                                ],
                                                                                "properties": {
                                                                                    "id": {
                                                                                        "type": "string",
                                                                                        "description": "Unique object identifier for this contact point.",
                                                                                        "readOnly": true,
                                                                                        "example": "789"
                                                                                    },
                                                                                    "period": {
                                                                                        "type": "object",
                                                                                        "description": "Time period when name was, is, or will be in use.",
                                                                                        "required": [
                                                                                            "start"
                                                                                        ],
                                                                                        "properties": {
                                                                                            "start": {
                                                                                                "type": "string",
                                                                                                "format": "date",
                                                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                                "example": "2020-01-01"
                                                                                            },
                                                                                            "end": {
                                                                                                "type": "string",
                                                                                                "format": "date",
                                                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                                "example": "2021-12-31"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                    "system": {
                                                                                        "description": "Means of communication, such as phone or email.",
                                                                                        "type": "string",
                                                                                        "enum": [
                                                                                            "phone",
                                                                                            "fax",
                                                                                            "email",
                                                                                            "other"
                                                                                        ],
                                                                                        "example": "phone"
                                                                                    },
                                                                                    "value": {
                                                                                        "description": "Phone number, email address, or other identifier for use with contact system.",
                                                                                        "type": "string",
                                                                                        "example": "01632960587"
                                                                                    },
                                                                                    "use": {
                                                                                        "type": "string",
                                                                                        "description": "Location associated with communication system.",
                                                                                        "enum": [
                                                                                            "home",
                                                                                            "work",
                                                                                            "temp",
                                                                                            "mobile"
                                                                                        ],
                                                                                        "example": "work"
                                                                                    },
                                                                                    "extension": {
                                                                                        "type": "array",
                                                                                        "maxItems": 1,
                                                                                        "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                                                        "items": {
                                                                                            "type": "object",
                                                                                            "description": "Wrapped object for other contact system details.",
                                                                                            "properties": {
                                                                                                "url": {
                                                                                                    "type": "string",
                                                                                                    "description": "Definition of other contact system extension.",
                                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                                                    "enum": [
                                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                                                    ],
                                                                                                    "readOnly": true
                                                                                                },
                                                                                                "valueCoding": {
                                                                                                    "type": "object",
                                                                                                    "description": "URL of specification of other contact systems.",
                                                                                                    "properties": {
                                                                                                        "system": {
                                                                                                            "type": "string",
                                                                                                            "description": "URL of Code System that describes available contact relationships.",
                                                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "code": {
                                                                                                            "type": "string",
                                                                                                            "description": "Coded value for the other contact system in place.",
                                                                                                            "example": "textphone"
                                                                                                        },
                                                                                                        "display": {
                                                                                                            "description": "Display-friendly representation of the other contact system code.",
                                                                                                            "type": "string",
                                                                                                            "example": "Minicom (Textphone)"
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "generalPractitioner": {
                                                                "type": "array",
                                                                "maxItems": 1,
                                                                "description": "General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.\n",
                                                                "items": {
                                                                    "description": "General practice (not practitioner) with which the patient is or was registered.",
                                                                    "type": "object",
                                                                    "required": [
                                                                        "identifier"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "description": "Object identifier (OID) specific to the returned details - this should be return exactly the same in any update.",
                                                                            "type": "string",
                                                                            "readOnly": true,
                                                                            "example": "254406A3"
                                                                        },
                                                                        "type": {
                                                                            "description": "Type of Reference being returned.",
                                                                            "type": "string",
                                                                            "readOnly": true,
                                                                            "example": "Organization"
                                                                        },
                                                                        "reference": {
                                                                            "description": "URL for the FHIR Organization resource for the registered general practice. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                            "type": "string",
                                                                            "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                                        },
                                                                        "identifier": {
                                                                            "description": "Identifier and system of identification used for this Organisation.",
                                                                            "type": "object",
                                                                            "required": [
                                                                                "value"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "description": "URL for the Organisation Data Service - who are responsible for publishing codes that identify organisations and individuals across health and social care.",
                                                                                    "type": "string",
                                                                                    "readOnly": true,
                                                                                    "example": "https://fhir.nhs.uk/Id/ods-organization-code"
                                                                                },
                                                                                "value": {
                                                                                    "description": "Organisation code for the registered general practice, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                    "type": "string",
                                                                                    "pattern": "^[0-9A-Z]+$",
                                                                                    "example": "Y12345"
                                                                                },
                                                                                "period": {
                                                                                    "type": "object",
                                                                                    "description": "Time period when name was, is, or will be in use.",
                                                                                    "required": [
                                                                                        "start"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "start": {
                                                                                            "type": "string",
                                                                                            "format": "date",
                                                                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                            "example": "2020-01-01"
                                                                                        },
                                                                                        "end": {
                                                                                            "type": "string",
                                                                                            "format": "date",
                                                                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                            "example": "2021-12-31"
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Wrapper array for the patient's death notification status; this is a FHIR extension. Always contains zero or one death notification status object.\n",
                                                                "items": {
                                                                    "anyOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for death notification details.",
                                                                            "required": [
                                                                                "url",
                                                                                "extension"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Definition of death notification extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "extension": {
                                                                                    "type": "array",
                                                                                    "description": "Array containing exactly one death notification status code object and exactly one effective date object.",
                                                                                    "minItems": 1,
                                                                                    "maxItems": 2,
                                                                                    "items": {
                                                                                        "oneOf": [
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for death notification status code.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueCodeableConcept"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `deathNotificationStatus`.",
                                                                                                        "default": "deathNotificationStatus",
                                                                                                        "enum": [
                                                                                                            "deathNotificationStatus"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueCodeableConcept": {
                                                                                                        "type": "object",
                                                                                                        "description": "Death Notification Status.",
                                                                                                        "properties": {
                                                                                                            "coding": {
                                                                                                                "type": "array",
                                                                                                                "minItems": 1,
                                                                                                                "maxItems": 1,
                                                                                                                "items": {
                                                                                                                    "type": "object",
                                                                                                                    "required": [
                                                                                                                        "system",
                                                                                                                        "code"
                                                                                                                    ],
                                                                                                                    "properties": {
                                                                                                                        "system": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "URI of the coding system specification.",
                                                                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus"
                                                                                                                        },
                                                                                                                        "version": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Version of the coding system in use.",
                                                                                                                            "example": "1.0.0"
                                                                                                                        },
                                                                                                                        "code": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Symbol, in syntax, defined by the system:\n* `1` - Informal - death notice received via an update from a local NHS Organisation such as GP or Trust\n* `2` - Formal - death notice received from Registrar of Deaths. Only these endpoints are allowed to add a Formal death:\n    - National Back Office using the Demographic Spine Application (DSA)\n    - Office of National Statistics (ONS)\n    - Maternity sites\n* `U` - Removed. This is a possible response, but it cannot be used on an update because Spine will reject it\n",
                                                                                                                            "example": "2",
                                                                                                                            "enum": [
                                                                                                                                "1",
                                                                                                                                "2",
                                                                                                                                "U"
                                                                                                                            ]
                                                                                                                        },
                                                                                                                        "display": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Representation defined by the system.",
                                                                                                                            "example": "Formal - death notice received from Registrar of Deaths",
                                                                                                                            "enum": [
                                                                                                                                "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust",
                                                                                                                                "Formal - death notice received from Registrar of Deaths",
                                                                                                                                "Removed"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for death notification effective date.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueDateTime"
                                                                                                ],
                                                                                                "readOnly": true,
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `systemEffectiveDate`.",
                                                                                                        "default": "systemEffectiveDate",
                                                                                                        "enum": [
                                                                                                            "systemEffectiveDate"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueDateTime": {
                                                                                                        "type": "string",
                                                                                                        "description": "Date and time at which death notification status took effect.",
                                                                                                        "format": "date-time",
                                                                                                        "example": "2010-10-22T00:00:00+00:00",
                                                                                                        "readOnly": true
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "Bundle",
                                    "type": "searchset",
                                    "timestamp": "2019-12-25T12:00:00+00:00",
                                    "total": 1,
                                    "entry": [
                                        {
                                            "fullUrl": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009",
                                            "search": {
                                                "score": 1
                                            },
                                            "resource": {
                                                "address": [
                                                    {
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "type",
                                                                        "valueCoding": {
                                                                            "code": "PAF",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType"
                                                                        }
                                                                    },
                                                                    {
                                                                        "url": "value",
                                                                        "valueString": "12345678"
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                            }
                                                        ],
                                                        "id": "456",
                                                        "line": [
                                                            "1 Trevelyan Square",
                                                            "Boar Lane",
                                                            "City Centre",
                                                            "Leeds",
                                                            "West Yorkshire"
                                                        ],
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "postalCode": "LS1 6AE",
                                                        "use": "home"
                                                    }
                                                ],
                                                "birthDate": "2010-10-22",
                                                "contact": [
                                                    {
                                                        "id": "C123",
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "relationship": [
                                                            {
                                                                "coding": [
                                                                    {
                                                                        "code": "C",
                                                                        "display": "Emergency Contact",
                                                                        "system": "http://terminology.hl7.org/CodeSystem/v2-0131"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "telecom": [
                                                            {
                                                                "system": "phone",
                                                                "value": "01632960587"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "deceasedDateTime": "2010-10-22T00:00:00+00:00",
                                                "extension": [
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "deathNotificationStatus",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "2",
                                                                            "display": "Formal - death notice received from Registrar of Deaths",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus",
                                                                            "version": "1.0.0"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "url": "systemEffectiveDate",
                                                                "valueDateTime": "2010-10-22T00:00:00+00:00"
                                                            }
                                                        ],
                                                        "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                                    }
                                                ],
                                                "gender": "female",
                                                "generalPractitioner": [
                                                    {
                                                        "id": "254406A3",
                                                        "identifier": {
                                                            "period": {
                                                                "end": "2021-12-31",
                                                                "start": "2020-01-01"
                                                            },
                                                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                            "value": "Y12345"
                                                        },
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345",
                                                        "type": "Organization"
                                                    }
                                                ],
                                                "id": "9000000009",
                                                "identifier": [
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "01",
                                                                            "display": "Number present and verified",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                            "version": "1.0.0"
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "system": "https://fhir.nhs.uk/Id/nhs-number",
                                                        "value": "9000000009"
                                                    }
                                                ],
                                                "meta": {
                                                    "security": [
                                                        {
                                                            "code": "U",
                                                            "display": "unrestricted",
                                                            "system": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                                        }
                                                    ],
                                                    "versionId": "2"
                                                },
                                                "multipleBirthInteger": 1,
                                                "name": [
                                                    {
                                                        "family": "Smith",
                                                        "given": [
                                                            "Jane"
                                                        ],
                                                        "id": "123",
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "prefix": [
                                                            "Mrs"
                                                        ],
                                                        "suffix": [
                                                            "MBE"
                                                        ],
                                                        "use": "usual"
                                                    }
                                                ],
                                                "resourceType": "Patient",
                                                "telecom": [
                                                    {
                                                        "id": "789",
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "system": "phone",
                                                        "use": "work",
                                                        "value": "01632960587"
                                                    },
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                "valueCoding": {
                                                                    "code": "textphone",
                                                                    "display": "Minicom (Textphone)",
                                                                    "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem"
                                                                }
                                                            }
                                                        ],
                                                        "id": "OC789",
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "system": "other",
                                                        "use": "work",
                                                        "value": "01632960587"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid search paramaters supplied.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",

                                    "title": "Response Schema with all simple fields.",

                                    "deprecated": true,


                                    "description": "Response Test Schema Object description in `Markdown`.",

                                    "multipleOf": 1.2,

                                    "minimum": -2.3,
                                    "exclusiveMinimum": true,
                                    "maximum": 2.2,
                                    "exclusiveMaximum": true,

                                    "minLength": 11,
                                    "maxLength": 22,

                                    "pattern": "^(?:[0-9]{4}-[0-9]{2}-[0-9]{2})?(?:[ T][0-9]{2}:[0-9]{2}:[0-9]{2})?(?:[.,][0-9]{3})?",

                                    "maxItems": 44,
                                    "minItems": 33,

                                    "uniqueItems": true,

                                    "minProperties": 3,
                                    "maxProperties": 5,

                                    "format": "int(32)",

                                    "nullable": true,

                                    "readOnly": true,
                                    "writeOnly": true
                                }
                            ,
                                "examples": {
                                    "not-enough": {
                                        "summary": "too few search params",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "INVALID_SEARCH_DATA",
                                                                "display": "Invalid search data provided - Not enough search parameters were provided to be able to make a search."
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    "bad-combination": {
                                        "summary": "Invalid combination of search parameters",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "INVALID_SEARCH_DATA",
                                                                "display": "Invalid search data provided - 'Invalid Date Combination'"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Patient/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "example": "9000000009"
                    }
                },
                {
                    "in": "header",
                    "name": "NHSD-Session-URID",
                    "description": "A User Role ID (URID), also known as a User Role Profile ID (URPID), specifies the role the user is acting in.\n\nA URID belongs to a user (they are not generic) and a user may have more than one.\n\nFind out more about [User role ID](https://digital.nhs.uk/developer/user-restricted-restful-apis#user-completes-authentication-and-authorisation)\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "pattern": "^[0-9]+$",
                        "example": "555021935107"
                    }
                },
                {
                    "in": "header",
                    "name": "Authorization",
                    "description": "An OAuthV2 access token presented in Bearer format.\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "format": "^Bearer\\ [[:ascii:]]+$",
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    }
                }
            ],
            "get": {
                "description": "## Overview\nUse this endpoint to get patient details from PDS for a given NHS Number.\n\n## Superceded patients\nSome patients are marked as superceded, this means that for some reason the original resource is no longer valid and has been replaced with a different resource.\n\nOn retrieval of a superceded resource the new resource will be automatically returned in place of the requested resource.\n\n## Restricted patients\nSome patients are tagged as [restricted](https://digital.nhs.uk/services/demographics/restricting-access-to-a-patients-demographic-record), or sensitive. Restricted patients can be retrieved; however, location sensitive fields such as `address`, `telecom` and `generalPractitioner` will be removed.\n\nThe restricted flag can be found in the data under `meta/security` on the patient resource.\n\n## Sandbox test scenarios\nYou can test the following scenarios in our sandbox environment:\n\n| Scenario                 | Request                                           | Response                                                                       |\n| ------------------------ | ------------------------------------------------- | ------------------------------------------------------------------------------ |\n| Patient exists           | `id`=`9000000009`                                 | HTTP Status 200 with patient data in response                                  |\n| Sensitive patient exists | `id`=`9000000025`                                 | HTTP Status 200 with patient data in response with the restricted data removed |\n| Patient doesn't exist    | `id`=`9111231130` (or any other valid NHS Number) | HTTP Status 404 with problem description                                       |\n| Invalid NHS Number       | `id`=`9000000000` (or any invalid NHS Number)     | HTTP Status 400 with problem description                                       |\n\nYou can try out the sandbox using the \"Try this API\" feature on the right hand side of this page.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n",
                "summary": "Retrieve a patient's resource",
                "operationId": "get-patient",
                "tags": [
                    "patients"
                ],
                "responses": {
                    "200": {
                        "description": "Information successfully returned.",
                        "headers": {
                            "ETag": {
                                "schema": {
                                    "type": "string",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "example": "W/\"2\""
                                },
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n"
                            }
                        },
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "required": [
                                        "id"
                                    ],
                                    "additionalProperties": false,
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR resource type.",
                                            "default": "Patient",
                                            "readOnly": true
                                        },
                                        "id": {
                                            "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                            "type": "string",
                                            "pattern": "^\\d{10}$",
                                            "example": "9000000009"
                                        },
                                        "identifier": {
                                            "type": "array",
                                            "description": "Identifier and system of identification used for this Patient.",
                                            "readOnly": true,
                                            "items": {
                                                "type": "object",
                                                "maxItems": 1,
                                                "required": [
                                                    "value"
                                                ],
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "format": "url",
                                                        "description": "System identifier belongs to.",
                                                        "default": "https://fhir.nhs.uk/Id/nhs-number",
                                                        "readOnly": true
                                                    },
                                                    "value": {
                                                        "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                                        "type": "string",
                                                        "pattern": "^\\d{10}$",
                                                        "example": "9000000009"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "description": "FHIR extensions.",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Status indicating if NHS number is present and verified.",
                                                            "readOnly": true,
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "URL of the extension definition.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "valueCodeableConcept": {
                                                                    "type": "object",
                                                                    "description": "NHS Number Verification Status Indicator.",
                                                                    "required": [
                                                                        "coding"
                                                                    ],
                                                                    "properties": {
                                                                        "coding": {
                                                                            "type": "array",
                                                                            "minItems": 1,
                                                                            "maxItems": 1,
                                                                            "items": {
                                                                                "type": "object",
                                                                                "required": [
                                                                                    "code"
                                                                                ],
                                                                                "properties": {
                                                                                    "system": {
                                                                                        "type": "string",
                                                                                        "description": "URI of the coding system specification.",
                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "version": {
                                                                                        "type": "string",
                                                                                        "description": "Version of the coding system in use.",
                                                                                        "example": "1.0.0"
                                                                                    },
                                                                                    "code": {
                                                                                        "type": "string",
                                                                                        "description": "Symbol in syntax defined by the system.",
                                                                                        "example": "01"
                                                                                    },
                                                                                    "display": {
                                                                                        "type": "string",
                                                                                        "description": "Representation defined by the system.",
                                                                                        "example": "Number present and verified"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "meta": {
                                            "type": "object",
                                            "description": "Metadata about this resource.",
                                            "properties": {
                                                "versionId": {
                                                    "type": "string",
                                                    "description": "The NHS Digital assigned version of the patient resource.",
                                                    "readOnly": true,
                                                    "example": "2"
                                                },
                                                "security": {
                                                    "type": "array",
                                                    "description": "The level of security on the patients record, which affects which fields are populated on retrieval. The possible responses are:\n* U - unrestricted. All available data will be returned.\n* R - restricted. Any sensitive data around the patient's location, so `address`, `generalPractitioner` and `telecom`, will be removed from the response.\n* V - very restricted. All patient data will be removed from the response apart from `id`, `identifier` and `meta` fields. The `gender` field will return `unknown` regardless of actual gender.\n* REDACTED - redacted. The patient record has been marked as invalid, so the data should not be used. This code will never be returned; you will receive a 404, and appropriate error response, if an invalidated patient retrieval is attempted.\n",
                                                    "readOnly": true,
                                                    "maxItems": 1,
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "system": {
                                                                "type": "string",
                                                                "description": "URI of the value set specification.",
                                                                "example": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                                            },
                                                            "code": {
                                                                "type": "string",
                                                                "description": "Code defined by the system value set.",
                                                                "enum": [
                                                                    "U",
                                                                    "R",
                                                                    "V",
                                                                    "REDACTED"
                                                                ],
                                                                "example": "U"
                                                            },
                                                            "display": {
                                                                "type": "string",
                                                                "description": "Representation defined by the system.",
                                                                "enum": [
                                                                    "unrestricted",
                                                                    "restricted",
                                                                    "very restricted",
                                                                    "redacted"
                                                                ],
                                                                "example": "unrestricted"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "name": {
                                            "type": "array",
                                            "description": "List of names associated with the patient.\n\nWhen a patient tagged as `very restricted` is retrieved, all names will be removed from the response.\n",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "use",
                                                    "family"
                                                ],
                                                "additionalProperties": false,
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique object identifier for this name.",
                                                        "readOnly": true,
                                                        "example": "123"
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                                        "enum": [
                                                            "usual",
                                                            "temp",
                                                            "nickname",
                                                            "old",
                                                            "maiden"
                                                        ],
                                                        "example": "usual"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "given": {
                                                        "type": "array",
                                                        "maxItems": 5,
                                                        "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                                        "example": [
                                                            "Jane",
                                                            "Adele"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "maxLength": 35,
                                                            "example": "Jane"
                                                        }
                                                    },
                                                    "family": {
                                                        "type": "string",
                                                        "maxLength": 35,
                                                        "description": "Family name (often called Surname).",
                                                        "example": "Smith"
                                                    },
                                                    "prefix": {
                                                        "type": "array",
                                                        "description": "Name prefixes, titles, and prenominals.",
                                                        "example": [
                                                            "Mrs"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "example": "Mrs"
                                                        }
                                                    },
                                                    "suffix": {
                                                        "type": "array",
                                                        "description": "Name suffices and postnominals.",
                                                        "example": [
                                                            "MBE",
                                                            "PhD"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "example": "MBE"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "gender": {
                                            "type": "string",
                                            "description": "Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.\nIt is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patient\u2019s registered birth gender, or their current clinical gender.\n",
                                            "enum": [
                                                "male",
                                                "female",
                                                "other",
                                                "unknown"
                                            ],
                                            "example": "female"
                                        },
                                        "birthDate": {
                                            "description": "The date on which the patient was born or is officially deemed to have been born.\n\nIt is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.\n",
                                            "example": "2010-10-22",
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "multipleBirthInteger": {
                                            "type": "integer",
                                            "minimum": 1,
                                            "maximum": 9,
                                            "description": "The order in which the patient was born, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n\nThere are two other valid values; `8` meaning `Not applicable` and `9` meaning `Not known`.\n",
                                            "example": 1
                                        },
                                        "deceasedDateTime": {
                                            "description": "The date and time on which a person died or is officially deemed to have died, if applicable and known.\n\nIt is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, death date will be removed from the response.\n",
                                            "example": "2010-10-22T00:00:00+00:00",
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "address": {
                                            "type": "array",
                                            "description": "List of addresses associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `home` address will be returned on a search.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.\n",
                                            "items": {
                                                "type": "object",
                                                "description": "An address associated with the patient.",
                                                "required": [
                                                    "use"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique system identifier for this address.",
                                                        "readOnly": true,
                                                        "example": "456"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                                        "enum": [
                                                            "home",
                                                            "work",
                                                            "temp",
                                                            "billing"
                                                        ],
                                                        "example": "home"
                                                    },
                                                    "line": {
                                                        "type": "array",
                                                        "description": "All lines of the address except the postal code.",
                                                        "maxItems": 5,
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "example": [
                                                            "1 Trevelyan Square",
                                                            "Boar Lane",
                                                            "City Centre",
                                                            "Leeds",
                                                            "West Yorkshire"
                                                        ]
                                                    },
                                                    "postalCode": {
                                                        "type": "string",
                                                        "description": "Postal code of the address.",
                                                        "example": "LS1 6AE"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Unique identifier for an address.",
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "URL of specification of the AddressKey extension.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "extension": {
                                                                    "type": "array",
                                                                    "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                                    "minItems": 2,
                                                                    "maxItems": 2,
                                                                    "items": {
                                                                        "anyOf": [
                                                                            {
                                                                                "type": "object",
                                                                                "description": "Coding system of the address key.",
                                                                                "required": [
                                                                                    "url",
                                                                                    "valueCoding"
                                                                                ],
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Always 'type'.",
                                                                                        "default": "type",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueCoding": {
                                                                                        "type": "object",
                                                                                        "description": "URL of specification of address key format.",
                                                                                        "required": [
                                                                                            "system",
                                                                                            "code"
                                                                                        ],
                                                                                        "properties": {
                                                                                            "system": {
                                                                                                "type": "string",
                                                                                                "description": "URL of Code System that describes available Address Key formats.",
                                                                                                "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                                                "readOnly": true
                                                                                            },
                                                                                            "code": {
                                                                                                "type": "string",
                                                                                                "description": "Address Key system. Always 'PAF'.",
                                                                                                "default": "PAF",
                                                                                                "example": "PAF",
                                                                                                "readOnly": true
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            },
                                                                            {
                                                                                "type": "object",
                                                                                "description": "Value of the address key.",
                                                                                "required": [
                                                                                    "url",
                                                                                    "valueString"
                                                                                ],
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Always 'value'.",
                                                                                        "default": "value",
                                                                                        "example": "value",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueString": {
                                                                                        "type": "string",
                                                                                        "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                                        "minLength": 8,
                                                                                        "maxLength": 8,
                                                                                        "pattern": "^[0-9]{8}$",
                                                                                        "example": "12345678"
                                                                                    }
                                                                                }
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "telecom": {
                                            "type": "array",
                                            "description": "List of contact points for the patient; for example, phone numbers or email addresses.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.\n",
                                            "items": {
                                                "description": "A contact point, such as a phone number or email address",
                                                "type": "object",
                                                "required": [
                                                    "system",
                                                    "value"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique object identifier for this contact point.",
                                                        "readOnly": true,
                                                        "example": "789"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "system": {
                                                        "description": "Means of communication, such as phone or email.",
                                                        "type": "string",
                                                        "enum": [
                                                            "phone",
                                                            "fax",
                                                            "email",
                                                            "other"
                                                        ],
                                                        "example": "phone"
                                                    },
                                                    "value": {
                                                        "description": "Phone number, email address, or other identifier for use with contact system.",
                                                        "type": "string",
                                                        "example": "01632960587"
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "Location associated with communication system.",
                                                        "enum": [
                                                            "home",
                                                            "work",
                                                            "temp",
                                                            "mobile"
                                                        ],
                                                        "example": "work"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "maxItems": 1,
                                                        "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Wrapped object for other contact system details.",
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Definition of other contact system extension.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "valueCoding": {
                                                                    "type": "object",
                                                                    "description": "URL of specification of other contact systems.",
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URL of Code System that describes available contact relationships.",
                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                            "readOnly": true
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Coded value for the other contact system in place.",
                                                                            "example": "textphone"
                                                                        },
                                                                        "display": {
                                                                            "description": "Display-friendly representation of the other contact system code.",
                                                                            "type": "string",
                                                                            "example": "Minicom (Textphone)"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "contact": {
                                            "type": "array",
                                            "description": "A list of patient contacts. Only emergency contacts will be returned and only emergency contacts should be added. Any other contacts should be added to the patients `Related Person`.\n\nPatients designate here any contact number they desire to be used in case of an emergency.\nNote, while a patient may also desire to record various related persons telecom details, these do not separately allow for a concept of emergency contact; only ranking. See RelatedPerson endpoint.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.\n",
                                            "items": {
                                                "title": "Schema for a patient contact.",
                                                "type": "object",
                                                "additionalProperties": false,
                                                "required": [
                                                    "relationship",
                                                    "telecom"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "example": "C123"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "relationship": {
                                                        "type": "array",
                                                        "description": "The contact relationship wrapper object that holds the details of the relationship to the patient.\n\nThis will only be return when an Emergency Contact number has been set on `telecom`. The only code that will be returned is `C`, which means `Emergency Contact`.\n",
                                                        "minItems": 1,
                                                        "maxItems": 1,
                                                        "items": {
                                                            "type": "object",
                                                            "required": [
                                                                "coding"
                                                            ],
                                                            "properties": {
                                                                "coding": {
                                                                    "type": "array",
                                                                    "description": "Exactly one contact relationship.",
                                                                    "minItems": 1,
                                                                    "maxItems": 1,
                                                                    "items": {
                                                                        "type": "object",
                                                                        "required": [
                                                                            "code"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL of Code System that describes available contact relationships.",
                                                                                "format": "url",
                                                                                "default": "http://terminology.hl7.org/CodeSystem/v2-0131",
                                                                                "readOnly": true
                                                                            },
                                                                            "code": {
                                                                                "type": "string",
                                                                                "description": "Coded value for contact relationship.",
                                                                                "example": "C"
                                                                            },
                                                                            "display": {
                                                                                "type": "string",
                                                                                "description": "Display-friendly representation of the contact relationship code.",
                                                                                "example": "Emergency Contact"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "telecom": {
                                                        "type": "array",
                                                        "description": "List of Telecom objects on the contact will only contain `system` and `value`.\n",
                                                        "items": {
                                                            "description": "A contact point, such as a phone number or email address",
                                                            "type": "object",
                                                            "required": [
                                                                "system",
                                                                "value"
                                                            ],
                                                            "properties": {
                                                                "id": {
                                                                    "type": "string",
                                                                    "description": "Unique object identifier for this contact point.",
                                                                    "readOnly": true,
                                                                    "example": "789"
                                                                },
                                                                "period": {
                                                                    "type": "object",
                                                                    "description": "Time period when name was, is, or will be in use.",
                                                                    "required": [
                                                                        "start"
                                                                    ],
                                                                    "properties": {
                                                                        "start": {
                                                                            "type": "string",
                                                                            "format": "date",
                                                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                            "example": "2020-01-01"
                                                                        },
                                                                        "end": {
                                                                            "type": "string",
                                                                            "format": "date",
                                                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                            "example": "2021-12-31"
                                                                        }
                                                                    }
                                                                },
                                                                "system": {
                                                                    "description": "Means of communication, such as phone or email.",
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "phone",
                                                                        "fax",
                                                                        "email",
                                                                        "other"
                                                                    ],
                                                                    "example": "phone"
                                                                },
                                                                "value": {
                                                                    "description": "Phone number, email address, or other identifier for use with contact system.",
                                                                    "type": "string",
                                                                    "example": "01632960587"
                                                                },
                                                                "use": {
                                                                    "type": "string",
                                                                    "description": "Location associated with communication system.",
                                                                    "enum": [
                                                                        "home",
                                                                        "work",
                                                                        "temp",
                                                                        "mobile"
                                                                    ],
                                                                    "example": "work"
                                                                },
                                                                "extension": {
                                                                    "type": "array",
                                                                    "maxItems": 1,
                                                                    "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "description": "Wrapped object for other contact system details.",
                                                                        "properties": {
                                                                            "url": {
                                                                                "type": "string",
                                                                                "description": "Definition of other contact system extension.",
                                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                                "enum": [
                                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                                ],
                                                                                "readOnly": true
                                                                            },
                                                                            "valueCoding": {
                                                                                "type": "object",
                                                                                "description": "URL of specification of other contact systems.",
                                                                                "properties": {
                                                                                    "system": {
                                                                                        "type": "string",
                                                                                        "description": "URL of Code System that describes available contact relationships.",
                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "code": {
                                                                                        "type": "string",
                                                                                        "description": "Coded value for the other contact system in place.",
                                                                                        "example": "textphone"
                                                                                    },
                                                                                    "display": {
                                                                                        "description": "Display-friendly representation of the other contact system code.",
                                                                                        "type": "string",
                                                                                        "example": "Minicom (Textphone)"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "generalPractitioner": {
                                            "type": "array",
                                            "maxItems": 1,
                                            "description": "General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.\n",
                                            "items": {
                                                "description": "General practice (not practitioner) with which the patient is or was registered.",
                                                "type": "object",
                                                "required": [
                                                    "identifier"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "description": "Object identifier (OID) specific to the returned details - this should be return exactly the same in any update.",
                                                        "type": "string",
                                                        "readOnly": true,
                                                        "example": "254406A3"
                                                    },
                                                    "type": {
                                                        "description": "Type of Reference being returned.",
                                                        "type": "string",
                                                        "readOnly": true,
                                                        "example": "Organization"
                                                    },
                                                    "reference": {
                                                        "description": "URL for the FHIR Organization resource for the registered general practice. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                        "type": "string",
                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                    },
                                                    "identifier": {
                                                        "description": "Identifier and system of identification used for this Organisation.",
                                                        "type": "object",
                                                        "required": [
                                                            "value"
                                                        ],
                                                        "properties": {
                                                            "system": {
                                                                "description": "URL for the Organisation Data Service - who are responsible for publishing codes that identify organisations and individuals across health and social care.",
                                                                "type": "string",
                                                                "readOnly": true,
                                                                "example": "https://fhir.nhs.uk/Id/ods-organization-code"
                                                            },
                                                            "value": {
                                                                "description": "Organisation code for the registered general practice, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                "type": "string",
                                                                "pattern": "^[0-9A-Z]+$",
                                                                "example": "Y12345"
                                                            },
                                                            "period": {
                                                                "type": "object",
                                                                "description": "Time period when name was, is, or will be in use.",
                                                                "required": [
                                                                    "start"
                                                                ],
                                                                "properties": {
                                                                    "start": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2020-01-01"
                                                                    },
                                                                    "end": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2021-12-31"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Wrapper array for the patient's pharmacies, death notification status, communication details, contact preferences and place of birth; these are all FHIR extensions.\nAlways contains zero or one of each pharmacy object, zero or one death notification status object, zero or one communication details object, zero or one contact preference and zero or one place of birth object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the pharmacy and birth place extensions will be removed from the response.\n",
                                            "items": {
                                                "anyOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's nominated pharmacy. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-NominatedPharmacy FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to a pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the nominated pharmacy. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's nominated pharmacy organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the nominated pharmacy, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y12345"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's dispensing doctor. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-DispensingDoctor FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to a GP practice pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the dispensing doctor. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y23456"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's dispensing doctor organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the dispensing doctor, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y23456"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's medical appliance supplier. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-MedicalApplianceSupplier FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to medical appliance supplier pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the medical appliance supplier. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y34567"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's medical appliance supplier organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the medical appliance supplier, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y34567"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification details.",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of death notification extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Array containing exactly one death notification status code object and exactly one effective date object.",
                                                                "minItems": 1,
                                                                "maxItems": 2,
                                                                "items": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for death notification status code.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `deathNotificationStatus`.",
                                                                                    "default": "deathNotificationStatus",
                                                                                    "enum": [
                                                                                        "deathNotificationStatus"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Death Notification Status.",
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "system",
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "description": "URI of the coding system specification.",
                                                                                                        "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus"
                                                                                                    },
                                                                                                    "version": {
                                                                                                        "type": "string",
                                                                                                        "description": "Version of the coding system in use.",
                                                                                                        "example": "1.0.0"
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "Symbol, in syntax, defined by the system:\n* `1` - Informal - death notice received via an update from a local NHS Organisation such as GP or Trust\n* `2` - Formal - death notice received from Registrar of Deaths. Only these endpoints are allowed to add a Formal death:\n    - National Back Office using the Demographic Spine Application (DSA)\n    - Office of National Statistics (ONS)\n    - Maternity sites\n* `U` - Removed. This is a possible response, but it cannot be used on an update because Spine will reject it\n",
                                                                                                        "example": "2",
                                                                                                        "enum": [
                                                                                                            "1",
                                                                                                            "2",
                                                                                                            "U"
                                                                                                        ]
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Representation defined by the system.",
                                                                                                        "example": "Formal - death notice received from Registrar of Deaths",
                                                                                                        "enum": [
                                                                                                            "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust",
                                                                                                            "Formal - death notice received from Registrar of Deaths",
                                                                                                            "Removed"
                                                                                                        ]
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for death notification effective date.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueDateTime"
                                                                            ],
                                                                            "readOnly": true,
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `systemEffectiveDate`.",
                                                                                    "default": "systemEffectiveDate",
                                                                                    "enum": [
                                                                                        "systemEffectiveDate"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueDateTime": {
                                                                                    "type": "string",
                                                                                    "description": "Date and time at which death notification status took effect.",
                                                                                    "format": "date-time",
                                                                                    "example": "2010-10-22T00:00:00+00:00",
                                                                                    "readOnly": true
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for communication details. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of communication extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Definition of communication extension, The array must have two items, a valueCodeableConcept for the language and a valueBoolean for if an interpreter is required.",
                                                                "minItems": 1,
                                                                "maxItems": 2,
                                                                "items": {
                                                                    "anyOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for communication language.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `language`.",
                                                                                    "default": "language",
                                                                                    "enum": [
                                                                                        "language"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Human language.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "description": "Exactly one language code.",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "description": "URL of the Language Code System. Always uses the 'UKCore-HumanLanguage' Code System.",
                                                                                                        "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "version": {
                                                                                                        "type": "string",
                                                                                                        "description": "Version of the language code system.",
                                                                                                        "example": "1.0.0"
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "Language code based on [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) standard plus extensions for braille, makaton and sign languages, which are:\n* `q1` - Braille\n* `q2` - American Sign Language\n* `q3` - Australian Sign Language\n* `q4` - British Sign Language\n* `q5` - Makaton\nAll valid codes combined can be found at https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage.\n",
                                                                                                        "example": "fr"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the language code (such as English). If there is a language code with no defined mapping, `Unknown` will be returned.",
                                                                                                        "example": "French"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for whether an interpreter is required.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueBoolean"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `interpreterRequired`.",
                                                                                    "default": "interpreterRequired",
                                                                                    "enum": [
                                                                                        "interpreterRequired"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueBoolean": {
                                                                                    "type": "boolean",
                                                                                    "description": "Whether an interpreter is required.",
                                                                                    "example": true
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "title": "Wrapper object for preferred contact details; the written communication format, preferred contact time and method. This will only be populated on a retrieval and not a search.",
                                                        "type": "object",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of the contact preference extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "description": "Wrapper array containing zero or one preferred contact method, zero or one preferred written communication format; and zero or one preferred contact time.",
                                                                "type": "array",
                                                                "maxItems": 3,
                                                                "items": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred written communication format.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredWrittenCommunicationFormat`.",
                                                                                    "default": "PreferredWrittenCommunicationFormat",
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Preferred Written Communication Format.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "format": "url",
                                                                                                        "description": "Definition of the preferred written communication extension.",
                                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat",
                                                                                                        "enum": [
                                                                                                            "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "A code to identify the preferred written communication format of a patient, contact or related person.\n* 11 - Large print\n* 12 - Braille\n* 13 - Audio tape\n",
                                                                                                        "example": "12"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the preferred written communication format code.",
                                                                                                        "example": "Braille"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred contact method.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredContactMethod`.",
                                                                                    "default": "PreferredContactMethod",
                                                                                    "enum": [
                                                                                        "PreferredContactMethod"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Preferred Contact Method.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "format": "url",
                                                                                                        "description": "Definition of the preferred contact method extension.",
                                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod",
                                                                                                        "enum": [
                                                                                                            "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "A code to identify to identify the preferred contact method of a patient, contact or related person.\n* 1\t- Letter\n* 2\t- Visit\n* 3\t- Telephone\n* 4\t- E-mail\n* 5\t- Minicom (Textphone)\n* 6\t- Telephone contact via proxy\n* 7\t- Sign language\n* 8\t- No Telephone contact\n",
                                                                                                        "example": "1"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the preferred contact method code.",
                                                                                                        "example": "Letter"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred contact times.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueString"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredContactTimes`.",
                                                                                    "default": "PreferredContactTimes",
                                                                                    "enum": [
                                                                                        "PreferredContactTimes"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueString": {
                                                                                    "type": "string",
                                                                                    "maximum": 40,
                                                                                    "description": "A free-text description about the preferred contact times.",
                                                                                    "example": "Not after 7pm"
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for place of birth details. This will not be returned on a restricted patient.",
                                                        "required": [
                                                            "url",
                                                            "valueAddress"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of place of birth extension.",
                                                                "default": "http://hl7.org/fhir/StructureDefinition/patient-birthPlace",
                                                                "enum": [
                                                                    "http://hl7.org/fhir/StructureDefinition/patient-birthPlace"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueAddress": {
                                                                "type": "object",
                                                                "additionalProperties": false,
                                                                "properties": {
                                                                    "city": {
                                                                        "type": "string",
                                                                        "description": "Town or city of birth.",
                                                                        "example": "Manchester"
                                                                    },
                                                                    "district": {
                                                                        "type": "string",
                                                                        "description": "County or metropolitan district of birth.",
                                                                        "example": "Greater Manchester"
                                                                    },
                                                                    "country": {
                                                                        "type": "string",
                                                                        "description": "A coded value for a patient's country of birth.\n\nFrom [ISO 3166-1](http://hl7.org/fhir/valueset-iso3166-1-3.html) plus codes from the UK Internal Code list which do not have entries in ISO 3166-1.\n\nUK Internal Codes:\n* `1` - England\n* `2` - Scotland\n* `3` - Wales\n* `4` - Northern Ireland\n* `7` - Sark\n* `9` - Alderney\n* `10` - Channel Islands\n",
                                                                        "example": "GBR"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "address": [
                                        {
                                            "extension": [
                                                {
                                                    "extension": [
                                                        {
                                                            "url": "type",
                                                            "valueCoding": {
                                                                "code": "PAF",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType"
                                                            }
                                                        },
                                                        {
                                                            "url": "value",
                                                            "valueString": "12345678"
                                                        }
                                                    ],
                                                    "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                }
                                            ],
                                            "id": "456",
                                            "line": [
                                                "1 Trevelyan Square",
                                                "Boar Lane",
                                                "City Centre",
                                                "Leeds",
                                                "West Yorkshire"
                                            ],
                                            "period": {
                                                "end": "2021-12-31",
                                                "start": "2020-01-01"
                                            },
                                            "postalCode": "LS1 6AE",
                                            "use": "home"
                                        }
                                    ],
                                    "birthDate": "2010-10-22",
                                    "contact": [
                                        {
                                            "id": "C123",
                                            "period": {
                                                "end": "2021-12-31",
                                                "start": "2020-01-01"
                                            },
                                            "relationship": [
                                                {
                                                    "coding": [
                                                        {
                                                            "code": "C",
                                                            "display": "Emergency Contact",
                                                            "system": "http://terminology.hl7.org/CodeSystem/v2-0131"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "telecom": [
                                                {
                                                    "system": "phone",
                                                    "value": "01632960587"
                                                }
                                            ]
                                        }
                                    ],
                                    "deceasedDateTime": "2010-10-22T00:00:00+00:00",
                                    "extension": [
                                        {
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy",
                                            "valueReference": {
                                                "identifier": {
                                                    "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                    "value": "Y12345"
                                                },
                                                "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                            }
                                        },
                                        {
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor",
                                            "valueReference": {
                                                "identifier": {
                                                    "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                    "value": "Y23456"
                                                },
                                                "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y23456"
                                            }
                                        },
                                        {
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier",
                                            "valueReference": {
                                                "identifier": {
                                                    "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                    "value": "Y34567"
                                                },
                                                "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y34567"
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "deathNotificationStatus",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "2",
                                                                "display": "Formal - death notice received from Registrar of Deaths",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus",
                                                                "version": "1.0.0"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "systemEffectiveDate",
                                                    "valueDateTime": "2010-10-22T00:00:00+00:00"
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "language",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "fr",
                                                                "display": "French",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                "version": "1.0.0"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "interpreterRequired",
                                                    "valueBoolean": true
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "PreferredWrittenCommunicationFormat",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "12",
                                                                "display": "Braille",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "PreferredContactMethod",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "1",
                                                                "display": "Letter",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "PreferredContactTimes",
                                                    "valueString": "Not after 7pm"
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                        },
                                        {
                                            "url": "http://hl7.org/fhir/StructureDefinition/patient-birthPlace",
                                            "valueAddress": {
                                                "city": "Manchester",
                                                "country": "GBR",
                                                "district": "Greater Manchester"
                                            }
                                        }
                                    ],
                                    "gender": "female",
                                    "generalPractitioner": [
                                        {
                                            "id": "254406A3",
                                            "identifier": {
                                                "period": {
                                                    "end": "2021-12-31",
                                                    "start": "2020-01-01"
                                                },
                                                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                "value": "Y12345"
                                            },
                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345",
                                            "type": "Organization"
                                        }
                                    ],
                                    "id": "9000000009",
                                    "identifier": [
                                        {
                                            "extension": [
                                                {
                                                    "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "01",
                                                                "display": "Number present and verified",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                "version": "1.0.0"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "system": "https://fhir.nhs.uk/Id/nhs-number",
                                            "value": "9000000009"
                                        }
                                    ],
                                    "meta": {
                                        "security": [
                                            {
                                                "code": "U",
                                                "display": "unrestricted",
                                                "system": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                            }
                                        ],
                                        "versionId": "2"
                                    },
                                    "multipleBirthInteger": 1,
                                    "name": [
                                        {
                                            "family": "Smith",
                                            "given": [
                                                "Jane"
                                            ],
                                            "id": "123",
                                            "period": {
                                                "end": "2021-12-31",
                                                "start": "2020-01-01"
                                            },
                                            "prefix": [
                                                "Mrs"
                                            ],
                                            "suffix": [
                                                "MBE"
                                            ],
                                            "use": "usual"
                                        }
                                    ],
                                    "resourceType": "Patient",
                                    "telecom": [
                                        {
                                            "id": "789",
                                            "period": {
                                                "end": "2021-12-31",
                                                "start": "2020-01-01"
                                            },
                                            "system": "phone",
                                            "use": "work",
                                            "value": "01632960587"
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                    "valueCoding": {
                                                        "code": "textphone",
                                                        "display": "Minicom (Textphone)",
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem"
                                                    }
                                                }
                                            ],
                                            "id": "OC789",
                                            "period": {
                                                "end": "2021-12-31",
                                                "start": "2020-01-01"
                                            },
                                            "system": "other",
                                            "use": "work",
                                            "value": "01632960587"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid NHS number supplied.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "value",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "INVALID_RESOURCE_ID",
                                                        "display": "Resource Id is invalid"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Patient not found.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "not-found",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "RESOURCE_NOT_FOUND",
                                                        "display": "Resource not found"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "description": "## Overview\nUse this endpoint to update patient details in PDS.\n\nThis is a 'patch' operation - you can update specific parts of the patient record, such as name or gender, without having to update the entire record.\nThe update is asynchronous - this endpoint returns a confirmation that your request has been received, along with a URL which you can poll to confirm that the update has completed.\n\nSee the overview page to understand what data can be updated with this API in its current form.\n\n## Patient resource versioning\nTo update a patient's resource you must have retrieved it first.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\n\nYou must then pass the resource's version number in the update request (in the `If-Match` response header).\n\nThe update will only succeed if the patient resource has not been updated in our database in the meantime.\n\nIf the update succeeds, on polling the outcome, you will receive a copy of the update resource in the response, including the new resource version number.\n\nIf you make a subsequent update you must use the new version number.\n\n## JSON Patch\nTo update a patient a [JSON Patch](https://tools.ietf.org/html/rfc6902) should be sent. A JSON Patch consists of one or more patch objects within a list.\n\nIt is recommended that all desired updates are sent together in a single request as a list of patches.\nThis is the most efficient approach and will reduce the danger of race conditions occurring when updating the patient multiple times in a short period of time.\n\nWhen processing the list of patch objects, each patch must be valid and pass all the business rules against the data. If one patch object fails, none of the patch objects will be applied.\n\nA patch object consists of:\n* an operation, `op` - this is required.\n* a path to the data that you want to change, `path` - this is required.\n* the value that will be assigned, `value` - this is required for `add`, `replace` and `test`; but should not be included for a `remove`.\n\nThe following operations are supported:\n* `add` - to add a new value.\n* `replace` - to replace an existing value.\n* `remove` - to remove an existing value.\n* `test` - to test the state of a value is as expected before continuing with the update.\n\nPaths point to a single value, list or object, for example:\n* `/gender` - pointing to the gender value.\n* `/name` - point to the name list.\n* `/name/0` - pointing to the 1st object in the name list.\n* `/address/0/line/1` - pointing to the 2nd line string in the 1st address object.\n\nThe value can be set to any valid value for that path, so could be a null, a string, an object or a list.\n\n### Addition\n\n`add` should be used to add new items to a patient.\n\nAdding a simple data item such as the date of death can be done using a patch such as:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"add\", \"path\": \"/deceasedDate\", \"value\": \"2020-01-01\" }\n  ]\n}\n```\n\nAdding to a list such as a `name` should be done by including the whole object in the value field. Note, the list index is `-` this is because when adding to a list as the index will not be known:\n\n```json\n{\n    \"patches\": [\n      {\n            \"op\": \"add\",\n            \"path\": \"/name/-\",\n            \"value\": {\n                \"use\": \"usual\",\n                \"period\": { \"start\": \"2019-12-31\" },\n                \"prefix\": [\"Dr\"],\n                \"given\": [\n                  \"Joe\",\n                  \"Horation\",\n                  \"Maximus\"\n                ],\n                \"family\": \"Bloggs\",\n                \"suffix\": [\"PhD\"]\n            }\n        }\n  ]\n}\n```\n\nWhen adding a base level list item such as a new name or address, ensure the index is always `-`, otherwise the request will be rejected. For example, `/name/-`.\nThe reason for this is because the backend system will make the decision on the ordering of the listed objects to ensure they are always returned in the same order.\n\nIf you are adding to a sub-element that is a list, such as an additional given name, it is valid to provide an exact index. So the following is valid:\n\n```json\n{\n  \"patches\": [\n    {\n      \"op\": \"add\", \"path\": \"/name/0/id\", \"value\": \"8F8B957D\",\n      \"op\": \"add\", \"path\": \"/name/0/given/0\", \"value\": \"Rose\"\n    }\n  ]\n}\n```\n\nIf is possible to `add` a sub-element to an existing object in a patch request. If the object already exists and you have the object `id`, you must supply it or the update will be rejected.\nThe following patch is allowed:\n\n```json\n{\n  \"patches\": [\n    {\n      \"op\": \"add\", \"path\": \"/name/0/id\", \"value\": \"8F8B957D\",\n      \"op\": \"add\", \"path\": \"/name/0/given/-\", \"value\": \"Rose\"\n    }\n  ]\n}\n```\n\nbut the following is not allowed:\n\n```json\n{\n  \"patches\": [\n    {\n      \"op\": \"add\", \"path\": \"/name/0/given/-\", \"value\": \"Rose\"\n    }\n  ]\n}\n```\n\n### Replacing\n\n`replace` should be used to alter existing items on the patient.\n\nReplacing a simple data item such as the gender can be done using a patch such as:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"replace\", \"path\": \"/gender\", \"value\": \"male\" }\n  ]\n}\n```\n\nReplacing a list item can be done in two ways which may be dependent on any external development libraries that can be used to create the patch.\n\nThe first approach is to replace the whole list item:\n\n```json\n{\n    \"patches\": [\n      {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": { \"start\": \"2019-12-31\" },\n                \"prefix\": [\"Dr\"],\n                \"given\": [\n                  \"Joe\",\n                  \"Horation\",\n                  \"Maximus\"\n                ],\n                \"family\": \"Bloggs\",\n                \"suffix\": [\"PhD\"]\n            }\n        }\n  ]\n}\n```\n\nThe second approach is to replace just a part, or parts, of the list object keys if all others will remain the same:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"replace\", \"path\": \"/name/0/id\", \"value\": \"123\" },\n      { \"op\": \"replace\", \"path\": \"/name/0/prefix/0\", \"value\": \"Mr\" },\n      { \"op\": \"replace\", \"path\": \"/name/0/family\", \"value\": \"Smith\" }\n    ]\n}\n```\n\nAn added requirement to ensure no accidental data loss or replacement of the wrong list item, you must always include the list `id` or `url`. This will be in the object on retrieval so just needs to be mirrored back. You should not include an ID on an addition as this will be automatically generated by the system and is a unique object ID, so only our system can guarantee that.\n\n### Removal\n\n`remove` should be used to delete existing items on a patient.\n\nRemoving a simple data item such as the gender can be done using a patch such as:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"remove\", \"path\": \"/gender\" }\n  ]\n}\n```\n\nNote, that in this scenario, although the patch is perfectly valid, the update will still be rejected as a patients gender cannot be removed.\n\nRemoving a list item should only be done on the whole item object, not individual sub-items; instead use the replace operation.\n\nTo remove a list item, a `test` operation must <u>immediately proceed</u> the `remove` . This is an added requirement to ensure no accidental data loss occurs or the wrong item is removed. The test operation should be used to assert either:\n\n* the `id` - the object ID for items that have one - for example `name`, `address` or `telecom`.\n* the `url` - the URL for the extension being removed.\n* the whole object being removed.\n\nAn example of a list item removal using the `id` would be:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"test\", \"path\": \"/name/0/id\", \"value\": \"123\" },\n      { \"op\": \"remove\", \"path\": \"/name/0\" }\n  ]\n}\n```\n\nAn example of a extension list item removal using the `url` would be:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"test\", \"path\": \"/extension/0/url\", \"value\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\" },\n      { \"op\": \"remove\", \"path\": \"/extension/0\" }\n  ]\n}\n```\n\nAn example of a list item removal using the whole object would be:\n\n```json\n{\n    \"patches\": [\n      { \n            \"op\": \"test\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": { \"start\": \"2019-12-31\" },\n                \"prefix\": [\"Dr\"],\n                \"given\": [\n                  \"Joe\",\n                  \"Horation\",\n                  \"Maximus\"\n                ],\n                \"family\": \"Bloggs\",\n                \"suffix\": [\"PhD\"]\n            }\n        },\n      { \"op\": \"remove\", \"path\": \"/name/0\" }\n  ]\n}\n```\n\nSpecial care should be taken when performing multiple removals in the same list; as removing a particular index could affect all subsequent index positions. The next two examples perform **<u>exactly</u>** the same operation.\n\nUsing the following initial (simplified) data, with the intention of removing the names in index 1 (Irwin) and 2 (Bruce):\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"3\", \"family\": \"Irwin\"},\n        {\"id\": \"4\", \"family\": \"Bruce\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\n**Example 1**:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"test\", \"path\": \"/name/1/id\", \"value\": \"3\" }\n      { \"op\": \"remove\", \"path\": \"/name/1\" },\n      { \"op\": \"test\", \"path\": \"/name/1/id\", \"value\": \"4\" }\n      { \"op\": \"remove\", \"path\": \"/name/1\" }\n  ]\n}\n```\n\nAfter the 1st removal the data will look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"4\", \"family\": \"Bruce\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\nmeaning Irwin has been removed, Bruce has moved from index 2 -> 1 and Sharpe from 3 -> 2.\n\nSo after applying the 2nd removal the data will look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\nWhich is the intended outcome. Using the same index 1 for both removals may look unexpected, but the way JSON Patch works is iterating over each patch operation in turn and making the change to the list index positions. This means a developer needs to account for lists changing from one operation to the next.\n\n**Example 2**:\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"test\", \"path\": \"/name/2/id\", \"value\": \"4\" }\n      { \"op\": \"remove\", \"path\": \"/name/2\" },\n      { \"op\": \"test\", \"path\": \"/name/1/id\", \"value\": \"3\" }\n      { \"op\": \"remove\", \"path\": \"/name/1\" }\n  ]\n}\n```\n\nAfter the 1st removal the data will look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"3\", \"family\": \"Irwin\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\nApplying the 2nd removal the data will look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\nWhich is the intended outcome. Providing the patches with the indexes descending means that the list stays in a stable format the whole way through as the only changes to the index positions are items have been passed over already.\n\n**Example 3 - a failure**\n\n```json\n{\n    \"patches\": [\n      { \"op\": \"test\", \"path\": \"/name/1/id\", \"value\": \"3\" },\n      { \"op\": \"remove\", \"path\": \"/name/1\" },\n      { \"op\": \"test\", \"path\": \"/name/2/id\", \"value\": \"4\" },\n      { \"op\": \"remove\", \"path\": \"/name/2\" }\n  ]\n}\n```\n\nAfter the 1st removal the data will look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"4\", \"family\": \"Bruce\"},\n        {\"id\": \"5\", \"family\": \"Sharpe\"}\n    ]\n}\n```\n\nWhen applying the 2nd test, it will fail as the index 2 ID is `5`, but the test was looking for `4`. An error will be returned and none of the updates provided would be made to the database.\n\nThis failure example is a good reason for forcing the use of the `test` operation. If there was no test, index 2 would have been blindly removed, meaning the final state of the data would look like:\n\n```json\n{\n    \"name\": [\n        {\"id\": \"2\", \"family\": \"Parker\"},\n        {\"id\": \"4\", \"family\": \"Bruce\"}\n    ]\n}\n```\n\nWhich is incorrect, as Irwin and Sharpe were removed instead of Irwin and Bruce.\n\n\n## Patient data fields\n\n### Communication\n\nSingle item found under `extension` with the extension URL `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication`.\n\nIn a JSON Patch request the path should be:\n* `/extension/0` if the communication extension is the first item in the list. If it is the second item in the list the path will be `/extension/1`, and so on.\n* `/extension/-` when adding a communication extension.\n\nThere are a number of business rules that should be taken into account:\n* preferred language must not be supplied where it is English even though the [code list](https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage) contains a value for English (en).\n* any language codes outside the accepted list will be rejected; such as local system `qa` codes.\n\n### Contact preferences\nSingle item found under `extension` with the extension URL `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference`.\n\nIn a JSON Patch request the path should be:\n* `/extension/0` if the contact preference is the first item in the list. If it is the second item in the list the path will be `/extension/1`, and so on.\n* `/extension/-` when adding a contact preference.\n\nThere are a number of business rules that should be taken into account:\n* a patient can have `0` or `1` contact preference.\n* preferred contact time is a free-text field limited to 40 characters.\n* where a contact time is specified a contact method must also exist.\n\n### Date of birth\n\nSingle item found under `birthDate` field.\n\nIn a JSON Patch request the path should be `/birthDate`.\n\nWhen adding or updating the birth date, the update should be in the format `yyyy-mm-dd`.\n\nThere are a number of business rules that should be taken into account:\n* cannot be removed.\n* cannot be a date in the future.\n* cannot be after the deceased date, if present.\n\n### Date of death\n\nSingle item found under `deceasedDateTime` field.\n\nIn a JSON Patch request the path should be `/deceasedDateTime`.\n\nWhen adding or updating the deceased date time, the update should be in the format `yyyy-mm-ddTHH:MM:SS+HH:MM`.\n\nThere are a number of business rules that should be taken into account:\n* cannot be removed.\n* cannot be a date in the future.\n* cannot be before the birth date.\n* cannot be replaced if the death notification status is 2 (formal).\n* when adding date of death, a death notification status must also be added.\n\n### Death notification\n\nSingle item found under `extension` with the extension URL `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus`.\n\nIn a JSON Patch request the path should be:\n* `/extension/0` if the death notification is the first item in the list. If it is the second item in the list the path will be `/extension/1`, and so on.\n* `/extension/-` when adding a death notification.\n\nThere are a number of business rules that should be taken into account:\n* cannot be removed.\n* cannot be replaced if the death notification status is formal (2).\n* only certain endpoints can set a death notification of formal (2).\n* when adding a death notification, a deceased date time must also be added.\n\n### Gender\n\nSingle item found under `gender` field.\n\nIn a JSON Patch request the path should be `/gender`.\n\nWhen setting a gender, the local system should encourage the user to select `male` or `female` rather than `unknown`.\nThe fourth value of gender, `other`, meaning indeterminate; i.e. unable to be classified as either male or female; should never pro-actively be set by local systems - although this value can be retrieved due to legacy data or data quality issues.\n\nThere are a number of business rules that should be taken into account:\n  * cannot be removed.\n  * can only be `male`, `female` or `unknown`.\n  * cannot set gender to `other`.\n\n### General practice\n\nList item found under `generalPractitioner` field. Although only a single general practice is allowed.\n\nIn a JSON Patch request the path should be:\n* `/generalPractitioner/0` for replacing or removing the general practice.\n* `/generalPractitioner/-` when adding a new general practice.\n\nThere are a number of business rules that should be taken into account:\n* only valid GP Practice codes may be used, see [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details on valid codes.\n* the business effective `start` date is optional, however if provided cannot be a future date. If it is not provided it will default to the date of update.\n* do not provide a business effective `end` date.\n* the general practice should only be updated by primary care systems, [NHAIS](https://digital.nhs.uk/services/nhais) or by the National Back Office.\n* removal of a general practice can only be done by [NHAIS](https://digital.nhs.uk/services/nhais) or by the National Back Office.\n* only a single general practice is supported; emergency, temporary and additional practices must be maintained in the local system only.\n\n## Multiple birth order\n\nSingle item found under `multipleBirthInteger` field.\n\nIn a JSON Patch request the path should be `/multipleBirthInteger`.\n\nWhen adding or updating the birth order, the update should be an integer in the range `1` - `9` inclusive. These values have differing meanings:\n* 1 - 7 indicates the order of birth, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n* 8 - `Not applicable`\n* 9 - `Not known`\n\n### Name\n\nList item found under `name` field.\n\nIn a JSON Patch request the path should be:\n* `/name/0` if the name to be replaced or removed is the first item in the list. If it is the second item in the list the path will be `/name/1`, and so on.\n* `/name/-` when adding a new name.\n\nThere are a number of business rules that should be taken into account:\n* cannot add more than one `usual` name.\n* cannot remove the `usual` name.\n* cannot add more than one `nickname`.\n* can have multiple instances of all other name use types.\n* cannot replace the use type on an existing name. For example, once a name is a nickname, it cannot be changed directly to an alias. You must instead remove the nickname and add the alias.\n* the first character of each `suffix` item must be `A-Z`.\n* the date period is optional; where present they must a be valid dates and the `end` date cannot be before the `start` date.\n* supplied name data must be UTF-8 encodable.\n* the `period` is optional, but if included the `end` date cannot be before the `start` date. They can however be in the past, present or future.\n* the full available range of generally recognised titles are permitted, however, if any of the following are used then the value input must conform to the following format:\n    * Mr\n    * Mrs\n    * Ms\n    * Dr\n    * Rev\n    * Sir\n    * Lady\n    * Lord\n* any trailing full stops at the end of a prefix will be automatically removed; for example `Mrs.` will be changed to `Mrs`.\n\n### Pharmacy\n\nSingle item found under `extension` with one of the extension urls:\n* `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy`\n* `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier`\n* `https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor`\n\nIn a JSON Patch request the path should be:\n* `/extension/0` if the pharmacy is the first item in the list. If it is the second item in the list the path will be `/extension/1`, and so on.\n* `/extension/-` when adding a pharmacy.\n\nThere are a number of business rules that should be taken into account:\n* multiple pharmacies are allowed, however only one of each type.\n* there are no effective date periods, only a single current instance of each type is supported.\n\n## Place of birth\n\nSingle item found under `extension` with the extension URL `http://hl7.org/fhir/StructureDefinition/patient-birthPlace`.\n\nIn a JSON Patch request the path should be:\n* `/extension/0` if the place of birth is the first item in the list. If it is the second item in the list the path will be `/extension/1`, and so on.\n* `/extension/-` when adding a place of birth.\n\nThere are a number of business rules that should be taken into account:\n* the three fields, `city`, `district` and `country` are all optional, however at least one of them must be provided.\n* country is a coded value and must be in the set of valid values.\n\n## Sandbox test scenarios\n\nYou can test the following scenarios in our sandbox environment.\n\nThings to note when using the sandbox for PATCH:\n* Your changes will not be persisted.\n* JSON Patch operations themselves are validated, but the resulting resource is not validated for correctness; meaning any business rules are not applied.\n\n| Scenario                            | Request                                                                   | Response                                         |\n| ----------------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------ |\n| Successful update                   | `id`=`9000000009`<br/><br/>Body: One of the provided examples or your own combination of patches<br/><br/>Headers: `If-Match`=`W/\"2\"`, `Content-Type`=`application/json-patch+json` | HTTP Status 202 with the message URL to poll in the `Content-Location` header |\n| Patient doesn't exist               | `id`=`9111231130` (or any other valid NHS Number)                         | HTTP Status 404 with problem description         |\n| Invalid NHS Number                  | `id`=`9000000000` (or any invalid NHS Number)                             | HTTP Status 400 with problem description         |\n| Missing resource version identifier | `If-Match` header missing or set to format other than `W/\"<version>\"`     | HTTP Status 412 with problem description         |\n| Incorrect resource version          | `If-Match`=`W/\"1\"`                                                        | HTTP Status 412 with problem description         |\n| Wrong content type                  | `Content-Type` header missing or other than `application/json-patch+json` | HTTP Status 400 with problem description         |\n| No patches sent                     | Send body with no `patches` attribute                                     | HTTP Status 400 with problem description         |\n| Invalid patch operations            | Send body with invalid JSON patches in `patches` attribute                | HTTP Status 400 with problem description         |\n\nYou can try out the sandbox using the \"Try this API\" feature on the right hand side of this page.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n",
                "summary": "Update a patient's resource",
                "operationId": "update-patient-partial",
                "tags": [
                    "patients"
                ],
                "externalDocs": {
                    "description": "IETF RFC 6902, which defines json-patch.",
                    "url": "https://tools.ietf.org/html/rfc6902"
                },
                "parameters": [
                    {
                        "in": "header",
                        "name": "If-Match",
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\n\nSend the value of this resource's `ETag` response header (or `meta.versionId` property) as received.\n",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^W/\"[0-9]+\"$",
                            "example": "W/\"2\""
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",

                                "title": "Request Schema with all simple fields.",

                                "deprecated": true,


                                "description": "Request Test Schema Object description in `Markdown`.",

                                "multipleOf": 1.2,

                                "minimum": -2.3,
                                "exclusiveMinimum": true,
                                "maximum": 2.2,
                                "exclusiveMaximum": true,

                                "minLength": 11,
                                "maxLength": 22,

                                "pattern": "^(?:[0-9]{4}-[0-9]{2}-[0-9]{2})?(?:[ T][0-9]{2}:[0-9]{2}:[0-9]{2})?(?:[.,][0-9]{3})?",

                                "maxItems": 44,
                                "minItems": 33,

                                "uniqueItems": true,

                                "minProperties": 3,
                                "maxProperties": 5,

                                "format": "int(32)",

                                "nullable": true,

                                "readOnly": true,
                                "writeOnly": true
                            },
                            "examples": {
                                "add-deceased-date-time": {
                                    "summary": "Add a new single item (deceasedDateTime) to the patient",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "add",
                                                "path": "/deceasedDateTime",
                                                "value": "2010-10-22T00:00:00+00:00"
                                            }
                                        ]
                                    }
                                },
                                "add-name": {
                                    "summary": "Add a new list item (name) to the patient",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "add",
                                                "path": "/name/-",
                                                "value": {
                                                    "use": "usual",
                                                    "period": {
                                                        "start": "2019-12-31"
                                                    },
                                                    "prefix": [
                                                        "Dr"
                                                    ],
                                                    "given": [
                                                        "Joe",
                                                        "Horation",
                                                        "Maximus"
                                                    ],
                                                    "family": "Bloggs",
                                                    "suffix": [
                                                        "PhD"
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                "add-extension": {
                                    "summary": "Add a an extension (nominated pharmacy) to the Patient",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "add",
                                                "path": "/extension/-",
                                                "value": {
                                                    "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy",
                                                    "valueReference": {
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345",
                                                        "identifier": {
                                                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                            "value": "Y12345",
                                                            "period": {
                                                                "start": "2020-01-01",
                                                                "end": "2021-12-31"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "update-gender": {
                                    "summary": "Update the simple item (gender)",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "replace",
                                                "path": "/gender",
                                                "value": "male"
                                            }
                                        ]
                                    }
                                },
                                "update-address": {
                                    "summary": "Update specific fields on a list item (address)",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "replace",
                                                "path": "/address/0/line/0",
                                                "value": "2 Whitehall Quay"
                                            },
                                            {
                                                "op": "replace",
                                                "path": "/address/0/postalCode",
                                                "value": "LS1 4BU"
                                            }
                                        ]
                                    }
                                },
                                "update-address-alternative": {
                                    "summary": "Update whole object on a list item (address)",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "replace",
                                                "path": "/address/0",
                                                "value": {
                                                    "id": "456",
                                                    "period": {
                                                        "start": "2020-01-01",
                                                        "end": "2021-12-31"
                                                    },
                                                    "use": "home",
                                                    "line": [
                                                        "2 Whitehall Quay",
                                                        "Leeds",
                                                        "West Yorkshire"
                                                    ],
                                                    "postalCode": "LS1 4BU",
                                                    "extension": [
                                                        {
                                                            "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                            "extension": [
                                                                {
                                                                    "url": "type",
                                                                    "valueCoding": {
                                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                        "code": "PAF"
                                                                    }
                                                                },
                                                                {
                                                                    "url": "value",
                                                                    "valueString": "9876543"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                "update-extension": {
                                    "summary": "Update an extension (death notification)",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "replace",
                                                "path": "/extension/3",
                                                "value": {
                                                    "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                                    "extension": [
                                                        {
                                                            "url": "deathNotificationStatus",
                                                            "valueCodeableConcept": {
                                                                "coding": [
                                                                    {
                                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus",
                                                                        "version": "1.0.0",
                                                                        "code": "1",
                                                                        "display": "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust"
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                "delete-gender": {
                                    "summary": "Remove a single item (gender) no longer in use",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "remove",
                                                "path": "/gender"
                                            }
                                        ]
                                    }
                                },
                                "delete-name": {
                                    "summary": "Remove a list item (name) no longer in use, using test pointing to the name items id",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "test",
                                                "path": "/name/0/id",
                                                "value": "123"
                                            },
                                            {
                                                "op": "remove",
                                                "path": "/name/0"
                                            }
                                        ]
                                    }
                                },
                                "delete-name-alternative": {
                                    "summary": "Remove a list item (name) no longer in use, using test pointing to the name object",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "test",
                                                "path": "/name/0",
                                                "value": {
                                                    "id": "123",
                                                    "use": "usual",
                                                    "period": {
                                                        "start": "2020-01-01",
                                                        "end": "2021-12-31"
                                                    },
                                                    "given": [
                                                        "Jane"
                                                    ],
                                                    "family": "Smith",
                                                    "prefix": [
                                                        "Mrs"
                                                    ],
                                                    "suffix": [
                                                        "MBE"
                                                    ]
                                                }
                                            },
                                            {
                                                "op": "remove",
                                                "path": "/name/0"
                                            }
                                        ]
                                    }
                                },
                                "delete-extension": {
                                    "summary": "Remove an extension (dispensing doctor pharmacy) no longer in use",
                                    "value": {
                                        "patches": [
                                            {
                                                "op": "test",
                                                "path": "/extension/1/url",
                                                "value": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor"
                                            },
                                            {
                                                "op": "remove",
                                                "path": "/extension/1"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "The patch was syntactically correct and was accepted.\n\nA polling location will be returned in the `Content-Location` header and the polling interval in the `Retry-After` header.\n\nNote, the patch may still fail after it is accepted, for example, further validation of the patch may still result in business rule failures. Therefore, it should not be assumed that the patient is successfully updated after receiving acceptance of the message.\n\nSee the polling endpoint for more details.\n",
                        "headers": {
                            "Content-Location": {
                                "description": "Polling location of the update",
                                "schema": {
                                    "type": "string",
                                    "example": "/Polling/20200522091633363041_461139_1524772598"
                                }
                            },
                            "Retry-After": {
                                "description": "Time to wait between polls in milliseconds",
                                "schema": {
                                    "type": "string",
                                    "example": "100"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Client error.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "invalid-nhs-number": {
                                        "summary": "Invalid NHS number supplied",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "INVALID_RESOURCE_ID",
                                                                "display": "Resource Id is invalid"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    "no-patches-submitted": {
                                        "summary": "No patches submitted",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "required",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "MISSING_VALUE",
                                                                "display": "Missing value - patches"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    "invalid-patch-operation": {
                                        "summary": "Invalid patch operation(s)",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "INVALID_UPDATE",
                                                                "display": "Invalid update with error - Invalid payload received - incorrect format"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "412": {
                        "description": "Precondition failed.\n\nThe version identifier submitted in the `If-Match` header was not the latest version of the resource.\n",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "invalid-if-match": {
                                        "summary": "Invalid If-Match header",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "structure",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "PRECONDITION_FAILED",
                                                                "display": "Invalid update with error - This resource has changed since you last read. Please re-read and try again with the new version number."
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    "missing-if-match": {
                                        "summary": "Missing If-Match header",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "required",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "PRECONDITION_FAILED",
                                                                "display": "Invalid update with error - If-Match header must be supplied to update this resource"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Patient/{id}/RelatedPerson": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "example": "9000000009"
                    }
                },
                {
                    "in": "header",
                    "name": "NHSD-Session-URID",
                    "description": "A User Role ID (URID), also known as a User Role Profile ID (URPID), specifies the role the user is acting in.\n\nA URID belongs to a user (they are not generic) and a user may have more than one.\n\nFind out more about [User role ID](https://digital.nhs.uk/developer/user-restricted-restful-apis#user-completes-authentication-and-authorisation)\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "pattern": "^[0-9]+$",
                        "example": "555021935107"
                    }
                },
                {
                    "in": "header",
                    "name": "Authorization",
                    "description": "An OAuthV2 access token presented in Bearer format.\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "format": "^Bearer\\ [[:ascii:]]+$",
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    }
                }
            ],
            "get": {
                "description": "## Overview\nUse this endpoint to get a patient's related people details from PDS for a given NHS Number. This is a list of people who can be contacted, and how, regarding the patient. These details may be useful for a practitioner to get in contact with a next of kin or guardian.\n\n## Restricted patients\nSome patients are tagged as [restricted](https://digital.nhs.uk/services/demographics/restricting-access-to-a-patients-demographic-record), or sensitive. Related people will not be returned for a restricted patient and an empty bundle will be returned.\n\nIf a related person only contains a patient reference reference, and when the patient is retrieved, it is restricted; location sensitive fields such as `address` and `telecom` will be removed.\n\n## Sandbox test scenarios\nYou can test the following scenarios in our sandbox environment:\n\n| Scenario                        | Request                                       | Response                                                      |\n| ------------------------------- | --------------------------------------------- | ------------------------------------------------------------- |\n| Multiple related people exists  | `id`=`9000000009`                             | HTTP Status 200 with related person data in a response Bundle |\n| Single related person exists    | `id`=`9000000017`                             | HTTP Status 200 with related person data in a response Bundle |\n| Related people do not exist     | `id`=`9000000025`                             | HTTP Status 404 with problem description                      |\n\nYou can try out the sandbox using the \"Try this API\" feature on the right hand side of this page.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n",
                "summary": "Retrieve a list of Related Person resources for a given patient",
                "operationId": "get-related-people",
                "tags": [
                    "relatedperson"
                ],
                "responses": {
                    "200": {
                        "description": "Information successfully returned.",
                        "headers": {
                            "ETag": {
                                "schema": {
                                    "type": "string",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "example": "W/\"2\""
                                },
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n"
                            }
                        },
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "Bundle"
                                        },
                                        "type": {
                                            "type": "string",
                                            "description": "FHIR Bundle Type.",
                                            "default": "searchset"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "description": "Time the search was performed.",
                                            "format": "datetime",
                                            "example": "2019-12-25T12:00:00+00:00"
                                        },
                                        "total": {
                                            "type": "integer",
                                            "description": "Number of resources returned in search.",
                                            "example": 1
                                        },
                                        "entry": {
                                            "type": "array",
                                            "description": "A list of related people details attached to the patient. \n",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "fullUrl": {
                                                        "type": "string",
                                                        "description": "Absolute URL of the resource described in this item.",
                                                        "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009/RelatedPerson/507B7621"
                                                    },
                                                    "resource": {
                                                        "type": "object",
                                                        "additionalProperties": false,
                                                        "required": [
                                                            "patient",
                                                            "relationship"
                                                        ],
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "description": "Unique object identifier for this name.",
                                                                "readOnly": true,
                                                                "example": "507B7621"
                                                            },
                                                            "resourceType": {
                                                                "type": "string",
                                                                "description": "FHIR resource type.",
                                                                "default": "RelatedPerson",
                                                                "readOnly": true
                                                            },
                                                            "patient": {
                                                                "type": "object",
                                                                "required": [
                                                                    "type"
                                                                ],
                                                                "properties": {
                                                                    "type": {
                                                                        "type": "string",
                                                                        "default": "Patient",
                                                                        "enum": [
                                                                            "Patient"
                                                                        ],
                                                                        "readOnly": true
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Identifier and system of identification used for this Patient.\n\nThis is an optional field as related person details are either a reference to another NHS Number, or the details, such as name and adress, stored directly on the resource.\n",
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the Patient retrieval API.",
                                                                                "format": "url",
                                                                                "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "NHS Number for the related person",
                                                                                "example": "90000000009",
                                                                                "pattern": "^\\d{10}$"
                                                                            }
                                                                        }
                                                                    },
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL for the FHIR Patient resource.",
                                                                        "format": "url",
                                                                        "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/90000000009",
                                                                        "readOnly": true
                                                                    }
                                                                }
                                                            },
                                                            "active": {
                                                                "type": "boolean",
                                                                "default": true,
                                                                "readOnly": true
                                                            },
                                                            "period": {
                                                                "type": "object",
                                                                "description": "Time period when name was, is, or will be in use.",
                                                                "required": [
                                                                    "start"
                                                                ],
                                                                "properties": {
                                                                    "start": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2020-01-01"
                                                                    },
                                                                    "end": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2021-12-31"
                                                                    }
                                                                }
                                                            },
                                                            "name": {
                                                                "type": "array",
                                                                "description": "List containing zero or one name associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n\nIf no `patient` reference is available `name` and `address` must be provided at the minimum.\n",
                                                                "maxItems": 1,
                                                                "items": {
                                                                    "type": "object",
                                                                    "required": [
                                                                        "use",
                                                                        "family"
                                                                    ],
                                                                    "additionalProperties": false,
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique object identifier for this name.",
                                                                            "readOnly": true,
                                                                            "example": "123"
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                                                            "enum": [
                                                                                "usual",
                                                                                "temp",
                                                                                "nickname",
                                                                                "old",
                                                                                "maiden"
                                                                            ],
                                                                            "example": "usual"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "given": {
                                                                            "type": "array",
                                                                            "maxItems": 5,
                                                                            "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                                                            "example": [
                                                                                "Jane",
                                                                                "Adele"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "maxLength": 35,
                                                                                "example": "Jane"
                                                                            }
                                                                        },
                                                                        "family": {
                                                                            "type": "string",
                                                                            "maxLength": 35,
                                                                            "description": "Family name (often called Surname).",
                                                                            "example": "Smith"
                                                                        },
                                                                        "prefix": {
                                                                            "type": "array",
                                                                            "description": "Name prefixes, titles, and prenominals.",
                                                                            "example": [
                                                                                "Mrs"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "example": "Mrs"
                                                                            }
                                                                        },
                                                                        "suffix": {
                                                                            "type": "array",
                                                                            "description": "Name suffices and postnominals.",
                                                                            "example": [
                                                                                "MBE",
                                                                                "PhD"
                                                                            ],
                                                                            "items": {
                                                                                "type": "string",
                                                                                "example": "MBE"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "address": {
                                                                "type": "array",
                                                                "description": "List containing zero or one address associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n\nIf no `patient` reference is available `name` and `address` must be provided at the minimum.\n",
                                                                "maxItems": 1,
                                                                "items": {
                                                                    "type": "object",
                                                                    "description": "An address associated with the patient.",
                                                                    "required": [
                                                                        "use"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique system identifier for this address.",
                                                                            "readOnly": true,
                                                                            "example": "456"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                                                            "enum": [
                                                                                "home",
                                                                                "work",
                                                                                "temp",
                                                                                "billing"
                                                                            ],
                                                                            "example": "home"
                                                                        },
                                                                        "line": {
                                                                            "type": "array",
                                                                            "description": "All lines of the address except the postal code.",
                                                                            "maxItems": 5,
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "example": [
                                                                                "1 Trevelyan Square",
                                                                                "Boar Lane",
                                                                                "City Centre",
                                                                                "Leeds",
                                                                                "West Yorkshire"
                                                                            ]
                                                                        },
                                                                        "postalCode": {
                                                                            "type": "string",
                                                                            "description": "Postal code of the address.",
                                                                            "example": "LS1 6AE"
                                                                        },
                                                                        "extension": {
                                                                            "type": "array",
                                                                            "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "description": "Unique identifier for an address.",
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "URL of specification of the AddressKey extension.",
                                                                                        "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                                                        "enum": [
                                                                                            "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                                                        ],
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "extension": {
                                                                                        "type": "array",
                                                                                        "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                                                        "minItems": 2,
                                                                                        "maxItems": 2,
                                                                                        "items": {
                                                                                            "anyOf": [
                                                                                                {
                                                                                                    "type": "object",
                                                                                                    "description": "Coding system of the address key.",
                                                                                                    "required": [
                                                                                                        "url",
                                                                                                        "valueCoding"
                                                                                                    ],
                                                                                                    "properties": {
                                                                                                        "url": {
                                                                                                            "type": "string",
                                                                                                            "description": "Always 'type'.",
                                                                                                            "default": "type",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "valueCoding": {
                                                                                                            "type": "object",
                                                                                                            "description": "URL of specification of address key format.",
                                                                                                            "required": [
                                                                                                                "system",
                                                                                                                "code"
                                                                                                            ],
                                                                                                            "properties": {
                                                                                                                "system": {
                                                                                                                    "type": "string",
                                                                                                                    "description": "URL of Code System that describes available Address Key formats.",
                                                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                                                                    "readOnly": true
                                                                                                                },
                                                                                                                "code": {
                                                                                                                    "type": "string",
                                                                                                                    "description": "Address Key system. Always 'PAF'.",
                                                                                                                    "default": "PAF",
                                                                                                                    "example": "PAF",
                                                                                                                    "readOnly": true
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                {
                                                                                                    "type": "object",
                                                                                                    "description": "Value of the address key.",
                                                                                                    "required": [
                                                                                                        "url",
                                                                                                        "valueString"
                                                                                                    ],
                                                                                                    "properties": {
                                                                                                        "url": {
                                                                                                            "type": "string",
                                                                                                            "description": "Always 'value'.",
                                                                                                            "default": "value",
                                                                                                            "example": "value",
                                                                                                            "readOnly": true
                                                                                                        },
                                                                                                        "valueString": {
                                                                                                            "type": "string",
                                                                                                            "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                                                            "minLength": 8,
                                                                                                            "maxLength": 8,
                                                                                                            "pattern": "^[0-9]{8}$",
                                                                                                            "example": "12345678"
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "telecom": {
                                                                "type": "array",
                                                                "description": "List containing zero to five contact methods associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n",
                                                                "maxItems": 5,
                                                                "items": {
                                                                    "description": "A contact point, such as a phone number or email address",
                                                                    "type": "object",
                                                                    "required": [
                                                                        "system",
                                                                        "value"
                                                                    ],
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "description": "Unique object identifier for this contact point.",
                                                                            "readOnly": true,
                                                                            "example": "789"
                                                                        },
                                                                        "period": {
                                                                            "type": "object",
                                                                            "description": "Time period when name was, is, or will be in use.",
                                                                            "required": [
                                                                                "start"
                                                                            ],
                                                                            "properties": {
                                                                                "start": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2020-01-01"
                                                                                },
                                                                                "end": {
                                                                                    "type": "string",
                                                                                    "format": "date",
                                                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                                    "example": "2021-12-31"
                                                                                }
                                                                            }
                                                                        },
                                                                        "system": {
                                                                            "description": "Means of communication, such as phone or email.",
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "phone",
                                                                                "fax",
                                                                                "email",
                                                                                "other"
                                                                            ],
                                                                            "example": "phone"
                                                                        },
                                                                        "value": {
                                                                            "description": "Phone number, email address, or other identifier for use with contact system.",
                                                                            "type": "string",
                                                                            "example": "01632960587"
                                                                        },
                                                                        "use": {
                                                                            "type": "string",
                                                                            "description": "Location associated with communication system.",
                                                                            "enum": [
                                                                                "home",
                                                                                "work",
                                                                                "temp",
                                                                                "mobile"
                                                                            ],
                                                                            "example": "work"
                                                                        },
                                                                        "extension": {
                                                                            "type": "array",
                                                                            "maxItems": 1,
                                                                            "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "description": "Wrapped object for other contact system details.",
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Definition of other contact system extension.",
                                                                                        "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                                        "enum": [
                                                                                            "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                                        ],
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueCoding": {
                                                                                        "type": "object",
                                                                                        "description": "URL of specification of other contact systems.",
                                                                                        "properties": {
                                                                                            "system": {
                                                                                                "type": "string",
                                                                                                "description": "URL of Code System that describes available contact relationships.",
                                                                                                "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                                                "readOnly": true
                                                                                            },
                                                                                            "code": {
                                                                                                "type": "string",
                                                                                                "description": "Coded value for the other contact system in place.",
                                                                                                "example": "textphone"
                                                                                            },
                                                                                            "display": {
                                                                                                "description": "Display-friendly representation of the other contact system code.",
                                                                                                "type": "string",
                                                                                                "example": "Minicom (Textphone)"
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "relationship": {
                                                                "type": "array",
                                                                "description": "The relationship of the related person to the patient.\n",
                                                                "minItems": 1,
                                                                "maxItems": 1,
                                                                "items": {
                                                                    "type": "object",
                                                                    "required": [
                                                                        "coding"
                                                                    ],
                                                                    "properties": {
                                                                        "coding": {
                                                                            "type": "array",
                                                                            "description": "Coded values for three relationship types:\n* Role\n* Type\n* Next-of-Kin\n\nThe codes used can be found at:\n* http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype\n* https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole\n\nThe allowed values for `Role` are:\n* Agent - Agent of patient\n* Guardian - Guardian of patient\n* Personal - Personal relationship with the patient\n\nThe allowed values for `Type` are:\n* SPS - spouse\n* DOMPART - domestic partner\n* PRN - parent\n* PRNFOST - foster parent\n* STPPRN - step parent\n* CHILD - child\n* MTH - mother\n* FTH - father\n* SIS - sister\n* BRO - brother\n* FAMMEMB - family member\n* ONESELF - self\n* N - Next-of-Kin\n* U - Unknown\n* PolygamousPartner - Polygamous Partner of patient\n* Dependant - Dependant of patient\n* NonDependant - Non Dependant of patient\n* ProxyContact - Proxy Contact for patient\n* ProxyCommunication - Proxy Communication for patient\n* ProxyContactCommunication - Proxy Contact and Communication for patient\n* Carer - Carer of patient\n* Guardian - Guardian of patient\n* NotSpecified - Not Specified\n\nThe allowed values for `Next-of-Kin` are:\n* N - Next-of-Kin\n\n`Role` and `Type` are mandatory, so both should be present - however they both contain the `Guardian` code - so a single response is possible.\n\n`Next-of-Kin` is optional and will be absent from the response when the related person is not the Next-of-Kin.\n",
                                                                            "minItems": 1,
                                                                            "maxItems": 3,
                                                                            "items": {
                                                                                "type": "object",
                                                                                "required": [
                                                                                    "system",
                                                                                    "code"
                                                                                ],
                                                                                "properties": {
                                                                                    "system": {
                                                                                        "type": "string",
                                                                                        "description": "URI of the coding system specification.",
                                                                                        "format": "url",
                                                                                        "readOnly": true,
                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole",
                                                                                        "enum": [
                                                                                            "http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype",
                                                                                            "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole"
                                                                                        ]
                                                                                    },
                                                                                    "code": {
                                                                                        "type": "string",
                                                                                        "description": "Symbol in syntax defined by the system.",
                                                                                        "example": "Guardian"
                                                                                    },
                                                                                    "display": {
                                                                                        "type": "string",
                                                                                        "description": "Human-friendly display representation defined by the system.",
                                                                                        "example": "Guardian of patient"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Wrapper array for copy correspondence, contact rank, contact preferences and communication details; these are all FHIR extensions. Always contains zero or one of each extension type.\n",
                                                                "items": {
                                                                    "anyOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Flag indicating if this person should be copied in on any contact with the Patient. This will only be returned if the value is true and the person should be copied in on correspondence, otherwise it will be omitted. \n",
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "URL to FHIR Extension Specification.",
                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueBoolean": {
                                                                                    "type": "boolean",
                                                                                    "description": "Flag indicating if this person should be copied in on correspondence. This will only be returned if the value is `true` otherwise it will not be returned and can be assumed `false`",
                                                                                    "example": true
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Rank indicating order in which contacts should be tried.",
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "URL to FHIR Extension Specification.",
                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valuePositiveInt": {
                                                                                    "type": "integer",
                                                                                    "minimum": 1,
                                                                                    "maximum": 99,
                                                                                    "description": "Rank expressed as positive integer (1 being the highest).",
                                                                                    "example": 1
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "title": "Wrapper object for preferred contact details; the written communication format, preferred contact time and method. This will only be populated on a retrieval and not a search.",
                                                                            "type": "object",
                                                                            "required": [
                                                                                "url",
                                                                                "extension"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Definition of the contact preference extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "extension": {
                                                                                    "description": "Wrapper array containing zero or one preferred contact method, zero or one preferred written communication format; and zero or one preferred contact time.",
                                                                                    "type": "array",
                                                                                    "maxItems": 3,
                                                                                    "items": {
                                                                                        "oneOf": [
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for preferred written communication format.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueCodeableConcept"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `PreferredWrittenCommunicationFormat`.",
                                                                                                        "default": "PreferredWrittenCommunicationFormat",
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueCodeableConcept": {
                                                                                                        "type": "object",
                                                                                                        "description": "Preferred Written Communication Format.",
                                                                                                        "required": [
                                                                                                            "coding"
                                                                                                        ],
                                                                                                        "properties": {
                                                                                                            "coding": {
                                                                                                                "type": "array",
                                                                                                                "minItems": 1,
                                                                                                                "maxItems": 1,
                                                                                                                "items": {
                                                                                                                    "type": "object",
                                                                                                                    "required": [
                                                                                                                        "code"
                                                                                                                    ],
                                                                                                                    "properties": {
                                                                                                                        "system": {
                                                                                                                            "type": "string",
                                                                                                                            "format": "url",
                                                                                                                            "description": "Definition of the preferred written communication extension.",
                                                                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat",
                                                                                                                            "enum": [
                                                                                                                                "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                                                                            ],
                                                                                                                            "readOnly": true
                                                                                                                        },
                                                                                                                        "code": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "A code to identify the preferred written communication format of a patient, contact or related person.\n* 11 - Large print\n* 12 - Braille\n* 13 - Audio tape\n",
                                                                                                                            "example": "12"
                                                                                                                        },
                                                                                                                        "display": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Display-friendly representation of the preferred written communication format code.",
                                                                                                                            "example": "Braille"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for preferred contact method.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueCodeableConcept"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `PreferredContactMethod`.",
                                                                                                        "default": "PreferredContactMethod",
                                                                                                        "enum": [
                                                                                                            "PreferredContactMethod"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueCodeableConcept": {
                                                                                                        "type": "object",
                                                                                                        "description": "Preferred Contact Method.",
                                                                                                        "required": [
                                                                                                            "coding"
                                                                                                        ],
                                                                                                        "properties": {
                                                                                                            "coding": {
                                                                                                                "type": "array",
                                                                                                                "minItems": 1,
                                                                                                                "maxItems": 1,
                                                                                                                "items": {
                                                                                                                    "type": "object",
                                                                                                                    "required": [
                                                                                                                        "code"
                                                                                                                    ],
                                                                                                                    "properties": {
                                                                                                                        "system": {
                                                                                                                            "type": "string",
                                                                                                                            "format": "url",
                                                                                                                            "description": "Definition of the preferred contact method extension.",
                                                                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod",
                                                                                                                            "enum": [
                                                                                                                                "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                                                                            ],
                                                                                                                            "readOnly": true
                                                                                                                        },
                                                                                                                        "code": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "A code to identify to identify the preferred contact method of a patient, contact or related person.\n* 1\t- Letter\n* 2\t- Visit\n* 3\t- Telephone\n* 4\t- E-mail\n* 5\t- Minicom (Textphone)\n* 6\t- Telephone contact via proxy\n* 7\t- Sign language\n* 8\t- No Telephone contact\n",
                                                                                                                            "example": "1"
                                                                                                                        },
                                                                                                                        "display": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Display-friendly representation of the preferred contact method code.",
                                                                                                                            "example": "Letter"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for preferred contact times.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueString"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `PreferredContactTimes`.",
                                                                                                        "default": "PreferredContactTimes",
                                                                                                        "enum": [
                                                                                                            "PreferredContactTimes"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueString": {
                                                                                                        "type": "string",
                                                                                                        "maximum": 40,
                                                                                                        "description": "A free-text description about the preferred contact times.",
                                                                                                        "example": "Not after 7pm"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for communication details. This will only be populated on a retrieval and not a search.",
                                                                            "required": [
                                                                                "url",
                                                                                "extension"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Definition of communication extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "extension": {
                                                                                    "type": "array",
                                                                                    "description": "Definition of communication extension, The array must have two items, a valueCodeableConcept for the language and a valueBoolean for if an interpreter is required.",
                                                                                    "minItems": 1,
                                                                                    "maxItems": 2,
                                                                                    "items": {
                                                                                        "anyOf": [
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for communication language.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueCodeableConcept"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `language`.",
                                                                                                        "default": "language",
                                                                                                        "enum": [
                                                                                                            "language"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueCodeableConcept": {
                                                                                                        "type": "object",
                                                                                                        "description": "Human language.",
                                                                                                        "required": [
                                                                                                            "coding"
                                                                                                        ],
                                                                                                        "properties": {
                                                                                                            "coding": {
                                                                                                                "type": "array",
                                                                                                                "description": "Exactly one language code.",
                                                                                                                "minItems": 1,
                                                                                                                "maxItems": 1,
                                                                                                                "items": {
                                                                                                                    "type": "object",
                                                                                                                    "required": [
                                                                                                                        "code"
                                                                                                                    ],
                                                                                                                    "properties": {
                                                                                                                        "system": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "URL of the Language Code System. Always uses the 'UKCore-HumanLanguage' Code System.",
                                                                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                                                                            "readOnly": true
                                                                                                                        },
                                                                                                                        "version": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Version of the language code system.",
                                                                                                                            "example": "1.0.0"
                                                                                                                        },
                                                                                                                        "code": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Language code based on [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) standard plus extensions for braille, makaton and sign languages, which are:\n* `q1` - Braille\n* `q2` - American Sign Language\n* `q3` - Australian Sign Language\n* `q4` - British Sign Language\n* `q5` - Makaton\nAll valid codes combined can be found at https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage.\n",
                                                                                                                            "example": "fr"
                                                                                                                        },
                                                                                                                        "display": {
                                                                                                                            "type": "string",
                                                                                                                            "description": "Display-friendly representation of the language code (such as English). If there is a language code with no defined mapping, `Unknown` will be returned.",
                                                                                                                            "example": "French"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "object",
                                                                                                "description": "Wrapper object for whether an interpreter is required.",
                                                                                                "required": [
                                                                                                    "url",
                                                                                                    "valueBoolean"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "url": {
                                                                                                        "type": "string",
                                                                                                        "description": "Key of this object. Always `interpreterRequired`.",
                                                                                                        "default": "interpreterRequired",
                                                                                                        "enum": [
                                                                                                            "interpreterRequired"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "valueBoolean": {
                                                                                                        "type": "boolean",
                                                                                                        "description": "Whether an interpreter is required.",
                                                                                                        "example": true
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "Bundle",
                                    "type": "searchset",
                                    "timestamp": "2019-12-25T12:00:00+00:00",
                                    "total": 1,
                                    "entry": [
                                        {
                                            "fullUrl": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009/RelatedPerson/507B7621",
                                            "resource": {
                                                "active": true,
                                                "address": [
                                                    {
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "type",
                                                                        "valueCoding": {
                                                                            "code": "PAF",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType"
                                                                        }
                                                                    },
                                                                    {
                                                                        "url": "value",
                                                                        "valueString": "12345678"
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                            }
                                                        ],
                                                        "line": [
                                                            "1 Trevelyan Square",
                                                            "Boar Lane",
                                                            "City Centre",
                                                            "Leeds",
                                                            "West Yorkshire"
                                                        ],
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "postalCode": "LS1 6AE",
                                                        "use": "home"
                                                    }
                                                ],
                                                "extension": [
                                                    {
                                                        "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator",
                                                        "valueBoolean": true
                                                    },
                                                    {
                                                        "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank",
                                                        "valuePositiveInt": 1
                                                    },
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "PreferredWrittenCommunicationFormat",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "12",
                                                                            "display": "Braille",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "url": "PreferredContactMethod",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "1",
                                                                            "display": "Letter",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "url": "PreferredContactTimes",
                                                                "valueString": "Not after 7pm"
                                                            }
                                                        ],
                                                        "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                                    },
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "language",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "fr",
                                                                            "display": "French",
                                                                            "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                            "version": "1.0.0"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "url": "interpreterRequired",
                                                                "valueBoolean": true
                                                            }
                                                        ],
                                                        "url": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                                    }
                                                ],
                                                "id": "507B7621",
                                                "name": [
                                                    {
                                                        "family": "Smith",
                                                        "given": [
                                                            "Jane"
                                                        ],
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "prefix": [
                                                            "Mrs"
                                                        ],
                                                        "suffix": [
                                                            "MBE"
                                                        ],
                                                        "use": "usual"
                                                    }
                                                ],
                                                "patient": {
                                                    "identifier": {
                                                        "system": "https://beta.api.digital.nhs.uk/personal-demographics/Patient",
                                                        "value": "90000000009"
                                                    },
                                                    "reference": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/90000000009",
                                                    "type": "Patient"
                                                },
                                                "period": {
                                                    "end": "2021-12-31",
                                                    "start": "2020-01-01"
                                                },
                                                "relationship": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "Guardian",
                                                                "display": "Guardian of patient",
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "resourceType": "RelatedPerson",
                                                "telecom": [
                                                    {
                                                        "period": {
                                                            "end": "2021-12-31",
                                                            "start": "2020-01-01"
                                                        },
                                                        "system": "phone",
                                                        "use": "work",
                                                        "value": "01632960587"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid NHS number supplied.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "value",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "INVALID_RESOURCE_ID",
                                                        "display": "Resource Id is invalid"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Related People not found.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "not-found",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "RESOURCE_NOT_FOUND",
                                                        "display": "Resource not found"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Polling/{message_id}": {
            "parameters": [
                {
                    "name": "message_id",
                    "in": "path",
                    "description": "The message ID of the accepted update that needs to be submitted to confirm the resource a successfully updated.",
                    "required": true,
                    "schema": {
                        "type": "string",
                        "example": 20200522091633363041000001
                    }
                },
                {
                    "in": "header",
                    "name": "NHSD-Session-URID",
                    "description": "A User Role ID (URID), also known as a User Role Profile ID (URPID), specifies the role the user is acting in.\n\nA URID belongs to a user (they are not generic) and a user may have more than one.\n\nFind out more about [User role ID](https://digital.nhs.uk/developer/user-restricted-restful-apis#user-completes-authentication-and-authorisation)\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "pattern": "^[0-9]+$",
                        "example": "555021935107"
                    }
                },
                {
                    "in": "header",
                    "name": "Authorization",
                    "description": "An OAuthV2 access token presented in Bearer format.\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                    "required": false,
                    "schema": {
                        "format": "^Bearer\\ [[:ascii:]]+$",
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    }
                }
            ],
            "get": {
                "description": "## Overview\nUse this endpoint to poll for the outcome of an updated patient record.\n\nWhen updating resources the request is dealt with in an asynchronous manner.\n\nOnce the initial request is accepted a `202` response will be returned with a `Content-Location` header, use this location to poll for the outcome. It will be in the form `/Polling/<message id>`.\n\nRequests should be sent to the polling endpoint until a `202` response is no longer returned and the response is dealt with appropriately.\n\nPolls should be done at a reasonable frequency to avoid excess traffic; the `Retry-After` header will provide the time to wait in milliseconds between polls, although polling with a larger gap is also allowed.\nRetrieval of the outcome will not occur any faster by polling more frequently. The server will simply return a cached response.\n\n## Sandbox test scenarios\nYou can test the following scenarios in our sandbox environment:\n\n| Scenario                                                   | Request                                               | Response                                    |\n| ---------------------------------------------------------- | ----------------------------------------------------- | --------------------------------------------|\n| Perform a valid patch request and use the content-location | `message_id` whatever was in update accepted response | HTTP Status 200 with updated patient data   |\n| Polling message ID when update is not yet complete         | `message_id`=`20200522091633363041_000001`            | HTTP Status 202 with no data                |\n| Polling message ID not found                               | `message_id`=`20200522091633363041_000002`            | HTTP Status 404 with operation outcome body |\n\nYou can try out the sandbox using the \"Try this API\" feature on the right hand side of this page.\n\nAlternatively, you can try out the sandbox using our Postman collection:\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/97e8db28d4f7264446fe)\n",
                "summary": "Retrieve the outcome of the accepted update.",
                "operationId": "polling",
                "tags": [
                    "polling"
                ],
                "responses": {
                    "200": {
                        "description": "Patient updated.",
                        "headers": {
                            "ETag": {
                                "schema": {
                                    "type": "string",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "example": "W/\"2\""
                                },
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n"
                            }
                        },
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "required": [
                                        "id"
                                    ],
                                    "additionalProperties": false,
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR resource type.",
                                            "default": "Patient",
                                            "readOnly": true
                                        },
                                        "id": {
                                            "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                            "type": "string",
                                            "pattern": "^\\d{10}$",
                                            "example": "9000000009"
                                        },
                                        "identifier": {
                                            "type": "array",
                                            "description": "Identifier and system of identification used for this Patient.",
                                            "readOnly": true,
                                            "items": {
                                                "type": "object",
                                                "maxItems": 1,
                                                "required": [
                                                    "value"
                                                ],
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "format": "url",
                                                        "description": "System identifier belongs to.",
                                                        "default": "https://fhir.nhs.uk/Id/nhs-number",
                                                        "readOnly": true
                                                    },
                                                    "value": {
                                                        "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                                        "type": "string",
                                                        "pattern": "^\\d{10}$",
                                                        "example": "9000000009"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "description": "FHIR extensions.",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Status indicating if NHS number is present and verified.",
                                                            "readOnly": true,
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "URL of the extension definition.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "valueCodeableConcept": {
                                                                    "type": "object",
                                                                    "description": "NHS Number Verification Status Indicator.",
                                                                    "required": [
                                                                        "coding"
                                                                    ],
                                                                    "properties": {
                                                                        "coding": {
                                                                            "type": "array",
                                                                            "minItems": 1,
                                                                            "maxItems": 1,
                                                                            "items": {
                                                                                "type": "object",
                                                                                "required": [
                                                                                    "code"
                                                                                ],
                                                                                "properties": {
                                                                                    "system": {
                                                                                        "type": "string",
                                                                                        "description": "URI of the coding system specification.",
                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "version": {
                                                                                        "type": "string",
                                                                                        "description": "Version of the coding system in use.",
                                                                                        "example": "1.0.0"
                                                                                    },
                                                                                    "code": {
                                                                                        "type": "string",
                                                                                        "description": "Symbol in syntax defined by the system.",
                                                                                        "example": "01"
                                                                                    },
                                                                                    "display": {
                                                                                        "type": "string",
                                                                                        "description": "Representation defined by the system.",
                                                                                        "example": "Number present and verified"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "meta": {
                                            "type": "object",
                                            "description": "Metadata about this resource.",
                                            "properties": {
                                                "versionId": {
                                                    "type": "string",
                                                    "description": "The NHS Digital assigned version of the patient resource.",
                                                    "readOnly": true,
                                                    "example": "2"
                                                },
                                                "security": {
                                                    "type": "array",
                                                    "description": "The level of security on the patients record, which affects which fields are populated on retrieval. The possible responses are:\n* U - unrestricted. All available data will be returned.\n* R - restricted. Any sensitive data around the patient's location, so `address`, `generalPractitioner` and `telecom`, will be removed from the response.\n* V - very restricted. All patient data will be removed from the response apart from `id`, `identifier` and `meta` fields. The `gender` field will return `unknown` regardless of actual gender.\n* REDACTED - redacted. The patient record has been marked as invalid, so the data should not be used. This code will never be returned; you will receive a 404, and appropriate error response, if an invalidated patient retrieval is attempted.\n",
                                                    "readOnly": true,
                                                    "maxItems": 1,
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "system": {
                                                                "type": "string",
                                                                "description": "URI of the value set specification.",
                                                                "example": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                                            },
                                                            "code": {
                                                                "type": "string",
                                                                "description": "Code defined by the system value set.",
                                                                "enum": [
                                                                    "U",
                                                                    "R",
                                                                    "V",
                                                                    "REDACTED"
                                                                ],
                                                                "example": "U"
                                                            },
                                                            "display": {
                                                                "type": "string",
                                                                "description": "Representation defined by the system.",
                                                                "enum": [
                                                                    "unrestricted",
                                                                    "restricted",
                                                                    "very restricted",
                                                                    "redacted"
                                                                ],
                                                                "example": "unrestricted"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "name": {
                                            "type": "array",
                                            "description": "List of names associated with the patient.\n\nWhen a patient tagged as `very restricted` is retrieved, all names will be removed from the response.\n",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "use",
                                                    "family"
                                                ],
                                                "additionalProperties": false,
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique object identifier for this name.",
                                                        "readOnly": true,
                                                        "example": "123"
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                                        "enum": [
                                                            "usual",
                                                            "temp",
                                                            "nickname",
                                                            "old",
                                                            "maiden"
                                                        ],
                                                        "example": "usual"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "given": {
                                                        "type": "array",
                                                        "maxItems": 5,
                                                        "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                                        "example": [
                                                            "Jane",
                                                            "Adele"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "maxLength": 35,
                                                            "example": "Jane"
                                                        }
                                                    },
                                                    "family": {
                                                        "type": "string",
                                                        "maxLength": 35,
                                                        "description": "Family name (often called Surname).",
                                                        "example": "Smith"
                                                    },
                                                    "prefix": {
                                                        "type": "array",
                                                        "description": "Name prefixes, titles, and prenominals.",
                                                        "example": [
                                                            "Mrs"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "example": "Mrs"
                                                        }
                                                    },
                                                    "suffix": {
                                                        "type": "array",
                                                        "description": "Name suffices and postnominals.",
                                                        "example": [
                                                            "MBE",
                                                            "PhD"
                                                        ],
                                                        "items": {
                                                            "type": "string",
                                                            "example": "MBE"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "gender": {
                                            "type": "string",
                                            "description": "Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.\nIt is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patient\u2019s registered birth gender, or their current clinical gender.\n",
                                            "enum": [
                                                "male",
                                                "female",
                                                "other",
                                                "unknown"
                                            ],
                                            "example": "female"
                                        },
                                        "birthDate": {
                                            "description": "The date on which the patient was born or is officially deemed to have been born.\n\nIt is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.\n",
                                            "example": "2010-10-22",
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "multipleBirthInteger": {
                                            "type": "integer",
                                            "minimum": 1,
                                            "maximum": 9,
                                            "description": "The order in which the patient was born, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n\nThere are two other valid values; `8` meaning `Not applicable` and `9` meaning `Not known`.\n",
                                            "example": 1
                                        },
                                        "deceasedDateTime": {
                                            "description": "The date and time on which a person died or is officially deemed to have died, if applicable and known.\n\nIt is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, death date will be removed from the response.\n",
                                            "example": "2010-10-22T00:00:00+00:00",
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "address": {
                                            "type": "array",
                                            "description": "List of addresses associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `home` address will be returned on a search.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.\n",
                                            "items": {
                                                "type": "object",
                                                "description": "An address associated with the patient.",
                                                "required": [
                                                    "use"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique system identifier for this address.",
                                                        "readOnly": true,
                                                        "example": "456"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                                        "enum": [
                                                            "home",
                                                            "work",
                                                            "temp",
                                                            "billing"
                                                        ],
                                                        "example": "home"
                                                    },
                                                    "line": {
                                                        "type": "array",
                                                        "description": "All lines of the address except the postal code.",
                                                        "maxItems": 5,
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "example": [
                                                            "1 Trevelyan Square",
                                                            "Boar Lane",
                                                            "City Centre",
                                                            "Leeds",
                                                            "West Yorkshire"
                                                        ]
                                                    },
                                                    "postalCode": {
                                                        "type": "string",
                                                        "description": "Postal code of the address.",
                                                        "example": "LS1 6AE"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Unique identifier for an address.",
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "URL of specification of the AddressKey extension.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "extension": {
                                                                    "type": "array",
                                                                    "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                                    "minItems": 2,
                                                                    "maxItems": 2,
                                                                    "items": {
                                                                        "anyOf": [
                                                                            {
                                                                                "type": "object",
                                                                                "description": "Coding system of the address key.",
                                                                                "required": [
                                                                                    "url",
                                                                                    "valueCoding"
                                                                                ],
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Always 'type'.",
                                                                                        "default": "type",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueCoding": {
                                                                                        "type": "object",
                                                                                        "description": "URL of specification of address key format.",
                                                                                        "required": [
                                                                                            "system",
                                                                                            "code"
                                                                                        ],
                                                                                        "properties": {
                                                                                            "system": {
                                                                                                "type": "string",
                                                                                                "description": "URL of Code System that describes available Address Key formats.",
                                                                                                "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                                                "readOnly": true
                                                                                            },
                                                                                            "code": {
                                                                                                "type": "string",
                                                                                                "description": "Address Key system. Always 'PAF'.",
                                                                                                "default": "PAF",
                                                                                                "example": "PAF",
                                                                                                "readOnly": true
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            },
                                                                            {
                                                                                "type": "object",
                                                                                "description": "Value of the address key.",
                                                                                "required": [
                                                                                    "url",
                                                                                    "valueString"
                                                                                ],
                                                                                "properties": {
                                                                                    "url": {
                                                                                        "type": "string",
                                                                                        "description": "Always 'value'.",
                                                                                        "default": "value",
                                                                                        "example": "value",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "valueString": {
                                                                                        "type": "string",
                                                                                        "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                                        "minLength": 8,
                                                                                        "maxLength": 8,
                                                                                        "pattern": "^[0-9]{8}$",
                                                                                        "example": "12345678"
                                                                                    }
                                                                                }
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "telecom": {
                                            "type": "array",
                                            "description": "List of contact points for the patient; for example, phone numbers or email addresses.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.\n",
                                            "items": {
                                                "description": "A contact point, such as a phone number or email address",
                                                "type": "object",
                                                "required": [
                                                    "system",
                                                    "value"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "Unique object identifier for this contact point.",
                                                        "readOnly": true,
                                                        "example": "789"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "system": {
                                                        "description": "Means of communication, such as phone or email.",
                                                        "type": "string",
                                                        "enum": [
                                                            "phone",
                                                            "fax",
                                                            "email",
                                                            "other"
                                                        ],
                                                        "example": "phone"
                                                    },
                                                    "value": {
                                                        "description": "Phone number, email address, or other identifier for use with contact system.",
                                                        "type": "string",
                                                        "example": "01632960587"
                                                    },
                                                    "use": {
                                                        "type": "string",
                                                        "description": "Location associated with communication system.",
                                                        "enum": [
                                                            "home",
                                                            "work",
                                                            "temp",
                                                            "mobile"
                                                        ],
                                                        "example": "work"
                                                    },
                                                    "extension": {
                                                        "type": "array",
                                                        "maxItems": 1,
                                                        "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                        "items": {
                                                            "type": "object",
                                                            "description": "Wrapped object for other contact system details.",
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Definition of other contact system extension.",
                                                                    "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                    "enum": [
                                                                        "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                    ],
                                                                    "readOnly": true
                                                                },
                                                                "valueCoding": {
                                                                    "type": "object",
                                                                    "description": "URL of specification of other contact systems.",
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URL of Code System that describes available contact relationships.",
                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                            "readOnly": true
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Coded value for the other contact system in place.",
                                                                            "example": "textphone"
                                                                        },
                                                                        "display": {
                                                                            "description": "Display-friendly representation of the other contact system code.",
                                                                            "type": "string",
                                                                            "example": "Minicom (Textphone)"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "contact": {
                                            "type": "array",
                                            "description": "A list of patient contacts. Only emergency contacts will be returned and only emergency contacts should be added. Any other contacts should be added to the patients `Related Person`.\n\nPatients designate here any contact number they desire to be used in case of an emergency.\nNote, while a patient may also desire to record various related persons telecom details, these do not separately allow for a concept of emergency contact; only ranking. See RelatedPerson endpoint.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.\n",
                                            "items": {
                                                "title": "Schema for a patient contact.",
                                                "type": "object",
                                                "additionalProperties": false,
                                                "required": [
                                                    "relationship",
                                                    "telecom"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "example": "C123"
                                                    },
                                                    "period": {
                                                        "type": "object",
                                                        "description": "Time period when name was, is, or will be in use.",
                                                        "required": [
                                                            "start"
                                                        ],
                                                        "properties": {
                                                            "start": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2020-01-01"
                                                            },
                                                            "end": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                "example": "2021-12-31"
                                                            }
                                                        }
                                                    },
                                                    "relationship": {
                                                        "type": "array",
                                                        "description": "The contact relationship wrapper object that holds the details of the relationship to the patient.\n\nThis will only be return when an Emergency Contact number has been set on `telecom`. The only code that will be returned is `C`, which means `Emergency Contact`.\n",
                                                        "minItems": 1,
                                                        "maxItems": 1,
                                                        "items": {
                                                            "type": "object",
                                                            "required": [
                                                                "coding"
                                                            ],
                                                            "properties": {
                                                                "coding": {
                                                                    "type": "array",
                                                                    "description": "Exactly one contact relationship.",
                                                                    "minItems": 1,
                                                                    "maxItems": 1,
                                                                    "items": {
                                                                        "type": "object",
                                                                        "required": [
                                                                            "code"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL of Code System that describes available contact relationships.",
                                                                                "format": "url",
                                                                                "default": "http://terminology.hl7.org/CodeSystem/v2-0131",
                                                                                "readOnly": true
                                                                            },
                                                                            "code": {
                                                                                "type": "string",
                                                                                "description": "Coded value for contact relationship.",
                                                                                "example": "C"
                                                                            },
                                                                            "display": {
                                                                                "type": "string",
                                                                                "description": "Display-friendly representation of the contact relationship code.",
                                                                                "example": "Emergency Contact"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "telecom": {
                                                        "type": "array",
                                                        "description": "List of Telecom objects on the contact will only contain `system` and `value`.\n",
                                                        "items": {
                                                            "description": "A contact point, such as a phone number or email address",
                                                            "type": "object",
                                                            "required": [
                                                                "system",
                                                                "value"
                                                            ],
                                                            "properties": {
                                                                "id": {
                                                                    "type": "string",
                                                                    "description": "Unique object identifier for this contact point.",
                                                                    "readOnly": true,
                                                                    "example": "789"
                                                                },
                                                                "period": {
                                                                    "type": "object",
                                                                    "description": "Time period when name was, is, or will be in use.",
                                                                    "required": [
                                                                        "start"
                                                                    ],
                                                                    "properties": {
                                                                        "start": {
                                                                            "type": "string",
                                                                            "format": "date",
                                                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                            "example": "2020-01-01"
                                                                        },
                                                                        "end": {
                                                                            "type": "string",
                                                                            "format": "date",
                                                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                            "example": "2021-12-31"
                                                                        }
                                                                    }
                                                                },
                                                                "system": {
                                                                    "description": "Means of communication, such as phone or email.",
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "phone",
                                                                        "fax",
                                                                        "email",
                                                                        "other"
                                                                    ],
                                                                    "example": "phone"
                                                                },
                                                                "value": {
                                                                    "description": "Phone number, email address, or other identifier for use with contact system.",
                                                                    "type": "string",
                                                                    "example": "01632960587"
                                                                },
                                                                "use": {
                                                                    "type": "string",
                                                                    "description": "Location associated with communication system.",
                                                                    "enum": [
                                                                        "home",
                                                                        "work",
                                                                        "temp",
                                                                        "mobile"
                                                                    ],
                                                                    "example": "work"
                                                                },
                                                                "extension": {
                                                                    "type": "array",
                                                                    "maxItems": 1,
                                                                    "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "description": "Wrapped object for other contact system details.",
                                                                        "properties": {
                                                                            "url": {
                                                                                "type": "string",
                                                                                "description": "Definition of other contact system extension.",
                                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                                                "enum": [
                                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                                                ],
                                                                                "readOnly": true
                                                                            },
                                                                            "valueCoding": {
                                                                                "type": "object",
                                                                                "description": "URL of specification of other contact systems.",
                                                                                "properties": {
                                                                                    "system": {
                                                                                        "type": "string",
                                                                                        "description": "URL of Code System that describes available contact relationships.",
                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                                        "readOnly": true
                                                                                    },
                                                                                    "code": {
                                                                                        "type": "string",
                                                                                        "description": "Coded value for the other contact system in place.",
                                                                                        "example": "textphone"
                                                                                    },
                                                                                    "display": {
                                                                                        "description": "Display-friendly representation of the other contact system code.",
                                                                                        "type": "string",
                                                                                        "example": "Minicom (Textphone)"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "generalPractitioner": {
                                            "type": "array",
                                            "maxItems": 1,
                                            "description": "General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.\n",
                                            "items": {
                                                "description": "General practice (not practitioner) with which the patient is or was registered.",
                                                "type": "object",
                                                "required": [
                                                    "identifier"
                                                ],
                                                "properties": {
                                                    "id": {
                                                        "description": "Object identifier (OID) specific to the returned details - this should be return exactly the same in any update.",
                                                        "type": "string",
                                                        "readOnly": true,
                                                        "example": "254406A3"
                                                    },
                                                    "type": {
                                                        "description": "Type of Reference being returned.",
                                                        "type": "string",
                                                        "readOnly": true,
                                                        "example": "Organization"
                                                    },
                                                    "reference": {
                                                        "description": "URL for the FHIR Organization resource for the registered general practice. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                        "type": "string",
                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                    },
                                                    "identifier": {
                                                        "description": "Identifier and system of identification used for this Organisation.",
                                                        "type": "object",
                                                        "required": [
                                                            "value"
                                                        ],
                                                        "properties": {
                                                            "system": {
                                                                "description": "URL for the Organisation Data Service - who are responsible for publishing codes that identify organisations and individuals across health and social care.",
                                                                "type": "string",
                                                                "readOnly": true,
                                                                "example": "https://fhir.nhs.uk/Id/ods-organization-code"
                                                            },
                                                            "value": {
                                                                "description": "Organisation code for the registered general practice, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                "type": "string",
                                                                "pattern": "^[0-9A-Z]+$",
                                                                "example": "Y12345"
                                                            },
                                                            "period": {
                                                                "type": "object",
                                                                "description": "Time period when name was, is, or will be in use.",
                                                                "required": [
                                                                    "start"
                                                                ],
                                                                "properties": {
                                                                    "start": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2020-01-01"
                                                                    },
                                                                    "end": {
                                                                        "type": "string",
                                                                        "format": "date",
                                                                        "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                                        "example": "2021-12-31"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Wrapper array for the patient's pharmacies, death notification status, communication details, contact preferences and place of birth; these are all FHIR extensions.\nAlways contains zero or one of each pharmacy object, zero or one death notification status object, zero or one communication details object, zero or one contact preference and zero or one place of birth object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the pharmacy and birth place extensions will be removed from the response.\n",
                                            "items": {
                                                "anyOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's nominated pharmacy. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-NominatedPharmacy FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to a pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the nominated pharmacy. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's nominated pharmacy organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the nominated pharmacy, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y12345"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's dispensing doctor. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-DispensingDoctor FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to a GP practice pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the dispensing doctor. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y23456"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's dispensing doctor organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the dispensing doctor, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y23456"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for the patient's medical appliance supplier. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "valueReference"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "URL of specification of UKCore-MedicalApplianceSupplier FHIR extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueReference": {
                                                                "type": "object",
                                                                "description": "Reference to medical appliance supplier pharmacy `Organization` resource.",
                                                                "required": [
                                                                    "reference",
                                                                    "identifier"
                                                                ],
                                                                "properties": {
                                                                    "reference": {
                                                                        "type": "string",
                                                                        "description": "URL of the FHIR Organization resource for the medical appliance supplier. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y34567"
                                                                    },
                                                                    "identifier": {
                                                                        "type": "object",
                                                                        "description": "Wrapper object for the patient's medical appliance supplier organisation code.",
                                                                        "required": [
                                                                            "value"
                                                                        ],
                                                                        "properties": {
                                                                            "system": {
                                                                                "type": "string",
                                                                                "description": "URL for the FHIR code system for the ODS organisation code.",
                                                                                "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                                                "readOnly": true
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "Organisation code for the medical appliance supplier, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                                                "pattern": "^[A-Za-z0-9]{3,10}$",
                                                                                "example": "Y34567"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification details.",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of death notification extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Array containing exactly one death notification status code object and exactly one effective date object.",
                                                                "minItems": 1,
                                                                "maxItems": 2,
                                                                "items": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for death notification status code.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `deathNotificationStatus`.",
                                                                                    "default": "deathNotificationStatus",
                                                                                    "enum": [
                                                                                        "deathNotificationStatus"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Death Notification Status.",
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "system",
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "description": "URI of the coding system specification.",
                                                                                                        "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus"
                                                                                                    },
                                                                                                    "version": {
                                                                                                        "type": "string",
                                                                                                        "description": "Version of the coding system in use.",
                                                                                                        "example": "1.0.0"
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "Symbol, in syntax, defined by the system:\n* `1` - Informal - death notice received via an update from a local NHS Organisation such as GP or Trust\n* `2` - Formal - death notice received from Registrar of Deaths. Only these endpoints are allowed to add a Formal death:\n    - National Back Office using the Demographic Spine Application (DSA)\n    - Office of National Statistics (ONS)\n    - Maternity sites\n* `U` - Removed. This is a possible response, but it cannot be used on an update because Spine will reject it\n",
                                                                                                        "example": "2",
                                                                                                        "enum": [
                                                                                                            "1",
                                                                                                            "2",
                                                                                                            "U"
                                                                                                        ]
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Representation defined by the system.",
                                                                                                        "example": "Formal - death notice received from Registrar of Deaths",
                                                                                                        "enum": [
                                                                                                            "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust",
                                                                                                            "Formal - death notice received from Registrar of Deaths",
                                                                                                            "Removed"
                                                                                                        ]
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for death notification effective date.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueDateTime"
                                                                            ],
                                                                            "readOnly": true,
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `systemEffectiveDate`.",
                                                                                    "default": "systemEffectiveDate",
                                                                                    "enum": [
                                                                                        "systemEffectiveDate"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueDateTime": {
                                                                                    "type": "string",
                                                                                    "description": "Date and time at which death notification status took effect.",
                                                                                    "format": "date-time",
                                                                                    "example": "2010-10-22T00:00:00+00:00",
                                                                                    "readOnly": true
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for communication details. This will only be populated on a retrieval and not a search.",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of communication extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "type": "array",
                                                                "description": "Definition of communication extension, The array must have two items, a valueCodeableConcept for the language and a valueBoolean for if an interpreter is required.",
                                                                "minItems": 1,
                                                                "maxItems": 2,
                                                                "items": {
                                                                    "anyOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for communication language.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `language`.",
                                                                                    "default": "language",
                                                                                    "enum": [
                                                                                        "language"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Human language.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "description": "Exactly one language code.",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "description": "URL of the Language Code System. Always uses the 'UKCore-HumanLanguage' Code System.",
                                                                                                        "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "version": {
                                                                                                        "type": "string",
                                                                                                        "description": "Version of the language code system.",
                                                                                                        "example": "1.0.0"
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "Language code based on [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) standard plus extensions for braille, makaton and sign languages, which are:\n* `q1` - Braille\n* `q2` - American Sign Language\n* `q3` - Australian Sign Language\n* `q4` - British Sign Language\n* `q5` - Makaton\nAll valid codes combined can be found at https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage.\n",
                                                                                                        "example": "fr"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the language code (such as English). If there is a language code with no defined mapping, `Unknown` will be returned.",
                                                                                                        "example": "French"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for whether an interpreter is required.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueBoolean"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `interpreterRequired`.",
                                                                                    "default": "interpreterRequired",
                                                                                    "enum": [
                                                                                        "interpreterRequired"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueBoolean": {
                                                                                    "type": "boolean",
                                                                                    "description": "Whether an interpreter is required.",
                                                                                    "example": true
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "title": "Wrapper object for preferred contact details; the written communication format, preferred contact time and method. This will only be populated on a retrieval and not a search.",
                                                        "type": "object",
                                                        "required": [
                                                            "url",
                                                            "extension"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of the contact preference extension.",
                                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference",
                                                                "enum": [
                                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "extension": {
                                                                "description": "Wrapper array containing zero or one preferred contact method, zero or one preferred written communication format; and zero or one preferred contact time.",
                                                                "type": "array",
                                                                "maxItems": 3,
                                                                "items": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred written communication format.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredWrittenCommunicationFormat`.",
                                                                                    "default": "PreferredWrittenCommunicationFormat",
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Preferred Written Communication Format.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "format": "url",
                                                                                                        "description": "Definition of the preferred written communication extension.",
                                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat",
                                                                                                        "enum": [
                                                                                                            "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "A code to identify the preferred written communication format of a patient, contact or related person.\n* 11 - Large print\n* 12 - Braille\n* 13 - Audio tape\n",
                                                                                                        "example": "12"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the preferred written communication format code.",
                                                                                                        "example": "Braille"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred contact method.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueCodeableConcept"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredContactMethod`.",
                                                                                    "default": "PreferredContactMethod",
                                                                                    "enum": [
                                                                                        "PreferredContactMethod"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueCodeableConcept": {
                                                                                    "type": "object",
                                                                                    "description": "Preferred Contact Method.",
                                                                                    "required": [
                                                                                        "coding"
                                                                                    ],
                                                                                    "properties": {
                                                                                        "coding": {
                                                                                            "type": "array",
                                                                                            "minItems": 1,
                                                                                            "maxItems": 1,
                                                                                            "items": {
                                                                                                "type": "object",
                                                                                                "required": [
                                                                                                    "code"
                                                                                                ],
                                                                                                "properties": {
                                                                                                    "system": {
                                                                                                        "type": "string",
                                                                                                        "format": "url",
                                                                                                        "description": "Definition of the preferred contact method extension.",
                                                                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod",
                                                                                                        "enum": [
                                                                                                            "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                                                        ],
                                                                                                        "readOnly": true
                                                                                                    },
                                                                                                    "code": {
                                                                                                        "type": "string",
                                                                                                        "description": "A code to identify to identify the preferred contact method of a patient, contact or related person.\n* 1\t- Letter\n* 2\t- Visit\n* 3\t- Telephone\n* 4\t- E-mail\n* 5\t- Minicom (Textphone)\n* 6\t- Telephone contact via proxy\n* 7\t- Sign language\n* 8\t- No Telephone contact\n",
                                                                                                        "example": "1"
                                                                                                    },
                                                                                                    "display": {
                                                                                                        "type": "string",
                                                                                                        "description": "Display-friendly representation of the preferred contact method code.",
                                                                                                        "example": "Letter"
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "object",
                                                                            "description": "Wrapper object for preferred contact times.",
                                                                            "required": [
                                                                                "url",
                                                                                "valueString"
                                                                            ],
                                                                            "properties": {
                                                                                "url": {
                                                                                    "type": "string",
                                                                                    "description": "Key of this object. Always `PreferredContactTimes`.",
                                                                                    "default": "PreferredContactTimes",
                                                                                    "enum": [
                                                                                        "PreferredContactTimes"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "valueString": {
                                                                                    "type": "string",
                                                                                    "maximum": 40,
                                                                                    "description": "A free-text description about the preferred contact times.",
                                                                                    "example": "Not after 7pm"
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for place of birth details. This will not be returned on a restricted patient.",
                                                        "required": [
                                                            "url",
                                                            "valueAddress"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Definition of place of birth extension.",
                                                                "default": "http://hl7.org/fhir/StructureDefinition/patient-birthPlace",
                                                                "enum": [
                                                                    "http://hl7.org/fhir/StructureDefinition/patient-birthPlace"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueAddress": {
                                                                "type": "object",
                                                                "additionalProperties": false,
                                                                "properties": {
                                                                    "city": {
                                                                        "type": "string",
                                                                        "description": "Town or city of birth.",
                                                                        "example": "Manchester"
                                                                    },
                                                                    "district": {
                                                                        "type": "string",
                                                                        "description": "County or metropolitan district of birth.",
                                                                        "example": "Greater Manchester"
                                                                    },
                                                                    "country": {
                                                                        "type": "string",
                                                                        "description": "A coded value for a patient's country of birth.\n\nFrom [ISO 3166-1](http://hl7.org/fhir/valueset-iso3166-1-3.html) plus codes from the UK Internal Code list which do not have entries in ISO 3166-1.\n\nUK Internal Codes:\n* `1` - England\n* `2` - Scotland\n* `3` - Wales\n* `4` - Northern Ireland\n* `7` - Sark\n* `9` - Alderney\n* `10` - Channel Islands\n",
                                                                        "example": "GBR"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Client error after the patch was accepted and patient was not updated.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "business-rule-failure": {
                                        "summary": "Business rule failure; start date was after the end date.",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "structure",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "INVALID_UPDATE",
                                                                "display": "Invalid update with error - business effective start date is after the end date"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Part of your update could not be allowed as the change was forbidden.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "business-rule-failure": {
                                        "summary": "Date of death cannot be removed once it has been set.",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "information",
                                                    "code": "forbidden",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "FORBIDDEN_UPDATE",
                                                                "display": "Forbidden update with error - source not permitted to remove 'deceasedDateTime'"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "The message ID not found or you did not have permission to poll for that message.",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "information",
                                            "code": "not-found",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "POLLING_ID_NOT_FOUND",
                                                        "display": "The polling ID was not found"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Version Conflict.\n\nThe version identifier submitted in the `If-Match` header was not the latest version of the resource.\n",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "version-mismatch": {
                                        "summary": "Version mis-match",
                                        "value": {
                                            "resourceType": "OperationOutcome",
                                            "issue": [
                                                {
                                                    "severity": "error",
                                                    "code": "conflict",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                                "version": "1",
                                                                "code": "RESOURCE_VERSION_MISMATCH",
                                                                "display": "Resource version supplied does not match actual version"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "The polling message ID was found however the processing of the request failed in an unexpected way or was cancelled, so the update failed.\n\nPlease raise these occurrences with our team (via https://digital.nhs.uk/developer/help-and-support) so we can investigate the issue. When raising, quote the message ID you were polling for.\n",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                                    "properties": {
                                        "resourceType": {
                                            "type": "string",
                                            "description": "FHIR Resource Type.",
                                            "default": "OperationOutcome",
                                            "readOnly": true
                                        },
                                        "issue": {
                                            "type": "array",
                                            "description": "List of issues that have occurred.",
                                            "minItems": 1,
                                            "items": {
                                                "type": "object",
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "properties": {
                                                    "severity": {
                                                        "type": "string",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "description": "Severity of the error.",
                                                        "example": "error"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "FHIR error code.",
                                                        "example": "invalid",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ]
                                                    },
                                                    "details": {
                                                        "type": "object",
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "readOnly": true,
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                        },
                                                                        "version": {
                                                                            "type": "string",
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1"
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE"
                                                                        },
                                                                        "display": {
                                                                            "type": "string",
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "expression": {
                                                        "type": "string",
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "processing",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "POLLING_MESSAGE_FAILURE",
                                                        "display": "The polling ID was found however the processing of the request failed in an unexpected way or was cancelled"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "parameters": {
            "Id": {
                "name": "id",
                "in": "path",
                "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                "required": true,
                "schema": {
                    "type": "string",
                    "example": "9000000009"
                }
            },
            "MessageId": {
                "name": "message_id",
                "in": "path",
                "description": "The message ID of the accepted update that needs to be submitted to confirm the resource a successfully updated.",
                "required": true,
                "schema": {
                    "type": "string",
                    "example": 20200522091633363041000001
                }
            },
            "ObjectId": {
                "name": "object_id",
                "in": "path",
                "description": "A resource Object ID. The primary identifier of a resource.",
                "required": true,
                "schema": {
                    "type": "string",
                    "example": "507B7621"
                }
            },
            "IfMatch": {
                "in": "header",
                "name": "If-Match",
                "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\n\nSend the value of this resource's `ETag` response header (or `meta.versionId` property) as received.\n",
                "required": true,
                "schema": {
                    "type": "string",
                    "pattern": "^W/\"[0-9]+\"$",
                    "example": "W/\"2\""
                }
            },
            "RoleId": {
                "in": "header",
                "name": "NHSD-Session-URID",
                "description": "A User Role ID (URID), also known as a User Role Profile ID (URPID), specifies the role the user is acting in.\n\nA URID belongs to a user (they are not generic) and a user may have more than one.\n\nFind out more about [User role ID](https://digital.nhs.uk/developer/user-restricted-restful-apis#user-completes-authentication-and-authorisation)\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                "required": false,
                "schema": {
                    "type": "string",
                    "pattern": "^[0-9]+$",
                    "example": "555021935107"
                }
            },
            "BearerAuthorization": {
                "in": "header",
                "name": "Authorization",
                "description": "An OAuthV2 access token presented in Bearer format.\n\nNote: This parameter is required unless interacting with the Sandbox.\n",
                "required": false,
                "schema": {
                    "type": "string",
                    "format": "^Bearer\\ [[:ascii:]]+$",
                    "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                }
            }
        },
        "schemas": {
            "Patient": {
                "type": "object",
                "required": [
                    "id"
                ],
                "additionalProperties": false,
                "properties": {
                    "resourceType": {
                        "type": "string",
                        "description": "FHIR resource type.",
                        "default": "Patient",
                        "readOnly": true
                    },
                    "id": {
                        "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                        "type": "string",
                        "pattern": "^\\d{10}$",
                        "example": "9000000009"
                    },
                    "identifier": {
                        "type": "array",
                        "description": "Identifier and system of identification used for this Patient.",
                        "readOnly": true,
                        "items": {
                            "type": "object",
                            "maxItems": 1,
                            "required": [
                                "value"
                            ],
                            "properties": {
                                "system": {
                                    "type": "string",
                                    "format": "url",
                                    "description": "System identifier belongs to.",
                                    "default": "https://fhir.nhs.uk/Id/nhs-number",
                                    "readOnly": true
                                },
                                "value": {
                                    "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                    "type": "string",
                                    "pattern": "^\\d{10}$",
                                    "example": "9000000009"
                                },
                                "extension": {
                                    "type": "array",
                                    "description": "FHIR extensions.",
                                    "items": {
                                        "type": "object",
                                        "description": "Status indicating if NHS number is present and verified.",
                                        "readOnly": true,
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "URL of the extension definition.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus"
                                                ],
                                                "readOnly": true
                                            },
                                            "valueCodeableConcept": {
                                                "type": "object",
                                                "description": "NHS Number Verification Status Indicator.",
                                                "required": [
                                                    "coding"
                                                ],
                                                "properties": {
                                                    "coding": {
                                                        "type": "array",
                                                        "minItems": 1,
                                                        "maxItems": 1,
                                                        "items": {
                                                            "type": "object",
                                                            "required": [
                                                                "code"
                                                            ],
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URI of the coding system specification.",
                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                    "readOnly": true
                                                                },
                                                                "version": {
                                                                    "type": "string",
                                                                    "description": "Version of the coding system in use.",
                                                                    "example": "1.0.0"
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Symbol in syntax defined by the system.",
                                                                    "example": "01"
                                                                },
                                                                "display": {
                                                                    "type": "string",
                                                                    "description": "Representation defined by the system.",
                                                                    "example": "Number present and verified"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "meta": {
                        "type": "object",
                        "description": "Metadata about this resource.",
                        "properties": {
                            "versionId": {
                                "type": "string",
                                "description": "The NHS Digital assigned version of the patient resource.",
                                "readOnly": true,
                                "example": "2"
                            },
                            "security": {
                                "type": "array",
                                "description": "The level of security on the patients record, which affects which fields are populated on retrieval. The possible responses are:\n* U - unrestricted. All available data will be returned.\n* R - restricted. Any sensitive data around the patient's location, so `address`, `generalPractitioner` and `telecom`, will be removed from the response.\n* V - very restricted. All patient data will be removed from the response apart from `id`, `identifier` and `meta` fields. The `gender` field will return `unknown` regardless of actual gender.\n* REDACTED - redacted. The patient record has been marked as invalid, so the data should not be used. This code will never be returned; you will receive a 404, and appropriate error response, if an invalidated patient retrieval is attempted.\n",
                                "readOnly": true,
                                "maxItems": 1,
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "type": "string",
                                            "description": "URI of the value set specification.",
                                            "example": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                        },
                                        "code": {
                                            "type": "string",
                                            "description": "Code defined by the system value set.",
                                            "enum": [
                                                "U",
                                                "R",
                                                "V",
                                                "REDACTED"
                                            ],
                                            "example": "U"
                                        },
                                        "display": {
                                            "type": "string",
                                            "description": "Representation defined by the system.",
                                            "enum": [
                                                "unrestricted",
                                                "restricted",
                                                "very restricted",
                                                "redacted"
                                            ],
                                            "example": "unrestricted"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "name": {
                        "type": "array",
                        "description": "List of names associated with the patient.\n\nWhen a patient tagged as `very restricted` is retrieved, all names will be removed from the response.\n",
                        "minItems": 1,
                        "items": {
                            "type": "object",
                            "required": [
                                "use",
                                "family"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this name.",
                                    "readOnly": true,
                                    "example": "123"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                    "enum": [
                                        "usual",
                                        "temp",
                                        "nickname",
                                        "old",
                                        "maiden"
                                    ],
                                    "example": "usual"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "given": {
                                    "type": "array",
                                    "maxItems": 5,
                                    "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                    "example": [
                                        "Jane",
                                        "Adele"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "maxLength": 35,
                                        "example": "Jane"
                                    }
                                },
                                "family": {
                                    "type": "string",
                                    "maxLength": 35,
                                    "description": "Family name (often called Surname).",
                                    "example": "Smith"
                                },
                                "prefix": {
                                    "type": "array",
                                    "description": "Name prefixes, titles, and prenominals.",
                                    "example": [
                                        "Mrs"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "Mrs"
                                    }
                                },
                                "suffix": {
                                    "type": "array",
                                    "description": "Name suffices and postnominals.",
                                    "example": [
                                        "MBE",
                                        "PhD"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "MBE"
                                    }
                                }
                            }
                        }
                    },
                    "gender": {
                        "type": "string",
                        "description": "Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.\nIt is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patient\u2019s registered birth gender, or their current clinical gender.\n",
                        "enum": [
                            "male",
                            "female",
                            "other",
                            "unknown"
                        ],
                        "example": "female"
                    },
                    "birthDate": {
                        "description": "The date on which the patient was born or is officially deemed to have been born.\n\nIt is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.\n",
                        "example": "2010-10-22",
                        "type": "string",
                        "format": "date"
                    },
                    "multipleBirthInteger": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 9,
                        "description": "The order in which the patient was born, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n\nThere are two other valid values; `8` meaning `Not applicable` and `9` meaning `Not known`.\n",
                        "example": 1
                    },
                    "deceasedDateTime": {
                        "description": "The date and time on which a person died or is officially deemed to have died, if applicable and known.\n\nIt is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, death date will be removed from the response.\n",
                        "example": "2010-10-22T00:00:00+00:00",
                        "type": "string",
                        "format": "date-time"
                    },
                    "address": {
                        "type": "array",
                        "description": "List of addresses associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `home` address will be returned on a search.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.\n",
                        "items": {
                            "type": "object",
                            "description": "An address associated with the patient.",
                            "required": [
                                "use"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique system identifier for this address.",
                                    "readOnly": true,
                                    "example": "456"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "billing"
                                    ],
                                    "example": "home"
                                },
                                "line": {
                                    "type": "array",
                                    "description": "All lines of the address except the postal code.",
                                    "maxItems": 5,
                                    "items": {
                                        "type": "string"
                                    },
                                    "example": [
                                        "1 Trevelyan Square",
                                        "Boar Lane",
                                        "City Centre",
                                        "Leeds",
                                        "West Yorkshire"
                                    ]
                                },
                                "postalCode": {
                                    "type": "string",
                                    "description": "Postal code of the address.",
                                    "example": "LS1 6AE"
                                },
                                "extension": {
                                    "type": "array",
                                    "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                    "items": {
                                        "type": "object",
                                        "description": "Unique identifier for an address.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "URL of specification of the AddressKey extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                ],
                                                "readOnly": true
                                            },
                                            "extension": {
                                                "type": "array",
                                                "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                "minItems": 2,
                                                "maxItems": 2,
                                                "items": {
                                                    "anyOf": [
                                                        {
                                                            "type": "object",
                                                            "description": "Coding system of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueCoding"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'type'.",
                                                                    "default": "type",
                                                                    "readOnly": true
                                                                },
                                                                "valueCoding": {
                                                                    "type": "object",
                                                                    "description": "URL of specification of address key format.",
                                                                    "required": [
                                                                        "system",
                                                                        "code"
                                                                    ],
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URL of Code System that describes available Address Key formats.",
                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                            "readOnly": true
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Address Key system. Always 'PAF'.",
                                                                            "default": "PAF",
                                                                            "example": "PAF",
                                                                            "readOnly": true
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "type": "object",
                                                            "description": "Value of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueString"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'value'.",
                                                                    "default": "value",
                                                                    "example": "value",
                                                                    "readOnly": true
                                                                },
                                                                "valueString": {
                                                                    "type": "string",
                                                                    "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                    "minLength": 8,
                                                                    "maxLength": 8,
                                                                    "pattern": "^[0-9]{8}$",
                                                                    "example": "12345678"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "telecom": {
                        "type": "array",
                        "description": "List of contact points for the patient; for example, phone numbers or email addresses.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.\n",
                        "items": {
                            "description": "A contact point, such as a phone number or email address",
                            "type": "object",
                            "required": [
                                "system",
                                "value"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this contact point.",
                                    "readOnly": true,
                                    "example": "789"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "system": {
                                    "description": "Means of communication, such as phone or email.",
                                    "type": "string",
                                    "enum": [
                                        "phone",
                                        "fax",
                                        "email",
                                        "other"
                                    ],
                                    "example": "phone"
                                },
                                "value": {
                                    "description": "Phone number, email address, or other identifier for use with contact system.",
                                    "type": "string",
                                    "example": "01632960587"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Location associated with communication system.",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "mobile"
                                    ],
                                    "example": "work"
                                },
                                "extension": {
                                    "type": "array",
                                    "maxItems": 1,
                                    "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                    "items": {
                                        "type": "object",
                                        "description": "Wrapped object for other contact system details.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "Definition of other contact system extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                ],
                                                "readOnly": true
                                            },
                                            "valueCoding": {
                                                "type": "object",
                                                "description": "URL of specification of other contact systems.",
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "description": "URL of Code System that describes available contact relationships.",
                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                        "readOnly": true
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "Coded value for the other contact system in place.",
                                                        "example": "textphone"
                                                    },
                                                    "display": {
                                                        "description": "Display-friendly representation of the other contact system code.",
                                                        "type": "string",
                                                        "example": "Minicom (Textphone)"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "contact": {
                        "type": "array",
                        "description": "A list of patient contacts. Only emergency contacts will be returned and only emergency contacts should be added. Any other contacts should be added to the patients `Related Person`.\n\nPatients designate here any contact number they desire to be used in case of an emergency.\nNote, while a patient may also desire to record various related persons telecom details, these do not separately allow for a concept of emergency contact; only ranking. See RelatedPerson endpoint.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.\n",
                        "items": {
                            "title": "Schema for a patient contact.",
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                                "relationship",
                                "telecom"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "example": "C123"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "relationship": {
                                    "type": "array",
                                    "description": "The contact relationship wrapper object that holds the details of the relationship to the patient.\n\nThis will only be return when an Emergency Contact number has been set on `telecom`. The only code that will be returned is `C`, which means `Emergency Contact`.\n",
                                    "minItems": 1,
                                    "maxItems": 1,
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "coding"
                                        ],
                                        "properties": {
                                            "coding": {
                                                "type": "array",
                                                "description": "Exactly one contact relationship.",
                                                "minItems": 1,
                                                "maxItems": 1,
                                                "items": {
                                                    "type": "object",
                                                    "required": [
                                                        "code"
                                                    ],
                                                    "properties": {
                                                        "system": {
                                                            "type": "string",
                                                            "description": "URL of Code System that describes available contact relationships.",
                                                            "format": "url",
                                                            "default": "http://terminology.hl7.org/CodeSystem/v2-0131",
                                                            "readOnly": true
                                                        },
                                                        "code": {
                                                            "type": "string",
                                                            "description": "Coded value for contact relationship.",
                                                            "example": "C"
                                                        },
                                                        "display": {
                                                            "type": "string",
                                                            "description": "Display-friendly representation of the contact relationship code.",
                                                            "example": "Emergency Contact"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "telecom": {
                                    "type": "array",
                                    "description": "List of Telecom objects on the contact will only contain `system` and `value`.\n",
                                    "items": {
                                        "description": "A contact point, such as a phone number or email address",
                                        "type": "object",
                                        "required": [
                                            "system",
                                            "value"
                                        ],
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "description": "Unique object identifier for this contact point.",
                                                "readOnly": true,
                                                "example": "789"
                                            },
                                            "period": {
                                                "type": "object",
                                                "description": "Time period when name was, is, or will be in use.",
                                                "required": [
                                                    "start"
                                                ],
                                                "properties": {
                                                    "start": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                        "example": "2020-01-01"
                                                    },
                                                    "end": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                        "example": "2021-12-31"
                                                    }
                                                }
                                            },
                                            "system": {
                                                "description": "Means of communication, such as phone or email.",
                                                "type": "string",
                                                "enum": [
                                                    "phone",
                                                    "fax",
                                                    "email",
                                                    "other"
                                                ],
                                                "example": "phone"
                                            },
                                            "value": {
                                                "description": "Phone number, email address, or other identifier for use with contact system.",
                                                "type": "string",
                                                "example": "01632960587"
                                            },
                                            "use": {
                                                "type": "string",
                                                "description": "Location associated with communication system.",
                                                "enum": [
                                                    "home",
                                                    "work",
                                                    "temp",
                                                    "mobile"
                                                ],
                                                "example": "work"
                                            },
                                            "extension": {
                                                "type": "array",
                                                "maxItems": 1,
                                                "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                "items": {
                                                    "type": "object",
                                                    "description": "Wrapped object for other contact system details.",
                                                    "properties": {
                                                        "url": {
                                                            "type": "string",
                                                            "description": "Definition of other contact system extension.",
                                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                            "enum": [
                                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                            ],
                                                            "readOnly": true
                                                        },
                                                        "valueCoding": {
                                                            "type": "object",
                                                            "description": "URL of specification of other contact systems.",
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URL of Code System that describes available contact relationships.",
                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                    "readOnly": true
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Coded value for the other contact system in place.",
                                                                    "example": "textphone"
                                                                },
                                                                "display": {
                                                                    "description": "Display-friendly representation of the other contact system code.",
                                                                    "type": "string",
                                                                    "example": "Minicom (Textphone)"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "generalPractitioner": {
                        "type": "array",
                        "maxItems": 1,
                        "description": "General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.\n",
                        "items": {
                            "description": "General practice (not practitioner) with which the patient is or was registered.",
                            "type": "object",
                            "required": [
                                "identifier"
                            ],
                            "properties": {
                                "id": {
                                    "description": "Object identifier (OID) specific to the returned details - this should be return exactly the same in any update.",
                                    "type": "string",
                                    "readOnly": true,
                                    "example": "254406A3"
                                },
                                "type": {
                                    "description": "Type of Reference being returned.",
                                    "type": "string",
                                    "readOnly": true,
                                    "example": "Organization"
                                },
                                "reference": {
                                    "description": "URL for the FHIR Organization resource for the registered general practice. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                    "type": "string",
                                    "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                },
                                "identifier": {
                                    "description": "Identifier and system of identification used for this Organisation.",
                                    "type": "object",
                                    "required": [
                                        "value"
                                    ],
                                    "properties": {
                                        "system": {
                                            "description": "URL for the Organisation Data Service - who are responsible for publishing codes that identify organisations and individuals across health and social care.",
                                            "type": "string",
                                            "readOnly": true,
                                            "example": "https://fhir.nhs.uk/Id/ods-organization-code"
                                        },
                                        "value": {
                                            "description": "Organisation code for the registered general practice, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                            "type": "string",
                                            "pattern": "^[0-9A-Z]+$",
                                            "example": "Y12345"
                                        },
                                        "period": {
                                            "type": "object",
                                            "description": "Time period when name was, is, or will be in use.",
                                            "required": [
                                                "start"
                                            ],
                                            "properties": {
                                                "start": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                    "example": "2020-01-01"
                                                },
                                                "end": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                    "example": "2021-12-31"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "extension": {
                        "type": "array",
                        "description": "Wrapper array for the patient's pharmacies, death notification status, communication details, contact preferences and place of birth; these are all FHIR extensions.\nAlways contains zero or one of each pharmacy object, zero or one death notification status object, zero or one communication details object, zero or one contact preference and zero or one place of birth object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the pharmacy and birth place extensions will be removed from the response.\n",
                        "items": {
                            "anyOf": [
                                {
                                    "type": "object",
                                    "description": "Wrapper object for the patient's nominated pharmacy. This will only be populated on a retrieval and not a search.",
                                    "required": [
                                        "url",
                                        "valueReference"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "URL of specification of UKCore-NominatedPharmacy FHIR extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy"
                                            ],
                                            "readOnly": true
                                        },
                                        "valueReference": {
                                            "type": "object",
                                            "description": "Reference to a pharmacy `Organization` resource.",
                                            "required": [
                                                "reference",
                                                "identifier"
                                            ],
                                            "properties": {
                                                "reference": {
                                                    "type": "string",
                                                    "description": "URL of the FHIR Organization resource for the nominated pharmacy. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                    "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                                },
                                                "identifier": {
                                                    "type": "object",
                                                    "description": "Wrapper object for the patient's nominated pharmacy organisation code.",
                                                    "required": [
                                                        "value"
                                                    ],
                                                    "properties": {
                                                        "system": {
                                                            "type": "string",
                                                            "description": "URL for the FHIR code system for the ODS organisation code.",
                                                            "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                            "readOnly": true
                                                        },
                                                        "value": {
                                                            "type": "string",
                                                            "description": "Organisation code for the nominated pharmacy, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                            "pattern": "^[A-Za-z0-9]{3,10}$",
                                                            "example": "Y12345"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for the patient's dispensing doctor. This will only be populated on a retrieval and not a search.",
                                    "required": [
                                        "url",
                                        "valueReference"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "URL of specification of UKCore-DispensingDoctor FHIR extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DispensingDoctor"
                                            ],
                                            "readOnly": true
                                        },
                                        "valueReference": {
                                            "type": "object",
                                            "description": "Reference to a GP practice pharmacy `Organization` resource.",
                                            "required": [
                                                "reference",
                                                "identifier"
                                            ],
                                            "properties": {
                                                "reference": {
                                                    "type": "string",
                                                    "description": "URL of the FHIR Organization resource for the dispensing doctor. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                    "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y23456"
                                                },
                                                "identifier": {
                                                    "type": "object",
                                                    "description": "Wrapper object for the patient's dispensing doctor organisation code.",
                                                    "required": [
                                                        "value"
                                                    ],
                                                    "properties": {
                                                        "system": {
                                                            "type": "string",
                                                            "description": "URL for the FHIR code system for the ODS organisation code.",
                                                            "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                            "readOnly": true
                                                        },
                                                        "value": {
                                                            "type": "string",
                                                            "description": "Organisation code for the dispensing doctor, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                            "pattern": "^[A-Za-z0-9]{3,10}$",
                                                            "example": "Y23456"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for the patient's medical appliance supplier. This will only be populated on a retrieval and not a search.",
                                    "required": [
                                        "url",
                                        "valueReference"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "URL of specification of UKCore-MedicalApplianceSupplier FHIR extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier"
                                            ],
                                            "readOnly": true
                                        },
                                        "valueReference": {
                                            "type": "object",
                                            "description": "Reference to medical appliance supplier pharmacy `Organization` resource.",
                                            "required": [
                                                "reference",
                                                "identifier"
                                            ],
                                            "properties": {
                                                "reference": {
                                                    "type": "string",
                                                    "description": "URL of the FHIR Organization resource for the medical appliance supplier. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                                    "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y34567"
                                                },
                                                "identifier": {
                                                    "type": "object",
                                                    "description": "Wrapper object for the patient's medical appliance supplier organisation code.",
                                                    "required": [
                                                        "value"
                                                    ],
                                                    "properties": {
                                                        "system": {
                                                            "type": "string",
                                                            "description": "URL for the FHIR code system for the ODS organisation code.",
                                                            "default": "https://fhir.nhs.uk/Id/ods-organization-code",
                                                            "readOnly": true
                                                        },
                                                        "value": {
                                                            "type": "string",
                                                            "description": "Organisation code for the medical appliance supplier, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                                            "pattern": "^[A-Za-z0-9]{3,10}$",
                                                            "example": "Y34567"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for death notification details.",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of death notification extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Array containing exactly one death notification status code object and exactly one effective date object.",
                                            "minItems": 1,
                                            "maxItems": 2,
                                            "items": {
                                                "oneOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification status code.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `deathNotificationStatus`.",
                                                                "default": "deathNotificationStatus",
                                                                "enum": [
                                                                    "deathNotificationStatus"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Death Notification Status.",
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "system",
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "description": "URI of the coding system specification.",
                                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus"
                                                                                },
                                                                                "version": {
                                                                                    "type": "string",
                                                                                    "description": "Version of the coding system in use.",
                                                                                    "example": "1.0.0"
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "Symbol, in syntax, defined by the system:\n* `1` - Informal - death notice received via an update from a local NHS Organisation such as GP or Trust\n* `2` - Formal - death notice received from Registrar of Deaths. Only these endpoints are allowed to add a Formal death:\n    - National Back Office using the Demographic Spine Application (DSA)\n    - Office of National Statistics (ONS)\n    - Maternity sites\n* `U` - Removed. This is a possible response, but it cannot be used on an update because Spine will reject it\n",
                                                                                    "example": "2",
                                                                                    "enum": [
                                                                                        "1",
                                                                                        "2",
                                                                                        "U"
                                                                                    ]
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Representation defined by the system.",
                                                                                    "example": "Formal - death notice received from Registrar of Deaths",
                                                                                    "enum": [
                                                                                        "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust",
                                                                                        "Formal - death notice received from Registrar of Deaths",
                                                                                        "Removed"
                                                                                    ]
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification effective date.",
                                                        "required": [
                                                            "url",
                                                            "valueDateTime"
                                                        ],
                                                        "readOnly": true,
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `systemEffectiveDate`.",
                                                                "default": "systemEffectiveDate",
                                                                "enum": [
                                                                    "systemEffectiveDate"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueDateTime": {
                                                                "type": "string",
                                                                "description": "Date and time at which death notification status took effect.",
                                                                "format": "date-time",
                                                                "example": "2010-10-22T00:00:00+00:00",
                                                                "readOnly": true
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for communication details. This will only be populated on a retrieval and not a search.",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of communication extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Definition of communication extension, The array must have two items, a valueCodeableConcept for the language and a valueBoolean for if an interpreter is required.",
                                            "minItems": 1,
                                            "maxItems": 2,
                                            "items": {
                                                "anyOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for communication language.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `language`.",
                                                                "default": "language",
                                                                "enum": [
                                                                    "language"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Human language.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "description": "Exactly one language code.",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "description": "URL of the Language Code System. Always uses the 'UKCore-HumanLanguage' Code System.",
                                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                                    "readOnly": true
                                                                                },
                                                                                "version": {
                                                                                    "type": "string",
                                                                                    "description": "Version of the language code system.",
                                                                                    "example": "1.0.0"
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "Language code based on [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) standard plus extensions for braille, makaton and sign languages, which are:\n* `q1` - Braille\n* `q2` - American Sign Language\n* `q3` - Australian Sign Language\n* `q4` - British Sign Language\n* `q5` - Makaton\nAll valid codes combined can be found at https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage.\n",
                                                                                    "example": "fr"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the language code (such as English). If there is a language code with no defined mapping, `Unknown` will be returned.",
                                                                                    "example": "French"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for whether an interpreter is required.",
                                                        "required": [
                                                            "url",
                                                            "valueBoolean"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `interpreterRequired`.",
                                                                "default": "interpreterRequired",
                                                                "enum": [
                                                                    "interpreterRequired"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueBoolean": {
                                                                "type": "boolean",
                                                                "description": "Whether an interpreter is required.",
                                                                "example": true
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "title": "Wrapper object for preferred contact details; the written communication format, preferred contact time and method. This will only be populated on a retrieval and not a search.",
                                    "type": "object",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of the contact preference extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "description": "Wrapper array containing zero or one preferred contact method, zero or one preferred written communication format; and zero or one preferred contact time.",
                                            "type": "array",
                                            "maxItems": 3,
                                            "items": {
                                                "oneOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred written communication format.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredWrittenCommunicationFormat`.",
                                                                "default": "PreferredWrittenCommunicationFormat",
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Preferred Written Communication Format.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "Definition of the preferred written communication extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "A code to identify the preferred written communication format of a patient, contact or related person.\n* 11 - Large print\n* 12 - Braille\n* 13 - Audio tape\n",
                                                                                    "example": "12"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the preferred written communication format code.",
                                                                                    "example": "Braille"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred contact method.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredContactMethod`.",
                                                                "default": "PreferredContactMethod",
                                                                "enum": [
                                                                    "PreferredContactMethod"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Preferred Contact Method.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "Definition of the preferred contact method extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "A code to identify to identify the preferred contact method of a patient, contact or related person.\n* 1\t- Letter\n* 2\t- Visit\n* 3\t- Telephone\n* 4\t- E-mail\n* 5\t- Minicom (Textphone)\n* 6\t- Telephone contact via proxy\n* 7\t- Sign language\n* 8\t- No Telephone contact\n",
                                                                                    "example": "1"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the preferred contact method code.",
                                                                                    "example": "Letter"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred contact times.",
                                                        "required": [
                                                            "url",
                                                            "valueString"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredContactTimes`.",
                                                                "default": "PreferredContactTimes",
                                                                "enum": [
                                                                    "PreferredContactTimes"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueString": {
                                                                "type": "string",
                                                                "maximum": 40,
                                                                "description": "A free-text description about the preferred contact times.",
                                                                "example": "Not after 7pm"
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for place of birth details. This will not be returned on a restricted patient.",
                                    "required": [
                                        "url",
                                        "valueAddress"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of place of birth extension.",
                                            "default": "http://hl7.org/fhir/StructureDefinition/patient-birthPlace",
                                            "enum": [
                                                "http://hl7.org/fhir/StructureDefinition/patient-birthPlace"
                                            ],
                                            "readOnly": true
                                        },
                                        "valueAddress": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                                "city": {
                                                    "type": "string",
                                                    "description": "Town or city of birth.",
                                                    "example": "Manchester"
                                                },
                                                "district": {
                                                    "type": "string",
                                                    "description": "County or metropolitan district of birth.",
                                                    "example": "Greater Manchester"
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "description": "A coded value for a patient's country of birth.\n\nFrom [ISO 3166-1](http://hl7.org/fhir/valueset-iso3166-1-3.html) plus codes from the UK Internal Code list which do not have entries in ISO 3166-1.\n\nUK Internal Codes:\n* `1` - England\n* `2` - Scotland\n* `3` - Wales\n* `4` - Northern Ireland\n* `7` - Sark\n* `9` - Alderney\n* `10` - Channel Islands\n",
                                                    "example": "GBR"
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "PatientSearch": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "resourceType": {
                        "type": "string",
                        "description": "FHIR resource type.",
                        "default": "Patient",
                        "readOnly": true
                    },
                    "id": {
                        "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                        "type": "string",
                        "pattern": "^\\d{10}$",
                        "example": "9000000009"
                    },
                    "identifier": {
                        "type": "array",
                        "description": "Identifier and system of identification used for this Patient.",
                        "readOnly": true,
                        "items": {
                            "type": "object",
                            "maxItems": 1,
                            "required": [
                                "value"
                            ],
                            "properties": {
                                "system": {
                                    "type": "string",
                                    "format": "url",
                                    "description": "System identifier belongs to.",
                                    "default": "https://fhir.nhs.uk/Id/nhs-number",
                                    "readOnly": true
                                },
                                "value": {
                                    "description": "The patient's NHS Number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS Number](https://www.datadictionary.nhs.uk/data_dictionary/attributes/n/nhs/nhs_number_de.asp).",
                                    "type": "string",
                                    "pattern": "^\\d{10}$",
                                    "example": "9000000009"
                                },
                                "extension": {
                                    "type": "array",
                                    "description": "FHIR extensions.",
                                    "items": {
                                        "type": "object",
                                        "description": "Status indicating if NHS number is present and verified.",
                                        "readOnly": true,
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "URL of the extension definition.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus"
                                                ],
                                                "readOnly": true
                                            },
                                            "valueCodeableConcept": {
                                                "type": "object",
                                                "description": "NHS Number Verification Status Indicator.",
                                                "required": [
                                                    "coding"
                                                ],
                                                "properties": {
                                                    "coding": {
                                                        "type": "array",
                                                        "minItems": 1,
                                                        "maxItems": 1,
                                                        "items": {
                                                            "type": "object",
                                                            "required": [
                                                                "code"
                                                            ],
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URI of the coding system specification.",
                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus",
                                                                    "readOnly": true
                                                                },
                                                                "version": {
                                                                    "type": "string",
                                                                    "description": "Version of the coding system in use.",
                                                                    "example": "1.0.0"
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Symbol in syntax defined by the system.",
                                                                    "example": "01"
                                                                },
                                                                "display": {
                                                                    "type": "string",
                                                                    "description": "Representation defined by the system.",
                                                                    "example": "Number present and verified"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "meta": {
                        "type": "object",
                        "description": "Metadata about this resource.",
                        "properties": {
                            "versionId": {
                                "type": "string",
                                "description": "The NHS Digital assigned version of the patient resource.",
                                "readOnly": true,
                                "example": "2"
                            },
                            "security": {
                                "type": "array",
                                "description": "The level of security on the patients record, which affects which fields are populated on retrieval. The possible responses are:\n* U - unrestricted. All available data will be returned.\n* R - restricted. Any sensitive data around the patient's location, so `address`, `generalPractitioner` and `telecom`, will be removed from the response.\n* V - very restricted. All patient data will be removed from the response apart from `id`, `identifier` and `meta` fields. The `gender` field will return `unknown` regardless of actual gender.\n* REDACTED - redacted. The patient record has been marked as invalid, so the data should not be used. This code will never be returned; you will receive a 404, and appropriate error response, if an invalidated patient retrieval is attempted.\n",
                                "readOnly": true,
                                "maxItems": 1,
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "type": "string",
                                            "description": "URI of the value set specification.",
                                            "example": "https://www.hl7.org/fhir/valueset-security-labels.html"
                                        },
                                        "code": {
                                            "type": "string",
                                            "description": "Code defined by the system value set.",
                                            "enum": [
                                                "U",
                                                "R",
                                                "V",
                                                "REDACTED"
                                            ],
                                            "example": "U"
                                        },
                                        "display": {
                                            "type": "string",
                                            "description": "Representation defined by the system.",
                                            "enum": [
                                                "unrestricted",
                                                "restricted",
                                                "very restricted",
                                                "redacted"
                                            ],
                                            "example": "unrestricted"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "name": {
                        "type": "array",
                        "description": "List of names associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `usual`, `nickname` and `temp` names will be returned on a search.\n\nWhen a patient tagged as `very restricted` is retrieved, all names will be removed from the response.\n",
                        "minItems": 1,
                        "items": {
                            "type": "object",
                            "required": [
                                "use",
                                "family"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this name.",
                                    "readOnly": true,
                                    "example": "123"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                    "enum": [
                                        "usual",
                                        "temp",
                                        "nickname",
                                        "old",
                                        "maiden"
                                    ],
                                    "example": "usual"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "given": {
                                    "type": "array",
                                    "maxItems": 5,
                                    "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                    "example": [
                                        "Jane",
                                        "Adele"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "maxLength": 35,
                                        "example": "Jane"
                                    }
                                },
                                "family": {
                                    "type": "string",
                                    "maxLength": 35,
                                    "description": "Family name (often called Surname).",
                                    "example": "Smith"
                                },
                                "prefix": {
                                    "type": "array",
                                    "description": "Name prefixes, titles, and prenominals.",
                                    "example": [
                                        "Mrs"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "Mrs"
                                    }
                                },
                                "suffix": {
                                    "type": "array",
                                    "description": "Name suffices and postnominals.",
                                    "example": [
                                        "MBE",
                                        "PhD"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "MBE"
                                    }
                                }
                            }
                        }
                    },
                    "gender": {
                        "type": "string",
                        "description": "Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.\nIt is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patient\u2019s registered birth gender, or their current clinical gender.\n",
                        "enum": [
                            "male",
                            "female",
                            "other",
                            "unknown"
                        ],
                        "example": "female"
                    },
                    "birthDate": {
                        "description": "The date on which the patient was born or is officially deemed to have been born.\n\nIt is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.\n",
                        "example": "2010-10-22",
                        "type": "string",
                        "format": "date"
                    },
                    "multipleBirthInteger": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 9,
                        "description": "The order in which the patient was born, with 1 indicating the first or only birth in the sequence, 2 indicating the second birth in the sequence, 3 indicating the third, and so on up to 7.\n\nThere are two other valid values; `8` meaning `Not applicable` and `9` meaning `Not known`.\n",
                        "example": 1
                    },
                    "deceasedDateTime": {
                        "description": "The date and time on which a person died or is officially deemed to have died, if applicable and known.\n\nIt is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.\n\nWhen a patient tagged as `very restricted` is retrieved, death date will be removed from the response.\n",
                        "example": "2010-10-22T00:00:00+00:00",
                        "type": "string",
                        "format": "date-time"
                    },
                    "address": {
                        "type": "array",
                        "description": "List of addresses associated with the patient.\n\nThis will only be fully populated on a retrieval, only a the `home` address will be returned on a search.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.\n",
                        "items": {
                            "type": "object",
                            "description": "An address associated with the patient.",
                            "required": [
                                "use"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique system identifier for this address.",
                                    "readOnly": true,
                                    "example": "456"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "billing"
                                    ],
                                    "example": "home"
                                },
                                "line": {
                                    "type": "array",
                                    "description": "All lines of the address except the postal code.",
                                    "maxItems": 5,
                                    "items": {
                                        "type": "string"
                                    },
                                    "example": [
                                        "1 Trevelyan Square",
                                        "Boar Lane",
                                        "City Centre",
                                        "Leeds",
                                        "West Yorkshire"
                                    ]
                                },
                                "postalCode": {
                                    "type": "string",
                                    "description": "Postal code of the address.",
                                    "example": "LS1 6AE"
                                },
                                "extension": {
                                    "type": "array",
                                    "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                    "items": {
                                        "type": "object",
                                        "description": "Unique identifier for an address.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "URL of specification of the AddressKey extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                ],
                                                "readOnly": true
                                            },
                                            "extension": {
                                                "type": "array",
                                                "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                "minItems": 2,
                                                "maxItems": 2,
                                                "items": {
                                                    "anyOf": [
                                                        {
                                                            "type": "object",
                                                            "description": "Coding system of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueCoding"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'type'.",
                                                                    "default": "type",
                                                                    "readOnly": true
                                                                },
                                                                "valueCoding": {
                                                                    "type": "object",
                                                                    "description": "URL of specification of address key format.",
                                                                    "required": [
                                                                        "system",
                                                                        "code"
                                                                    ],
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URL of Code System that describes available Address Key formats.",
                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                            "readOnly": true
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Address Key system. Always 'PAF'.",
                                                                            "default": "PAF",
                                                                            "example": "PAF",
                                                                            "readOnly": true
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "type": "object",
                                                            "description": "Value of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueString"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'value'.",
                                                                    "default": "value",
                                                                    "example": "value",
                                                                    "readOnly": true
                                                                },
                                                                "valueString": {
                                                                    "type": "string",
                                                                    "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                    "minLength": 8,
                                                                    "maxLength": 8,
                                                                    "pattern": "^[0-9]{8}$",
                                                                    "example": "12345678"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "telecom": {
                        "type": "array",
                        "description": "List of contact points for the patient; for example, phone numbers or email addresses.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.\n",
                        "items": {
                            "description": "A contact point, such as a phone number or email address",
                            "type": "object",
                            "required": [
                                "system",
                                "value"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this contact point.",
                                    "readOnly": true,
                                    "example": "789"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "system": {
                                    "description": "Means of communication, such as phone or email.",
                                    "type": "string",
                                    "enum": [
                                        "phone",
                                        "fax",
                                        "email",
                                        "other"
                                    ],
                                    "example": "phone"
                                },
                                "value": {
                                    "description": "Phone number, email address, or other identifier for use with contact system.",
                                    "type": "string",
                                    "example": "01632960587"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Location associated with communication system.",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "mobile"
                                    ],
                                    "example": "work"
                                },
                                "extension": {
                                    "type": "array",
                                    "maxItems": 1,
                                    "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                    "items": {
                                        "type": "object",
                                        "description": "Wrapped object for other contact system details.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "Definition of other contact system extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                ],
                                                "readOnly": true
                                            },
                                            "valueCoding": {
                                                "type": "object",
                                                "description": "URL of specification of other contact systems.",
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "description": "URL of Code System that describes available contact relationships.",
                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                        "readOnly": true
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "Coded value for the other contact system in place.",
                                                        "example": "textphone"
                                                    },
                                                    "display": {
                                                        "description": "Display-friendly representation of the other contact system code.",
                                                        "type": "string",
                                                        "example": "Minicom (Textphone)"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "contact": {
                        "type": "array",
                        "description": "A list of patient contacts. Only emergency contacts will be returned. Any other contacts will be returned on the patients `Related Person`.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.\n",
                        "items": {
                            "title": "Schema for a patient contact.",
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                                "relationship",
                                "telecom"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "example": "C123"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "relationship": {
                                    "type": "array",
                                    "description": "The contact relationship wrapper object that holds the details of the relationship to the patient.\n\nThis will only be return when an Emergency Contact number has been set on `telecom`. The only code that will be returned is `C`, which means `Emergency Contact`.\n",
                                    "minItems": 1,
                                    "maxItems": 1,
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "coding"
                                        ],
                                        "properties": {
                                            "coding": {
                                                "type": "array",
                                                "description": "Exactly one contact relationship.",
                                                "minItems": 1,
                                                "maxItems": 1,
                                                "items": {
                                                    "type": "object",
                                                    "required": [
                                                        "code"
                                                    ],
                                                    "properties": {
                                                        "system": {
                                                            "type": "string",
                                                            "description": "URL of Code System that describes available contact relationships.",
                                                            "format": "url",
                                                            "default": "http://terminology.hl7.org/CodeSystem/v2-0131",
                                                            "readOnly": true
                                                        },
                                                        "code": {
                                                            "type": "string",
                                                            "description": "Coded value for contact relationship.",
                                                            "example": "C"
                                                        },
                                                        "display": {
                                                            "type": "string",
                                                            "description": "Display-friendly representation of the contact relationship code.",
                                                            "example": "Emergency Contact"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "telecom": {
                                    "type": "array",
                                    "description": "List of Telecom objects on the contact will only contain `system` and `value`.\n",
                                    "items": {
                                        "description": "A contact point, such as a phone number or email address",
                                        "type": "object",
                                        "required": [
                                            "system",
                                            "value"
                                        ],
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "description": "Unique object identifier for this contact point.",
                                                "readOnly": true,
                                                "example": "789"
                                            },
                                            "period": {
                                                "type": "object",
                                                "description": "Time period when name was, is, or will be in use.",
                                                "required": [
                                                    "start"
                                                ],
                                                "properties": {
                                                    "start": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                        "example": "2020-01-01"
                                                    },
                                                    "end": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                        "example": "2021-12-31"
                                                    }
                                                }
                                            },
                                            "system": {
                                                "description": "Means of communication, such as phone or email.",
                                                "type": "string",
                                                "enum": [
                                                    "phone",
                                                    "fax",
                                                    "email",
                                                    "other"
                                                ],
                                                "example": "phone"
                                            },
                                            "value": {
                                                "description": "Phone number, email address, or other identifier for use with contact system.",
                                                "type": "string",
                                                "example": "01632960587"
                                            },
                                            "use": {
                                                "type": "string",
                                                "description": "Location associated with communication system.",
                                                "enum": [
                                                    "home",
                                                    "work",
                                                    "temp",
                                                    "mobile"
                                                ],
                                                "example": "work"
                                            },
                                            "extension": {
                                                "type": "array",
                                                "maxItems": 1,
                                                "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                                "items": {
                                                    "type": "object",
                                                    "description": "Wrapped object for other contact system details.",
                                                    "properties": {
                                                        "url": {
                                                            "type": "string",
                                                            "description": "Definition of other contact system extension.",
                                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                            "enum": [
                                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                            ],
                                                            "readOnly": true
                                                        },
                                                        "valueCoding": {
                                                            "type": "object",
                                                            "description": "URL of specification of other contact systems.",
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URL of Code System that describes available contact relationships.",
                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                                    "readOnly": true
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Coded value for the other contact system in place.",
                                                                    "example": "textphone"
                                                                },
                                                                "display": {
                                                                    "description": "Display-friendly representation of the other contact system code.",
                                                                    "type": "string",
                                                                    "example": "Minicom (Textphone)"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "generalPractitioner": {
                        "type": "array",
                        "maxItems": 1,
                        "description": "General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.\n\nWhen a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.\n",
                        "items": {
                            "description": "General practice (not practitioner) with which the patient is or was registered.",
                            "type": "object",
                            "required": [
                                "identifier"
                            ],
                            "properties": {
                                "id": {
                                    "description": "Object identifier (OID) specific to the returned details - this should be return exactly the same in any update.",
                                    "type": "string",
                                    "readOnly": true,
                                    "example": "254406A3"
                                },
                                "type": {
                                    "description": "Type of Reference being returned.",
                                    "type": "string",
                                    "readOnly": true,
                                    "example": "Organization"
                                },
                                "reference": {
                                    "description": "URL for the FHIR Organization resource for the registered general practice. See [Organisation Data Service FHIR API](https://developer.nhs.uk/apis/ods/) for more details.",
                                    "type": "string",
                                    "example": "https://directory.spineservices.nhs.uk/STU3/Organization/Y12345"
                                },
                                "identifier": {
                                    "description": "Identifier and system of identification used for this Organisation.",
                                    "type": "object",
                                    "required": [
                                        "value"
                                    ],
                                    "properties": {
                                        "system": {
                                            "description": "URL for the Organisation Data Service - who are responsible for publishing codes that identify organisations and individuals across health and social care.",
                                            "type": "string",
                                            "readOnly": true,
                                            "example": "https://fhir.nhs.uk/Id/ods-organization-code"
                                        },
                                        "value": {
                                            "description": "Organisation code for the registered general practice, as held in the [Organisation Data Service](https://developer.nhs.uk/apis/ods/).",
                                            "type": "string",
                                            "pattern": "^[0-9A-Z]+$",
                                            "example": "Y12345"
                                        },
                                        "period": {
                                            "type": "object",
                                            "description": "Time period when name was, is, or will be in use.",
                                            "required": [
                                                "start"
                                            ],
                                            "properties": {
                                                "start": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                                    "example": "2020-01-01"
                                                },
                                                "end": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                                    "example": "2021-12-31"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "extension": {
                        "type": "array",
                        "description": "Wrapper array for the patient's death notification status; this is a FHIR extension. Always contains zero or one death notification status object.\n",
                        "items": {
                            "anyOf": [
                                {
                                    "type": "object",
                                    "description": "Wrapper object for death notification details.",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of death notification extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Array containing exactly one death notification status code object and exactly one effective date object.",
                                            "minItems": 1,
                                            "maxItems": 2,
                                            "items": {
                                                "oneOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification status code.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `deathNotificationStatus`.",
                                                                "default": "deathNotificationStatus",
                                                                "enum": [
                                                                    "deathNotificationStatus"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Death Notification Status.",
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "system",
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "description": "URI of the coding system specification.",
                                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus"
                                                                                },
                                                                                "version": {
                                                                                    "type": "string",
                                                                                    "description": "Version of the coding system in use.",
                                                                                    "example": "1.0.0"
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "Symbol, in syntax, defined by the system:\n* `1` - Informal - death notice received via an update from a local NHS Organisation such as GP or Trust\n* `2` - Formal - death notice received from Registrar of Deaths. Only these endpoints are allowed to add a Formal death:\n    - National Back Office using the Demographic Spine Application (DSA)\n    - Office of National Statistics (ONS)\n    - Maternity sites\n* `U` - Removed. This is a possible response, but it cannot be used on an update because Spine will reject it\n",
                                                                                    "example": "2",
                                                                                    "enum": [
                                                                                        "1",
                                                                                        "2",
                                                                                        "U"
                                                                                    ]
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Representation defined by the system.",
                                                                                    "example": "Formal - death notice received from Registrar of Deaths",
                                                                                    "enum": [
                                                                                        "Informal - death notice received via an update from a local NHS Organisation such as GP or Trust",
                                                                                        "Formal - death notice received from Registrar of Deaths",
                                                                                        "Removed"
                                                                                    ]
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for death notification effective date.",
                                                        "required": [
                                                            "url",
                                                            "valueDateTime"
                                                        ],
                                                        "readOnly": true,
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `systemEffectiveDate`.",
                                                                "default": "systemEffectiveDate",
                                                                "enum": [
                                                                    "systemEffectiveDate"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueDateTime": {
                                                                "type": "string",
                                                                "description": "Date and time at which death notification status took effect.",
                                                                "format": "date-time",
                                                                "example": "2010-10-22T00:00:00+00:00",
                                                                "readOnly": true
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "RelatedPerson": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "patient",
                    "relationship"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "Unique object identifier for this name.",
                        "readOnly": true,
                        "example": "507B7621"
                    },
                    "resourceType": {
                        "type": "string",
                        "description": "FHIR resource type.",
                        "default": "RelatedPerson",
                        "readOnly": true
                    },
                    "patient": {
                        "type": "object",
                        "required": [
                            "type"
                        ],
                        "properties": {
                            "type": {
                                "type": "string",
                                "default": "Patient",
                                "enum": [
                                    "Patient"
                                ],
                                "readOnly": true
                            },
                            "identifier": {
                                "type": "object",
                                "description": "Identifier and system of identification used for this Patient.\n\nThis is an optional field as related person details are either a reference to another NHS Number, or the details, such as name and adress, stored directly on the resource.\n",
                                "properties": {
                                    "system": {
                                        "type": "string",
                                        "description": "URL for the Patient retrieval API.",
                                        "format": "url",
                                        "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient",
                                        "readOnly": true
                                    },
                                    "value": {
                                        "type": "string",
                                        "description": "NHS Number for the related person",
                                        "example": "90000000009",
                                        "pattern": "^\\d{10}$"
                                    }
                                }
                            },
                            "reference": {
                                "type": "string",
                                "description": "URL for the FHIR Patient resource.",
                                "format": "url",
                                "example": "https://beta.api.digital.nhs.uk/personal-demographics/Patient/90000000009",
                                "readOnly": true
                            }
                        }
                    },
                    "active": {
                        "type": "boolean",
                        "default": true,
                        "readOnly": true
                    },
                    "period": {
                        "type": "object",
                        "description": "Time period when name was, is, or will be in use.",
                        "required": [
                            "start"
                        ],
                        "properties": {
                            "start": {
                                "type": "string",
                                "format": "date",
                                "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                "example": "2020-01-01"
                            },
                            "end": {
                                "type": "string",
                                "format": "date",
                                "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                "example": "2021-12-31"
                            }
                        }
                    },
                    "name": {
                        "type": "array",
                        "description": "List containing zero or one name associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n\nIf no `patient` reference is available `name` and `address` must be provided at the minimum.\n",
                        "maxItems": 1,
                        "items": {
                            "type": "object",
                            "required": [
                                "use",
                                "family"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this name.",
                                    "readOnly": true,
                                    "example": "123"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "How this name should be used.\n* usual - Known as, conventional or the one patient normally uses. A patient will always have a usual name.\n* temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.\n* nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.\n* old - This name is no longer in use (or was never correct, but retained for records).\n* maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.\n\nThe following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and will not be returned as part of a retrieval.\n* official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called \"legal name\".\n* anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).\n",
                                    "enum": [
                                        "usual",
                                        "temp",
                                        "nickname",
                                        "old",
                                        "maiden"
                                    ],
                                    "example": "usual"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "given": {
                                    "type": "array",
                                    "maxItems": 5,
                                    "description": "Given names, including any middle names.\n\nEach name should be a separate item in the list and should not contain spaces; for example `Jane Adele` should be broken down into two list items `Jane` and `Adele`.\n",
                                    "example": [
                                        "Jane",
                                        "Adele"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "maxLength": 35,
                                        "example": "Jane"
                                    }
                                },
                                "family": {
                                    "type": "string",
                                    "maxLength": 35,
                                    "description": "Family name (often called Surname).",
                                    "example": "Smith"
                                },
                                "prefix": {
                                    "type": "array",
                                    "description": "Name prefixes, titles, and prenominals.",
                                    "example": [
                                        "Mrs"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "Mrs"
                                    }
                                },
                                "suffix": {
                                    "type": "array",
                                    "description": "Name suffices and postnominals.",
                                    "example": [
                                        "MBE",
                                        "PhD"
                                    ],
                                    "items": {
                                        "type": "string",
                                        "example": "MBE"
                                    }
                                }
                            }
                        }
                    },
                    "address": {
                        "type": "array",
                        "description": "List containing zero or one address associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n\nIf no `patient` reference is available `name` and `address` must be provided at the minimum.\n",
                        "maxItems": 1,
                        "items": {
                            "type": "object",
                            "description": "An address associated with the patient.",
                            "required": [
                                "use"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique system identifier for this address.",
                                    "readOnly": true,
                                    "example": "456"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Purpose of this address:\n* home - a communication address at a home.\n* work - an office address. First choice for business related contacts during business hours.\n* temp - a temporary address. The period can provide more detailed information.\n* billing - a corresponding address nominated by the patient where communication can be sent.\n",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "billing"
                                    ],
                                    "example": "home"
                                },
                                "line": {
                                    "type": "array",
                                    "description": "All lines of the address except the postal code.",
                                    "maxItems": 5,
                                    "items": {
                                        "type": "string"
                                    },
                                    "example": [
                                        "1 Trevelyan Square",
                                        "Boar Lane",
                                        "City Centre",
                                        "Leeds",
                                        "West Yorkshire"
                                    ]
                                },
                                "postalCode": {
                                    "type": "string",
                                    "description": "Postal code of the address.",
                                    "example": "LS1 6AE"
                                },
                                "extension": {
                                    "type": "array",
                                    "description": "Postal Address File (PAF) key associated with this address formatted as a FHIR extension. Empty if no PAF key for the address is known, or an object specifying the code system of the address key and the value of the address key.",
                                    "items": {
                                        "type": "object",
                                        "description": "Unique identifier for an address.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "URL of specification of the AddressKey extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey"
                                                ],
                                                "readOnly": true
                                            },
                                            "extension": {
                                                "type": "array",
                                                "description": "Specification of address key system and address key value. Contains exactly two items: one describing the code system the Address Key uses, and the other specifying the value of the Address Key.",
                                                "minItems": 2,
                                                "maxItems": 2,
                                                "items": {
                                                    "anyOf": [
                                                        {
                                                            "type": "object",
                                                            "description": "Coding system of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueCoding"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'type'.",
                                                                    "default": "type",
                                                                    "readOnly": true
                                                                },
                                                                "valueCoding": {
                                                                    "type": "object",
                                                                    "description": "URL of specification of address key format.",
                                                                    "required": [
                                                                        "system",
                                                                        "code"
                                                                    ],
                                                                    "properties": {
                                                                        "system": {
                                                                            "type": "string",
                                                                            "description": "URL of Code System that describes available Address Key formats.",
                                                                            "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType",
                                                                            "readOnly": true
                                                                        },
                                                                        "code": {
                                                                            "type": "string",
                                                                            "description": "Address Key system. Always 'PAF'.",
                                                                            "default": "PAF",
                                                                            "example": "PAF",
                                                                            "readOnly": true
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "type": "object",
                                                            "description": "Value of the address key.",
                                                            "required": [
                                                                "url",
                                                                "valueString"
                                                            ],
                                                            "properties": {
                                                                "url": {
                                                                    "type": "string",
                                                                    "description": "Always 'value'.",
                                                                    "default": "value",
                                                                    "example": "value",
                                                                    "readOnly": true
                                                                },
                                                                "valueString": {
                                                                    "type": "string",
                                                                    "description": "Address key in PAF format. An 8 digit number including leading zeroes, formatted as a string.",
                                                                    "minLength": 8,
                                                                    "maxLength": 8,
                                                                    "pattern": "^[0-9]{8}$",
                                                                    "example": "12345678"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "telecom": {
                        "type": "array",
                        "description": "List containing zero to five contact methods associated with the related person.\n\nThis is an optional field as there may be a `patient` reference which can be used to retrieve any details about the related person.\n",
                        "maxItems": 5,
                        "items": {
                            "description": "A contact point, such as a phone number or email address",
                            "type": "object",
                            "required": [
                                "system",
                                "value"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Unique object identifier for this contact point.",
                                    "readOnly": true,
                                    "example": "789"
                                },
                                "period": {
                                    "type": "object",
                                    "description": "Time period when name was, is, or will be in use.",
                                    "required": [
                                        "start"
                                    ],
                                    "properties": {
                                        "start": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Start date of time period, if known, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2020-01-01"
                                        },
                                        "end": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "End date of time period, if known and if not ongoing, in format `yyyy-mm-dd`. Can be a future date.",
                                            "example": "2021-12-31"
                                        }
                                    }
                                },
                                "system": {
                                    "description": "Means of communication, such as phone or email.",
                                    "type": "string",
                                    "enum": [
                                        "phone",
                                        "fax",
                                        "email",
                                        "other"
                                    ],
                                    "example": "phone"
                                },
                                "value": {
                                    "description": "Phone number, email address, or other identifier for use with contact system.",
                                    "type": "string",
                                    "example": "01632960587"
                                },
                                "use": {
                                    "type": "string",
                                    "description": "Location associated with communication system.",
                                    "enum": [
                                        "home",
                                        "work",
                                        "temp",
                                        "mobile"
                                    ],
                                    "example": "work"
                                },
                                "extension": {
                                    "type": "array",
                                    "maxItems": 1,
                                    "description": "Extension that will only be returned when the communication type is `textphone`. The only code that will be returned is `textphone`, which means `Minicom (Textphone)`.\n\nThe `system` will only ever be `other` when the extension is included.\n",
                                    "items": {
                                        "type": "object",
                                        "description": "Wrapped object for other contact system details.",
                                        "properties": {
                                            "url": {
                                                "type": "string",
                                                "description": "Definition of other contact system extension.",
                                                "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem",
                                                "enum": [
                                                    "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem"
                                                ],
                                                "readOnly": true
                                            },
                                            "valueCoding": {
                                                "type": "object",
                                                "description": "URL of specification of other contact systems.",
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "description": "URL of Code System that describes available contact relationships.",
                                                        "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem",
                                                        "readOnly": true
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "Coded value for the other contact system in place.",
                                                        "example": "textphone"
                                                    },
                                                    "display": {
                                                        "description": "Display-friendly representation of the other contact system code.",
                                                        "type": "string",
                                                        "example": "Minicom (Textphone)"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "relationship": {
                        "type": "array",
                        "description": "The relationship of the related person to the patient.\n",
                        "minItems": 1,
                        "maxItems": 1,
                        "items": {
                            "type": "object",
                            "required": [
                                "coding"
                            ],
                            "properties": {
                                "coding": {
                                    "type": "array",
                                    "description": "Coded values for three relationship types:\n* Role\n* Type\n* Next-of-Kin\n\nThe codes used can be found at:\n* http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype\n* https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole\n\nThe allowed values for `Role` are:\n* Agent - Agent of patient\n* Guardian - Guardian of patient\n* Personal - Personal relationship with the patient\n\nThe allowed values for `Type` are:\n* SPS - spouse\n* DOMPART - domestic partner\n* PRN - parent\n* PRNFOST - foster parent\n* STPPRN - step parent\n* CHILD - child\n* MTH - mother\n* FTH - father\n* SIS - sister\n* BRO - brother\n* FAMMEMB - family member\n* ONESELF - self\n* N - Next-of-Kin\n* U - Unknown\n* PolygamousPartner - Polygamous Partner of patient\n* Dependant - Dependant of patient\n* NonDependant - Non Dependant of patient\n* ProxyContact - Proxy Contact for patient\n* ProxyCommunication - Proxy Communication for patient\n* ProxyContactCommunication - Proxy Contact and Communication for patient\n* Carer - Carer of patient\n* Guardian - Guardian of patient\n* NotSpecified - Not Specified\n\nThe allowed values for `Next-of-Kin` are:\n* N - Next-of-Kin\n\n`Role` and `Type` are mandatory, so both should be present - however they both contain the `Guardian` code - so a single response is possible.\n\n`Next-of-Kin` is optional and will be absent from the response when the related person is not the Next-of-Kin.\n",
                                    "minItems": 1,
                                    "maxItems": 3,
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "system",
                                            "code"
                                        ],
                                        "properties": {
                                            "system": {
                                                "type": "string",
                                                "description": "URI of the coding system specification.",
                                                "format": "url",
                                                "readOnly": true,
                                                "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole",
                                                "enum": [
                                                    "http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype",
                                                    "https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole"
                                                ]
                                            },
                                            "code": {
                                                "type": "string",
                                                "description": "Symbol in syntax defined by the system.",
                                                "example": "Guardian"
                                            },
                                            "display": {
                                                "type": "string",
                                                "description": "Human-friendly display representation defined by the system.",
                                                "example": "Guardian of patient"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "extension": {
                        "type": "array",
                        "description": "Wrapper array for copy correspondence, contact rank, contact preferences and communication details; these are all FHIR extensions. Always contains zero or one of each extension type.\n",
                        "items": {
                            "anyOf": [
                                {
                                    "type": "object",
                                    "description": "Flag indicating if this person should be copied in on any contact with the Patient. This will only be returned if the value is true and the person should be copied in on correspondence, otherwise it will be omitted. \n",
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "format": "url",
                                            "description": "URL to FHIR Extension Specification.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator"
                                            ],
                                            "readOnly": true
                                        },
                                        "valueBoolean": {
                                            "type": "boolean",
                                            "description": "Flag indicating if this person should be copied in on correspondence. This will only be returned if the value is `true` otherwise it will not be returned and can be assumed `false`",
                                            "example": true
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Rank indicating order in which contacts should be tried.",
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "format": "url",
                                            "description": "URL to FHIR Extension Specification.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank"
                                            ],
                                            "readOnly": true
                                        },
                                        "valuePositiveInt": {
                                            "type": "integer",
                                            "minimum": 1,
                                            "maximum": 99,
                                            "description": "Rank expressed as positive integer (1 being the highest).",
                                            "example": 1
                                        }
                                    }
                                },
                                {
                                    "title": "Wrapper object for preferred contact details; the written communication format, preferred contact time and method. This will only be populated on a retrieval and not a search.",
                                    "type": "object",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of the contact preference extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "description": "Wrapper array containing zero or one preferred contact method, zero or one preferred written communication format; and zero or one preferred contact time.",
                                            "type": "array",
                                            "maxItems": 3,
                                            "items": {
                                                "oneOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred written communication format.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredWrittenCommunicationFormat`.",
                                                                "default": "PreferredWrittenCommunicationFormat",
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Preferred Written Communication Format.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "Definition of the preferred written communication extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "A code to identify the preferred written communication format of a patient, contact or related person.\n* 11 - Large print\n* 12 - Braille\n* 13 - Audio tape\n",
                                                                                    "example": "12"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the preferred written communication format code.",
                                                                                    "example": "Braille"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred contact method.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredContactMethod`.",
                                                                "default": "PreferredContactMethod",
                                                                "enum": [
                                                                    "PreferredContactMethod"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Preferred Contact Method.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "format": "url",
                                                                                    "description": "Definition of the preferred contact method extension.",
                                                                                    "default": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod",
                                                                                    "enum": [
                                                                                        "https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod"
                                                                                    ],
                                                                                    "readOnly": true
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "A code to identify to identify the preferred contact method of a patient, contact or related person.\n* 1\t- Letter\n* 2\t- Visit\n* 3\t- Telephone\n* 4\t- E-mail\n* 5\t- Minicom (Textphone)\n* 6\t- Telephone contact via proxy\n* 7\t- Sign language\n* 8\t- No Telephone contact\n",
                                                                                    "example": "1"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the preferred contact method code.",
                                                                                    "example": "Letter"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for preferred contact times.",
                                                        "required": [
                                                            "url",
                                                            "valueString"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `PreferredContactTimes`.",
                                                                "default": "PreferredContactTimes",
                                                                "enum": [
                                                                    "PreferredContactTimes"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueString": {
                                                                "type": "string",
                                                                "maximum": 40,
                                                                "description": "A free-text description about the preferred contact times.",
                                                                "example": "Not after 7pm"
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "object",
                                    "description": "Wrapper object for communication details. This will only be populated on a retrieval and not a search.",
                                    "required": [
                                        "url",
                                        "extension"
                                    ],
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "description": "Definition of communication extension.",
                                            "default": "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication",
                                            "enum": [
                                                "https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication"
                                            ],
                                            "readOnly": true
                                        },
                                        "extension": {
                                            "type": "array",
                                            "description": "Definition of communication extension, The array must have two items, a valueCodeableConcept for the language and a valueBoolean for if an interpreter is required.",
                                            "minItems": 1,
                                            "maxItems": 2,
                                            "items": {
                                                "anyOf": [
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for communication language.",
                                                        "required": [
                                                            "url",
                                                            "valueCodeableConcept"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `language`.",
                                                                "default": "language",
                                                                "enum": [
                                                                    "language"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueCodeableConcept": {
                                                                "type": "object",
                                                                "description": "Human language.",
                                                                "required": [
                                                                    "coding"
                                                                ],
                                                                "properties": {
                                                                    "coding": {
                                                                        "type": "array",
                                                                        "description": "Exactly one language code.",
                                                                        "minItems": 1,
                                                                        "maxItems": 1,
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "code"
                                                                            ],
                                                                            "properties": {
                                                                                "system": {
                                                                                    "type": "string",
                                                                                    "description": "URL of the Language Code System. Always uses the 'UKCore-HumanLanguage' Code System.",
                                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage",
                                                                                    "readOnly": true
                                                                                },
                                                                                "version": {
                                                                                    "type": "string",
                                                                                    "description": "Version of the language code system.",
                                                                                    "example": "1.0.0"
                                                                                },
                                                                                "code": {
                                                                                    "type": "string",
                                                                                    "description": "Language code based on [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) standard plus extensions for braille, makaton and sign languages, which are:\n* `q1` - Braille\n* `q2` - American Sign Language\n* `q3` - Australian Sign Language\n* `q4` - British Sign Language\n* `q5` - Makaton\nAll valid codes combined can be found at https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage.\n",
                                                                                    "example": "fr"
                                                                                },
                                                                                "display": {
                                                                                    "type": "string",
                                                                                    "description": "Display-friendly representation of the language code (such as English). If there is a language code with no defined mapping, `Unknown` will be returned.",
                                                                                    "example": "French"
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "type": "object",
                                                        "description": "Wrapper object for whether an interpreter is required.",
                                                        "required": [
                                                            "url",
                                                            "valueBoolean"
                                                        ],
                                                        "properties": {
                                                            "url": {
                                                                "type": "string",
                                                                "description": "Key of this object. Always `interpreterRequired`.",
                                                                "default": "interpreterRequired",
                                                                "enum": [
                                                                    "interpreterRequired"
                                                                ],
                                                                "readOnly": true
                                                            },
                                                            "valueBoolean": {
                                                                "type": "boolean",
                                                                "description": "Whether an interpreter is required.",
                                                                "example": true
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "OperationOutcome": {
                "type": "object",
                "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                "properties": {
                    "resourceType": {
                        "type": "string",
                        "description": "FHIR Resource Type.",
                        "default": "OperationOutcome",
                        "readOnly": true
                    },
                    "issue": {
                        "type": "array",
                        "description": "List of issues that have occurred.",
                        "minItems": 1,
                        "items": {
                            "type": "object",
                            "required": [
                                "severity",
                                "code"
                            ],
                            "properties": {
                                "severity": {
                                    "type": "string",
                                    "enum": [
                                        "fatal",
                                        "error",
                                        "warning",
                                        "information"
                                    ],
                                    "description": "Severity of the error.",
                                    "example": "error"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "FHIR error code.",
                                    "example": "invalid",
                                    "enum": [
                                        "invalid",
                                        "structure",
                                        "required",
                                        "value",
                                        "invariant",
                                        "security",
                                        "login",
                                        "unknown",
                                        "expired",
                                        "forbidden",
                                        "suppressed",
                                        "processing",
                                        "not-supported",
                                        "duplicate",
                                        "multiple-matches",
                                        "not-found",
                                        "deleted",
                                        "too-long",
                                        "code-invalid",
                                        "extension",
                                        "too-costly",
                                        "business-rule",
                                        "conflict",
                                        "transient",
                                        "lock-error",
                                        "no-store",
                                        "exception",
                                        "timeout",
                                        "incomplete",
                                        "throttled",
                                        "informational"
                                    ]
                                },
                                "details": {
                                    "type": "object",
                                    "description": "Internal error code.",
                                    "properties": {
                                        "coding": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "readOnly": true,
                                                "properties": {
                                                    "system": {
                                                        "type": "string",
                                                        "description": "URI of the coding system specification.",
                                                        "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                    },
                                                    "version": {
                                                        "type": "string",
                                                        "description": "Version of the coding system in use.",
                                                        "example": "1"
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "description": "Symbol in syntax defined by the system.",
                                                        "example": "INVALID_VALUE"
                                                    },
                                                    "display": {
                                                        "type": "string",
                                                        "description": "Representation defined by the system.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "expression": {
                                    "type": "string",
                                    "description": "FHIRPath of element(s) related to the error.",
                                    "example": "Patient.name.given"
                                }
                            }
                        }
                    }
                }
            }
        },
        "responses": {
            "412PreconditionFailed": {
                "description": "Precondition failed.\n\nThe version identifier submitted in the `If-Match` header was not the latest version of the resource.\n",
                "content": {
                    "application/fhir+json": {
                        "schema": {
                            "type": "object",
                            "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                            "properties": {
                                "resourceType": {
                                    "type": "string",
                                    "description": "FHIR Resource Type.",
                                    "default": "OperationOutcome",
                                    "readOnly": true
                                },
                                "issue": {
                                    "type": "array",
                                    "description": "List of issues that have occurred.",
                                    "minItems": 1,
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "severity",
                                            "code"
                                        ],
                                        "properties": {
                                            "severity": {
                                                "type": "string",
                                                "enum": [
                                                    "fatal",
                                                    "error",
                                                    "warning",
                                                    "information"
                                                ],
                                                "description": "Severity of the error.",
                                                "example": "error"
                                            },
                                            "code": {
                                                "type": "string",
                                                "description": "FHIR error code.",
                                                "example": "invalid",
                                                "enum": [
                                                    "invalid",
                                                    "structure",
                                                    "required",
                                                    "value",
                                                    "invariant",
                                                    "security",
                                                    "login",
                                                    "unknown",
                                                    "expired",
                                                    "forbidden",
                                                    "suppressed",
                                                    "processing",
                                                    "not-supported",
                                                    "duplicate",
                                                    "multiple-matches",
                                                    "not-found",
                                                    "deleted",
                                                    "too-long",
                                                    "code-invalid",
                                                    "extension",
                                                    "too-costly",
                                                    "business-rule",
                                                    "conflict",
                                                    "transient",
                                                    "lock-error",
                                                    "no-store",
                                                    "exception",
                                                    "timeout",
                                                    "incomplete",
                                                    "throttled",
                                                    "informational"
                                                ]
                                            },
                                            "details": {
                                                "type": "object",
                                                "description": "Internal error code.",
                                                "properties": {
                                                    "coding": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "readOnly": true,
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URI of the coding system specification.",
                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                },
                                                                "version": {
                                                                    "type": "string",
                                                                    "description": "Version of the coding system in use.",
                                                                    "example": "1"
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Symbol in syntax defined by the system.",
                                                                    "example": "INVALID_VALUE"
                                                                },
                                                                "display": {
                                                                    "type": "string",
                                                                    "description": "Representation defined by the system.",
                                                                    "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "expression": {
                                                "type": "string",
                                                "description": "FHIRPath of element(s) related to the error.",
                                                "example": "Patient.name.given"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "examples": {
                            "invalid-if-match": {
                                "summary": "Invalid If-Match header",
                                "value": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "structure",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "PRECONDITION_FAILED",
                                                        "display": "Invalid update with error - This resource has changed since you last read. Please re-read and try again with the new version number."
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            },
                            "missing-if-match": {
                                "summary": "Missing If-Match header",
                                "value": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "required",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "PRECONDITION_FAILED",
                                                        "display": "Invalid update with error - If-Match header must be supplied to update this resource"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "409Conflict": {
                "description": "Version Conflict.\n\nThe version identifier submitted in the `If-Match` header was not the latest version of the resource.\n",
                "content": {
                    "application/fhir+json": {
                        "schema": {
                            "type": "object",
                            "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. |\n| FAILURE_TO_PROCESS_MESSAGE | 500           | A default message when something really bad has happened that the system could not handle.\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nSearch outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| INVALID_SEARCH_DATA\t       | 400           | The search parameters are invalid. A description of what exactly is at fault will be added to the display. |\n| TOO_MANY_MATCHES           | 200           | Too many matches were found - user should be told to refine their search parameters.\t|\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n",
                            "properties": {
                                "resourceType": {
                                    "type": "string",
                                    "description": "FHIR Resource Type.",
                                    "default": "OperationOutcome",
                                    "readOnly": true
                                },
                                "issue": {
                                    "type": "array",
                                    "description": "List of issues that have occurred.",
                                    "minItems": 1,
                                    "items": {
                                        "type": "object",
                                        "required": [
                                            "severity",
                                            "code"
                                        ],
                                        "properties": {
                                            "severity": {
                                                "type": "string",
                                                "enum": [
                                                    "fatal",
                                                    "error",
                                                    "warning",
                                                    "information"
                                                ],
                                                "description": "Severity of the error.",
                                                "example": "error"
                                            },
                                            "code": {
                                                "type": "string",
                                                "description": "FHIR error code.",
                                                "example": "invalid",
                                                "enum": [
                                                    "invalid",
                                                    "structure",
                                                    "required",
                                                    "value",
                                                    "invariant",
                                                    "security",
                                                    "login",
                                                    "unknown",
                                                    "expired",
                                                    "forbidden",
                                                    "suppressed",
                                                    "processing",
                                                    "not-supported",
                                                    "duplicate",
                                                    "multiple-matches",
                                                    "not-found",
                                                    "deleted",
                                                    "too-long",
                                                    "code-invalid",
                                                    "extension",
                                                    "too-costly",
                                                    "business-rule",
                                                    "conflict",
                                                    "transient",
                                                    "lock-error",
                                                    "no-store",
                                                    "exception",
                                                    "timeout",
                                                    "incomplete",
                                                    "throttled",
                                                    "informational"
                                                ]
                                            },
                                            "details": {
                                                "type": "object",
                                                "description": "Internal error code.",
                                                "properties": {
                                                    "coding": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "readOnly": true,
                                                            "properties": {
                                                                "system": {
                                                                    "type": "string",
                                                                    "description": "URI of the coding system specification.",
                                                                    "example": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode"
                                                                },
                                                                "version": {
                                                                    "type": "string",
                                                                    "description": "Version of the coding system in use.",
                                                                    "example": "1"
                                                                },
                                                                "code": {
                                                                    "type": "string",
                                                                    "description": "Symbol in syntax defined by the system.",
                                                                    "example": "INVALID_VALUE"
                                                                },
                                                                "display": {
                                                                    "type": "string",
                                                                    "description": "Representation defined by the system.",
                                                                    "example": "Invalid value - 2019-01 in field 'birthDate'"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "expression": {
                                                "type": "string",
                                                "description": "FHIRPath of element(s) related to the error.",
                                                "example": "Patient.name.given"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "examples": {
                            "version-mismatch": {
                                "summary": "Version mis-match",
                                "value": {
                                    "resourceType": "OperationOutcome",
                                    "issue": [
                                        {
                                            "severity": "error",
                                            "code": "conflict",
                                            "details": {
                                                "coding": [
                                                    {
                                                        "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
                                                        "version": "1",
                                                        "code": "RESOURCE_VERSION_MISMATCH",
                                                        "display": "Resource version supplied does not match actual version"
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
