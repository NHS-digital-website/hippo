!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return r}));let i=null;class r{constructor(){return i||(this.hostEl=document.querySelector("#nhsd-global-header"),this.hostEl&&(i=this,this.init()),null)}init(){this.html=document.querySelector("html"),this.body=document.body,this.logoEl=this.hostEl.querySelector("#nhsd-global-header__logo"),this.menuBarEl=this.hostEl.querySelector("#nhsd-global-header__menu"),this.searchInput=this.hostEl.querySelector("#query"),this.cachedProps={html:{overflow:this.html.style.overflow,height:this.html.style.height},body:{overflow:this.html.style.overflow,height:this.html.style.height}},this.initMenuBar(),this.initSearchBar(),window.addEventListener("resize",()=>{window.innerWidth>=1240&&this.menuBarActive&&this.closeMenuBar()})}initMenuBar(){this.menuButtonEl=this.hostEl.querySelector("#nhsd-global-header__menu-button"),this.menuButtonEl.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.menuBarActive?this.closeMenuBar():this.openMenuBar(),this.searchBarActive&&this.closeSearchBar()}),this.menuCloseButtonEl=this.hostEl.querySelector("#nhsd-global-header__menu-close-button"),this.menuCloseButtonEl.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.closeMenuBar()})}initSearchBar(){this.searchButtonEl=this.hostEl.querySelector("#nhsd-global-header__search-button"),this.searchButtonEl.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.searchBarActive?this.closeSearchBar():this.openSearchBar(),this.menuBarActive&&this.closeMenuBar()}),this.searchCloseButtonEl=this.hostEl.querySelector("#nhsd-global-header__search-close-button"),this.searchCloseButtonEl.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.closeSearchBar()})}openMenuBar(){this.hostEl.classList.add("js-menu-active"),this.menuButtonEl.classList.add("js-active"),this.menuBarActive=!0,this.menuButtonEl.setAttribute("aria-expanded",!0),this.setTabIndexes(),this.setDocumentScrolling()}closeMenuBar(){this.hostEl.classList.remove("js-menu-active"),this.menuButtonEl.classList.remove("js-active"),this.menuBarActive=!1,this.menuButtonEl.setAttribute("aria-expanded",!1),this.setTabIndexes(),this.setDocumentScrolling()}openSearchBar(){this.hostEl.classList.add("js-search-active"),this.searchButtonEl.classList.add("js-active"),this.searchButtonEl.blur(),this.searchInput.focus(),this.searchButtonEl.setAttribute("aria-expanded",!0),this.searchBarActive=!0,this.setDocumentScrolling()}closeSearchBar(){this.hostEl.classList.remove("js-search-active"),this.searchButtonEl.classList.remove("js-active"),this.searchButtonEl.blur(),this.searchButtonEl.setAttribute("aria-expanded",!1),this.searchBarActive=!1,this.setDocumentScrolling()}setDocumentScrolling(){this.hostEl.classList.contains("js-menu-active")||this.hostEl.classList.contains("js-search-active")?(this.html.style.overflow="hidden",this.body.style.overflow="hidden",this.html.style.height="100%",this.body.style.height="100%"):(this.html.style.overflow=this.cachedProps.html.overflow?this.cachedProps.html.overflow:null,this.html.style.height=this.cachedProps.html.height?this.cachedProps.html.height:null,this.body.style.overflow=this.cachedProps.body.overflow?this.cachedProps.body.overflow:null,this.body.style.height=this.cachedProps.body.height?this.cachedProps.body.height:null)}setTabIndexes(){const t=Array.from(this.menuBarEl.querySelectorAll(".nhsd-a-menu-item"));if(this.menuBarActive){let e=0;this.logoEl.setAttribute("tabindex",e+=1),this.searchButtonEl.setAttribute("tabindex",e+=1),this.menuButtonEl.setAttribute("tabindex",e+=1),this.menuCloseButtonEl.setAttribute("tabindex",e+=1),t.forEach((t,s)=>{t.setAttribute("tabindex",e+=s+1)})}else this.logoEl.removeAttribute("tabindex"),this.searchButtonEl.removeAttribute("tabindex"),this.menuButtonEl.removeAttribute("tabindex"),this.menuCloseButtonEl.removeAttribute("tabindex"),t.forEach(t=>{t.removeAttribute("tabindex")})}}},function(t,e,s){s(2),t.exports=s(0)},function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return o}));var i=s(0);let r=null;class o{constructor(){var t;return null,(t="globalHeader")in this?Object.defineProperty(this,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[t]=null,r||(r=this,this.init()),r}init(){window.addEventListener("load",()=>{document.querySelector("html").classList.remove("nhsd-no-js"),this.globalHeader=new i.default})}}new o}]);
